"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[68647],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>k});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),u=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},p=function(t){var e=u(t.components);return n.createElement(s.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},d=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),d=u(a),k=r,g=d["".concat(s,".").concat(k)]||d[k]||m[k]||l;return a?n.createElement(g,i(i({ref:e},p),{},{components:a})):n.createElement(g,i({ref:e},p))}));function k(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=d;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var u=2;u<l;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},75265:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var n=a(87462),r=(a(67294),a(3905));const l={title:"Installation"},i=void 0,o={unversionedId:"getting-started/getting-started-with-kusion-server/installation",id:"version-v0.14/getting-started/getting-started-with-kusion-server/installation",title:"Installation",description:"Install with Helm",source:"@site/docs_versioned_docs/version-v0.14/2-getting-started/3-getting-started-with-kusion-server/0-installation.md",sourceDirName:"2-getting-started/3-getting-started-with-kusion-server",slug:"/getting-started/getting-started-with-kusion-server/installation",permalink:"/docs/getting-started/getting-started-with-kusion-server/installation",draft:!1,editUrl:"https://github.com/KusionStack/kusionstack.io/blob/main/docs_versioned_docs/version-v0.14/2-getting-started/3-getting-started-with-kusion-server/0-installation.md",tags:[],version:"v0.14",lastUpdatedBy:"Yang Yang",lastUpdatedAt:1737555009,formattedLastUpdatedAt:"Jan 22, 2025",sidebarPosition:0,frontMatter:{title:"Installation"},sidebar:"kusion",previous:{title:"Run Your First App on Kubernetes with Kusion CLI",permalink:"/docs/getting-started/getting-started-with-kusion-cli/deliver-quickstart"},next:{title:"Run Your First App on Kubernetes with Kusion Server",permalink:"/docs/getting-started/getting-started-with-kusion-server/deliver-quickstart"}},s={},u=[{value:"Install with Helm",id:"install-with-helm",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installation Options",id:"installation-options",level:3},{value:"1. Using the installation script (recommended)",id:"1-using-the-installation-script-recommended",level:4},{value:"2. Remote installation with Helm",id:"2-remote-installation-with-helm",level:4},{value:"Search all available versions",id:"search-all-available-versions",level:3},{value:"Upgrade specified version",id:"upgrade-specified-version",level:3},{value:"Local Installation",id:"local-installation",level:3},{value:"Uninstall",id:"uninstall",level:3},{value:"Image Registry Proxy for China",id:"image-registry-proxy-for-china",level:3},{value:"Chart Parameters",id:"chart-parameters",level:2},{value:"General Parameters",id:"general-parameters",level:3},{value:"Global Parameters",id:"global-parameters",level:3},{value:"Kusion Server",id:"kusion-server",level:3},{value:"MySQL Database",id:"mysql-database",level:3},{value:"KubeConfig",id:"kubeconfig",level:3}],p={toc:u};function m(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"install-with-helm"},"Install with Helm"),(0,r.kt)("p",null,"If you have a Kubernetes cluster, Helm is the recommended installation method."),(0,r.kt)("p",null,"The following tutorial will guide you to install Kusion using Helm, which will install the chart with the release name ",(0,r.kt)("inlineCode",{parentName:"p"},"kusion-release")," in namespace ",(0,r.kt)("inlineCode",{parentName:"p"},"kusion"),"."),(0,r.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Helm v3+"),(0,r.kt)("li",{parentName:"ul"},"A Kubernetes Cluster (The simplest way is to deploy a Kubernetes cluster locally using ",(0,r.kt)("inlineCode",{parentName:"li"},"kind")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"minikube"),")")),(0,r.kt)("h3",{id:"installation-options"},"Installation Options"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Important:")," Kusion requires a valid kubeconfig configuration to function properly. You can provide it via:"),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"Installation script (recommended)"),(0,r.kt)("li",{parentName:"ul"},"Custom values.yaml file"),(0,r.kt)("li",{parentName:"ul"},"Helm --set parameter"))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note:")," Default kubeconfig path is ",(0,r.kt)("inlineCode",{parentName:"p"},"/var/run/secrets/kubernetes.io/kubeconfigs/"),"\nTo use a different path, set ",(0,r.kt)("inlineCode",{parentName:"p"},"kubeconfig.kubeConfigVolumeMountPath")," to your desired path.")),(0,r.kt)("p",null,"You have several options to install Kusion:"),(0,r.kt)("h4",{id:"1-using-the-installation-script-recommended"},"1. Using the installation script (recommended)"),(0,r.kt)("p",null,"Download the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/KusionStack/charts/blob/master/scripts/install-kusion.sh"},"installation script")," from the KusionStack charts repository."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"curl -O https://raw.githubusercontent.com/KusionStack/charts/master/scripts/install-kusion.sh\nchmod +x install-kusion.sh\n")),(0,r.kt)("p",null,"Run the installation script with your kubeconfig files:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"./install-kusion-server.sh <kubeconfig_key1=kubeconfig_path1> <kubeconfig_key2=kubeconfig_path2> ...\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"kubeconfig_key"),": The key for the kubeconfig file. It should be unique and not contain spaces.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"kubeconfig_path"),": The path to the kubeconfig file."))),(0,r.kt)("h4",{id:"2-remote-installation-with-helm"},"2. Remote installation with Helm"),(0,r.kt)("p",null,"First, add the ",(0,r.kt)("inlineCode",{parentName:"p"},"kusionstack")," chart repo to your local repository:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"helm repo add kusionstack https://kusionstack.github.io/charts\nhelm repo update\n")),(0,r.kt)("p",null,"Then install with your encoded kubeconfig:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# Base64 encode your kubeconfig files\nKUBECONFIG_CONTENT0=$(cat /path/to/your/kubeconfig-0 | base64 | tr -d '\\n')\nKUBECONFIG_CONTENT1=$(cat /path/to/your/kubeconfig-1 | base64 | tr -d '\\n')\n\n# Install with kubeconfig\nhelm install kusion-release kusionstack/kusion \\\n--set kubeconfig.kubeConfigs.kubeconfig-0=\"$KUBECONFIG_CONTENT0\" \\\n--set kubeconfig.kubeConfigs.kubeconfig-1=\"$KUBECONFIG_CONTENT1\"\n")),(0,r.kt)("p",null,"You may have to set your specific configurations if it is deployed into a production cluster, or you want to customize the chart configuration, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"database"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"replicas"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"port")," etc."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'# Install with kubeconfig and optional configurations\nhelm install kusion-release kusionstack/kusion \\\n--set kubeconfig.kubeConfigs.kubeconfig-0="$KUBECONFIG_CONTENT0" \\\n--set kubeconfig.kubeConfigs.kubeconfig-1="$KUBECONFIG_CONTENT1" \\\n--set server.port=8080 \\\n--set server.replicas=3 \\\n--set mysql.enabled=true \\\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"All configurable parameters of the Kusion chart are detailed ",(0,r.kt)("a",{parentName:"p",href:"#chart-parameters"},"here"),".")),(0,r.kt)("h3",{id:"search-all-available-versions"},"Search all available versions"),(0,r.kt)("p",null,"You can use the following command to view all installable chart versions."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"helm repo update\nhelm search repo kusionstack/kusion --versions\n")),(0,r.kt)("h3",{id:"upgrade-specified-version"},"Upgrade specified version"),(0,r.kt)("p",null,"You can specify the version to be upgraded through the ",(0,r.kt)("inlineCode",{parentName:"p"},"--version"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# Upgrade to the latest version.\nhelm upgrade kusion-release kusionstack/kusion\n\n# Upgrade to the specified version.\nhelm upgrade kusion-release kusionstack/kusion --version 1.2.3\n")),(0,r.kt)("h3",{id:"local-installation"},"Local Installation"),(0,r.kt)("p",null,"If you have problem connecting to ",(0,r.kt)("a",{parentName:"p",href:"https://kusionstack.github.io/charts/"},"https://kusionstack.github.io/charts/")," in production, you may need to manually download the chart from ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/KusionStack/charts"},"here")," and use it to install or upgrade locally."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/KusionStack/charts.git\n")),(0,r.kt)("p",null,"Edit the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/KusionStack/charts/blob/master/charts/kusion/values.yaml"},"default template values")," file to set your own kubeconfig and other configurations."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"For more information about the KubeConfig configuration, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"#kubeconfig"},"KubeConfig")," section.")),(0,r.kt)("p",null,"Then install the chart:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"helm install kusion-release charts/kusion\n")),(0,r.kt)("h3",{id:"uninstall"},"Uninstall"),(0,r.kt)("p",null,"To uninstall/delete the ",(0,r.kt)("inlineCode",{parentName:"p"},"kusion-release")," Helm release in namespace ",(0,r.kt)("inlineCode",{parentName:"p"},"kusion"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"helm uninstall kusion-release\n")),(0,r.kt)("h3",{id:"image-registry-proxy-for-china"},"Image Registry Proxy for China"),(0,r.kt)("p",null,"If you are in China and have problem to pull image from official DockerHub, you can use the registry proxy:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"helm install kusion-release kusionstack/kusion --set registryProxy=docker.m.daocloud.io\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),": The above is just an example, you can replace the value of ",(0,r.kt)("inlineCode",{parentName:"p"},"registryProxy")," as needed. You also need to provide your own kubeconfig in values.yaml or set it through the --set parameter."),(0,r.kt)("h2",{id:"chart-parameters"},"Chart Parameters"),(0,r.kt)("p",null,"The following table lists the configurable parameters of the chart and their default values."),(0,r.kt)("h3",{id:"general-parameters"},"General Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"namespace"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"kusion"')),(0,r.kt)("td",{parentName:"tr",align:null},"Which namespace to be deployed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"namespaceEnabled"),(0,r.kt)("td",{parentName:"tr",align:null},"bool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to generate namespace")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"registryProxy"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Image registry proxy will be the prefix as all component images")))),(0,r.kt)("h3",{id:"global-parameters"},"Global Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description")))),(0,r.kt)("h3",{id:"kusion-server"},"Kusion Server"),(0,r.kt)("p",null,"The Kusion Server Component is the main backend server that provides the core functionality and REST APIs."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.authEnabled"),(0,r.kt)("td",{parentName:"tr",align:null},"bool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable authentication")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.authKeyType"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"RSA"')),(0,r.kt)("td",{parentName:"tr",align:null},"Authentication key type")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.authWhitelist"),(0,r.kt)("td",{parentName:"tr",align:null},"list"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[]")),(0,r.kt)("td",{parentName:"tr",align:null},"Authentication whitelist")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.autoMigrate"),(0,r.kt)("td",{parentName:"tr",align:null},"bool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable automatic migration")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.dbHost"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Database host")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.dbName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Database name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.dbPassword"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Database password")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.dbPort"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"3306")),(0,r.kt)("td",{parentName:"tr",align:null},"Database port")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.dbUser"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Database user")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.defaultSourceRemote"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Default source URL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.logFilePath"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"/logs/kusion.log"')),(0,r.kt)("td",{parentName:"tr",align:null},"Logging")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.maxAsyncBuffer"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"100")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of buffer zones during concurrent async executions including generate, preview, apply and destroy")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.maxAsyncConcurrent"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of concurrent async executions including generate, preview, apply and destroy")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.maxConcurrent"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"10")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of concurrent executions including preview, apply and destroy")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.args.migrateFile"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Migration file path")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.env"),(0,r.kt)("td",{parentName:"tr",align:null},"list"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[]")),(0,r.kt)("td",{parentName:"tr",align:null},"Additional environment variables for the server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.image.imagePullPolicy"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"IfNotPresent"')),(0,r.kt)("td",{parentName:"tr",align:null},"Image pull policy")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.image.repo"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"kusionstack/kusion"')),(0,r.kt)("td",{parentName:"tr",align:null},"Repository for Kusion server image")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.image.tag"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Tag for Kusion server image. Defaults to the chart's appVersion if not specified")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.name"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"kusion-server"')),(0,r.kt)("td",{parentName:"tr",align:null},"Component name for kusion server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.port"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"80")),(0,r.kt)("td",{parentName:"tr",align:null},"Port for kusion server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.replicas"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1")),(0,r.kt)("td",{parentName:"tr",align:null},"The number of kusion server pods to run")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.resources"),(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"250m","memory":"256Mi"}}')),(0,r.kt)("td",{parentName:"tr",align:null},"Resource limits and requests for the kusion server pods")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"server.serviceType"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"ClusterIP"')),(0,r.kt)("td",{parentName:"tr",align:null},"Service type for the kusion server. The available type values list as ",'["ClusterIP"\u3001"NodePort"\u3001"LoadBalancer"]',".")))),(0,r.kt)("h3",{id:"mysql-database"},"MySQL Database"),(0,r.kt)("p",null,"The MySQL database is used to store Kusion's persistent data."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.database"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"kusion"')),(0,r.kt)("td",{parentName:"tr",align:null},"MySQL database name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.enabled"),(0,r.kt)("td",{parentName:"tr",align:null},"bool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to enable MySQL deployment")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.image.imagePullPolicy"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"IfNotPresent"')),(0,r.kt)("td",{parentName:"tr",align:null},"Image pull policy")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.image.repo"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"mysql"')),(0,r.kt)("td",{parentName:"tr",align:null},"Repository for MySQL image")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.image.tag"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"8.0"')),(0,r.kt)("td",{parentName:"tr",align:null},"Specific tag for MySQL image")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.name"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"mysql"')),(0,r.kt)("td",{parentName:"tr",align:null},"Component name for MySQL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.password"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"MySQL password")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.persistence.accessModes"),(0,r.kt)("td",{parentName:"tr",align:null},"list"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'["ReadWriteOnce"]')),(0,r.kt)("td",{parentName:"tr",align:null},"Access modes for MySQL PVC")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.persistence.size"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"10Gi"')),(0,r.kt)("td",{parentName:"tr",align:null},"Size of MySQL persistent volume")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.persistence.storageClass"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Storage class for MySQL PVC")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.port"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"3306")),(0,r.kt)("td",{parentName:"tr",align:null},"Port for MySQL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.replicas"),(0,r.kt)("td",{parentName:"tr",align:null},"int"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1")),(0,r.kt)("td",{parentName:"tr",align:null},"The number of MySQL pods to run")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.resources"),(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'{"limits":{"cpu":"1000m","memory":"1Gi"},"requests":{"cpu":"250m","memory":"512Mi"}}')),(0,r.kt)("td",{parentName:"tr",align:null},"Resource limits and requests for MySQL pods")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.rootPassword"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"MySQL root password")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mysql.user"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"kusion"')),(0,r.kt)("td",{parentName:"tr",align:null},"MySQL user")))),(0,r.kt)("h3",{id:"kubeconfig"},"KubeConfig"),(0,r.kt)("p",null,"The KubeConfig is used to store the KubeConfig files for the Kusion Server."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"kubeconfig.kubeConfigVolumeMountPath"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"/var/run/secrets/kubernetes.io/kubeconfigs/"')),(0,r.kt)("td",{parentName:"tr",align:null},"Volume mount path for KubeConfig files")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"kubeconfig.kubeConfigs"),(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}")),(0,r.kt)("td",{parentName:"tr",align:null},"KubeConfig contents map")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),": The KubeConfig contents map is a key-value pair, where the key is the key of the KubeConfig file and the value is the contents of the KubeConfig file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"# Example structure:\n  kubeConfigs:\n    kubeconfig-0: |\n        Please fill in your KubeConfig contents here.\n    kubeconfig-1: |\n        Please fill in your KubeConfig contents here.\n")))}m.isMDXComponent=!0}}]);