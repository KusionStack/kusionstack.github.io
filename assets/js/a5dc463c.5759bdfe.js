"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4975],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>k});var i=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,o=function(e,n){if(null==e)return{};var t,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var r=i.createContext({}),u=function(e){var n=i.useContext(r),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=u(e.components);return i.createElement(r.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},c=i.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,r=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(t),k=o,m=c["".concat(r,".").concat(k)]||c[k]||d[k]||a;return t?i.createElement(m,l(l({ref:n},p),{},{components:t})):i.createElement(m,l({ref:n},p))}));function k(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,l=new Array(a);l[0]=c;var s={};for(var r in n)hasOwnProperty.call(n,r)&&(s[r]=n[r]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var u=2;u<a;u++)l[u]=t[u];return i.createElement.apply(null,l)}return i.createElement.apply(null,t)}c.displayName="MDXCreateElement"},57902:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var i=t(87462),o=(t(67294),t(3905));const a={sidebar_position:1},l="Kusionup",s={unversionedId:"user_docs/getting-started/install/kusionup",id:"user_docs/getting-started/install/kusionup",title:"Kusionup",description:"It is recommended to install Kusion through the kusionup tool, which is an elegant kusion multi-version management tool, you can use it:",source:"@site/docs/user_docs/getting-started/install/kusionup.md",sourceDirName:"user_docs/getting-started/install",slug:"/user_docs/getting-started/install/kusionup",permalink:"/docs/user_docs/getting-started/install/kusionup",editUrl:"https://github.com/KusionStack/kusionstack.io/blob/main/docs/user_docs/getting-started/install/kusionup.md",tags:[],version:"current",lastUpdatedBy:"xduo",lastUpdatedAt:1663817930,formattedLastUpdatedAt:"9/22/2022",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"user_docs",previous:{title:"Download & Install",permalink:"/docs/user_docs/getting-started/install/"},next:{title:"Docker",permalink:"/docs/user_docs/getting-started/install/docker"}},r={},u=[{value:"1. Install Kusionup",id:"1-install-kusionup",level:2},{value:"2. Manage Multi Kusion Versions",id:"2-manage-multi-kusion-versions",level:2},{value:"3. Kusionup Help",id:"3-kusionup-help",level:2},{value:"4. Kusionup Tips",id:"4-kusionup-tips",level:2},{value:"5. VS Code Extension",id:"5-vs-code-extension",level:2}],p={toc:u};function d(e){let{components:n,...a}=e;return(0,o.kt)("wrapper",(0,i.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"kusionup"},"Kusionup"),(0,o.kt)("p",null,"It is recommended to install Kusion through the kusionup tool, which is an elegant kusion multi-version management tool, you can use it:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Install any version of kusion with one click"),(0,o.kt)("li",{parentName:"ul"},"Flexible switching between different versions of kusion"),(0,o.kt)("li",{parentName:"ul"},"Customize local kusion version")),(0,o.kt)("h2",{id:"1-install-kusionup"},"1. Install Kusionup"),(0,o.kt)("p",null,"One-click installation with the following command ",(0,o.kt)("inlineCode",{parentName:"p"},"kusionup"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"brew install KusionStack/tap/kusionup && kusionup init --skip-prompt && source $HOME/.kusionup/env\n")),(0,o.kt)("p",null,"Upgrade ",(0,o.kt)("inlineCode",{parentName:"p"},"kusionup"),"\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"brew update\nbrew upgrade KusionStack/tap/kusionup\n")),(0,o.kt)("p",null,"The script will crate a ",(0,o.kt)("inlineCode",{parentName:"p"},"$HOME/.kusionup")," directory, which will contain:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"$HOME/.kusionup/bin")," directory include the ",(0,o.kt)("inlineCode",{parentName:"li"},"kusionup")," binary file"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"$HOME/.kusionup/env")," file is used to declare ",(0,o.kt)("inlineCode",{parentName:"li"},"kusionup")," and kusion environment variables required by the technology stack"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"$HOME/.kusionup/current")," soft link is used to identify the currently active kusion version"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"$HOME/.kusionup/$VERSION")," directories represent different kusion version directories, such as the latest version installed by default ",(0,o.kt)("inlineCode",{parentName:"li"},"$HOME/.kusionup/latest"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\ud83d\udca1 Install the custom version"),"\uff1a"),(0,o.kt)("p",null,"The above script will install the latest kusion version ( latest) by default. If you want to customize the default installation version , use the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"brew install KusionStack/tap/kusionup && kusionup init --skip-install && source $HOME/.kusionup/env && kusionup reinstall latest\n")),(0,o.kt)("p",null,"**\ud83d\udca1 Installation failure troubleshooting:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u2753 Issue 1"),"\uff1aM1 Mac Openssl ",(0,o.kt)("inlineCode",{parentName:"p"},"dylib")," library cannot be found or SSL module is not available"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Make sure you have a homebrew arm64e-version installed in ",(0,o.kt)("inlineCode",{parentName:"li"},"/opt/homebrew"),", otherwise to install the arm version of ",(0,o.kt)("inlineCode",{parentName:"li"},"brew")," with the following command")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"\n# add to path environment\nexport PATH=/opt/homebrew/bin:$PATH\n')),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Use brew to install ",(0,o.kt)("inlineCode",{parentName:"li"},"openssl@1.1"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"brew install openssl@1.1\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u2753 Issue 2"),": mac KCLVM ",(0,o.kt)("inlineCode",{parentName:"p"},"gettext")," dylib cannot be found"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://intranetproxy.alipay.com/skylark/lark/0/2022/png/317257/1646538731635-b1e290a5-465d-4838-b8d1-7f22cb48e267.png#clientId=uc50abf48-5ee8-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=200&id=ub5ce78d1&margin=%5Bobject%20Object%5D&name=image.png&originHeight=400&originWidth=1158&originalType=binary&ratio=1&rotation=0&showTitle=false&size=238920&status=done&style=none&taskId=ue75303e6-140d-450f-84de-464da45a473&title=&width=579",alt:"image.png"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Use the ",(0,o.kt)("inlineCode",{parentName:"li"},"which")," command to find the location of your own ",(0,o.kt)("inlineCode",{parentName:"li"},"gettext")," (assuming ",(0,o.kt)("inlineCode",{parentName:"li"},"/Users/UserName/tools/homebrew/bin/gettext"),")")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"which gettext\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Use the ",(0,o.kt)("inlineCode",{parentName:"li"},"otool -L")," command to get the location of ",(0,o.kt)("inlineCode",{parentName:"li"},"libintl.8.dylib"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"C02Y90Q4JHD2:bin yueyi$ otool -L /Users/yueyi/tools/homebrew/bin/gettext\n/Users/yueyi/tools/homebrew/bin/gettext:\n  /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 1675.129.0)\n  /Users/yueyi/tools/homebrew/Cellar/gettext/0.21/lib/libintl.8.dylib (compatibility version 11.0.0, current version 11.0.0)\n  /usr/lib/libiconv.2.dylib (compatibility version 7.0.0, current version 7.0.0)\n  /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1281.100.1)\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Copy ",(0,o.kt)("inlineCode",{parentName:"li"},"/Users/yueyi/tools/homebrew/Cellar/gettext/0.21/lib/libintl.8.dylib")," to ",(0,o.kt)("inlineCode",{parentName:"li"},"/usr/local/opt/gettext/lib/libintl.8.dylib"))),(0,o.kt)("h2",{id:"2-manage-multi-kusion-versions"},"2. Manage Multi Kusion Versions"),(0,o.kt)("p",null,"After executing the installation script, ",(0,o.kt)("inlineCode",{parentName:"p"},"kusionup")," and a default kusion version is installed. Use kusionup to check the all installed version:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ kusionup\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Select a version:\n  \u25b8 latest\n")),(0,o.kt)("p",null,"Execute to `kusionup ls-ver' to list all installable ",(0,o.kt)("strong",{parentName:"p"},"kusion"),"versions from the built-in installation sources :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ kusionup ls-ver\ncdn@latest\ncdn@v0.4.2\ncdn@v0.4.1\ngithub@latest\ngithub@v0.4.2\ngithub@v0.4.1\n")),(0,o.kt)("p",null,"Execute to ",(0,o.kt)("inlineCode",{parentName:"p"},"kusionup install $VERSION")," to install specified version:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"# choose the cdn to speed up installation\n$ kusionup install cdn@latest\nDownloaded   0.0% (     2426 / 139988826 bytes) ...\nDownloaded  11.4% ( 16003466 / 139988826 bytes) ...\nDownloaded  21.0% ( 29433014 / 139988826 bytes) ...\nDownloaded  32.2% ( 45077686 / 139988826 bytes) ...\nDownloaded  41.9% ( 58642898 / 139988826 bytes) ...\nDownloaded  51.2% ( 71647010 / 139988826 bytes) ...\nDownloaded  61.6% ( 86258486 / 139988826 bytes) ...\nDownloaded  71.2% ( 99667706 / 139988826 bytes) ...\nDownloaded  81.5% (114078806 / 139988826 bytes) ...\nDownloaded  91.5% (128134166 / 139988826 bytes) ...\nDownloaded 100.0% (139988826 / 139988826 bytes)\nINFO[0055] Unpacking /root/.kusionup/kusion@latest/kusion-linux.tgz ...\nINFO[0061] Success: latest downloaded in /root/.kusionup/kusion@latest\nINFO[0061] Default Kusion is set to 'latest'\n\n$ kusion version\nreleaseVersion: v0.4.1\n......\n")),(0,o.kt)("p",null,"Execute to ",(0,o.kt)("inlineCode",{parentName:"p"},"kusionup show")," to see the current kusion version:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ kusionup show\n|    VERSION    | ACTIVE |\n|---------------|--------|\n|  cdn@latest   |   *    |\n|  cdn@v0.4.1   |        |\n")),(0,o.kt)("p",null,"Execute to ",(0,o.kt)("inlineCode",{parentName:"p"},"kusionup remove $VERSION")," to delete specified version:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# try remove the latest version\n$ kusionup remove latest\nINFO[0000] Removing latest\n\n$ kusionup\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Select a version:\n  \u25b8 cdn@v0.4.1  # there is no latest version\n")),(0,o.kt)("h2",{id:"3-kusionup-help"},"3. Kusionup Help"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ kusionup -h\nThe Kusion installer\n\nUsage:\n  kusionup [flags]\n  kusionup [command]\n\nAvailable Commands:\n  default     Set the default Kusion version\n  help        Help about any command\n  install     Install Kusion with a version\n  ls-ver      List Kusion versions to install\n  remove      Remove Kusion with a version\n  show        Show installed Kusion\n  version     Show kusionup version\n\nFlags:\n  -h, --help      help for kusionup\n  -v, --verbose   Verbose\n\nUse "kusionup [command] --help" for more information about a command.\n')),(0,o.kt)("h2",{id:"4-kusionup-tips"},"4. Kusionup Tips"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"How to add custom kusion version to the kusionup toggle list?")),(0,o.kt)("p",null,"We can use the following method to add any local version which may be used for debugging."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# install a debug version\n$ mv $HOME/.kusion $HOME/.kusionup/kusion-debug\n\n# switch to the debug version\n$ kusionup\nUse the arrow keys to navigate: \u2193 \u2191 \u2192 \u2190\n? Select a version:\n    cdn@latest\n  \u25b8 debug\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Note:")," In ",(0,o.kt)("inlineCode",{parentName:"p"},".kusionup")," ",(0,o.kt)("inlineCode",{parentName:"p"},".kusionup"),', the subdirectory name must start with "kusion-" and the suffix is \u200b\u200bthe version number;'),(0,o.kt)("h2",{id:"5-vs-code-extension"},"5. VS Code Extension"),(0,o.kt)("p",null,"In order to improve the efficiency of IDE development of KCL, Kusion provides plug-n support for VS Code online and native environment.\nThe online version can be opened from ",(0,o.kt)("a",{parentName:"p",href:"https://vscode.dev"},"https://vscode.dev"),' address, and then install "KCL for vscode.dev plugin", the effect is as follows:'),(0,o.kt)("p",null,(0,o.kt)("img",{loading:"lazy",src:t(87067).Z,width:"1604",height:"1210"})),(0,o.kt)("p",null,"Native VS Code can install a complete KCL plugin , providing features such as highlighting, auto-completion (keyword completion, etc.), jump, hover, outline, etc. Although the plugin is not a necessary part of Kusion, it is recommended to install it to improve efficiency."))}d.isMDXComponent=!0},87067:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/ide-vscode-4a5d4d1920667701ecb25a8a25b9cbb1.png"}}]);