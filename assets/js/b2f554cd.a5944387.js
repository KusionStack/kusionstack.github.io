"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1477],{30010:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"2022-origin-present-and-future","metadata":{"permalink":"/blog/2022-origin-present-and-future","editUrl":"https://github.com/KusionStack/kusionstack.io/blob/main/blog/2022-09-19-origin-present-and-future/index.md","source":"@site/blog/2022-09-19-origin-present-and-future/index.md","title":"KusionStack Origin, present and future","description":"KusionStack Origin, present and future","date":"2022-09-19T00:00:00.000Z","formattedDate":"September 19, 2022","tags":[{"label":"KusionStack","permalink":"/blog/tags/kusion-stack"},{"label":"Kusion","permalink":"/blog/tags/kusion"}],"readingTime":0.035,"truncated":false,"authors":[{"name":"Xiaodong, Duo","title":"Kusion Creator"}],"frontMatter":{"slug":"2022-origin-present-and-future","title":"KusionStack Origin, present and future","authors":{"name":"Xiaodong, Duo","title":"Kusion Creator"},"tags":["KusionStack","Kusion"]},"nextItem":{"title":"What We Learned From Large-scale Platform Engineering Practices","permalink":"/blog/2022-learn-from-scale-practice"}},"content":"[![KusionStack Origin, present and future](/talks/KusionStack-origin-present-and-future.png)](/talks/KusionStack-origin-present-and-future.pdf)\\n\\n[Download PDF](https://kusionstack.io/talks/KusionStack-origin-present-and-future.pdf)"},{"id":"2022-learn-from-scale-practice","metadata":{"permalink":"/blog/2022-learn-from-scale-practice","editUrl":"https://github.com/KusionStack/kusionstack.io/blob/main/blog/2022-09-16-learn-from-scale-practice/index.md","source":"@site/blog/2022-09-16-learn-from-scale-practice/index.md","title":"What We Learned From Large-scale Platform Engineering Practices","description":"Abstract: This blog attempts to talk about the challenges and best practices in the process of large-scale platform engineering from the perspectives of engineering, programing language, divide-and-conquer, modeling, automation, and collaborative culture. Hopefully, by sharing the concepts and practices of our platform engineering with more companies and teams, we can make some interesting changes happen together.","date":"2022-09-16T00:00:00.000Z","formattedDate":"September 16, 2022","tags":[{"label":"KusionStack","permalink":"/blog/tags/kusion-stack"},{"label":"Kusion","permalink":"/blog/tags/kusion"},{"label":"Large-scale","permalink":"/blog/tags/large-scale"},{"label":"Platform Engineering","permalink":"/blog/tags/platform-engineering"}],"readingTime":18,"truncated":false,"authors":[{"name":"Xiaodong, Duo","title":"Kusion Creator"}],"frontMatter":{"slug":"2022-learn-from-scale-practice","title":"What We Learned From Large-scale Platform Engineering Practices","authors":{"name":"Xiaodong, Duo","title":"Kusion Creator"},"tags":["KusionStack","Kusion","Large-scale","Platform Engineering"]},"prevItem":{"title":"KusionStack Origin, present and future","permalink":"/blog/2022-origin-present-and-future"},"nextItem":{"title":"\u58f0\u660e\u5f0f\u914d\u7f6e\u6280\u672f\u6982\u8ff0","permalink":"/blog/2022-declarative-config-overview"}},"content":"**Abstract:** This blog attempts to talk about the challenges and best practices in the process of large-scale platform engineering from the perspectives of engineering, programing language, divide-and-conquer, modeling, automation, and collaborative culture. Hopefully, by sharing the concepts and practices of our platform engineering with more companies and teams, we can make some interesting changes happen together.\\n\\nThis blog is based on the platform engineering and automation practice of [KusionStack](https://kusionstack.io/docs/user_docs/intro/kusion-intro) in Ant Group.\\n\\n\\n## 1. Platform Engineering: Making Enterprise DevOps Happen\\n\\nThe concept of DevOps was proposed more than 10 years ago. From KVM to container to the cloud-native era, a large number of enterprises have invested in the DevOps wave to solve the dilemma of internal large-scale operation efficiency and platform construction efficiency. Most of them have fallen into some kind of Anti-Pattern based on an inappropriate understanding of DevOps, while some companies have explored their golden paths. I have experienced Anti-Patterns as shown in the figure below, where the Dev and Ops teams go their separate ways, or simply force the Dev team to handle Ops work independently. More typical classifications can be found [here](https://web.devopstopologies.com/#anti-types).\\n\\n![](/img/blog/2022-09-16-learn-from-scale-practice/devops-anti-pattern.png)\\n\\nThere are various reasons for difficulties achieving DevOps at scale within the enterprise, especially for companies that maintain their infrastructure within the enterprise while adopting technology platforms on the cloud. Among which, the following situations are quite common:\\n\\n- The dev team and the ops team are often isolated at work and cannot reach a consensus due to team silos, lack of leaders\u2019 insight, etc.\\n- The dev team leaders underestimate the professionalism, complexity and rapid changes of platform and infrastructure technology, operation and reliability work so that they push application developers to become experts with a simple DevOps understanding\\n- The leaders established a DevOps team, but became just middle executors, failing to make the Dev and Ops teams move forward and work closely together\\n- The platform dev team responds insufficiently to the business complexity due to the scale as well as to the tech complexity as a result of technological evolution, thus cannot provide effective support to application developers\\n- ...\\n\\nUnlike small teams working on cloud-hosted Infra services and DevOps-as-a-Service products, medium and large enterprises often need to establish an appropriate DevOps system based on their team structure and culture. Based on the successful cases, whether for Meta Dev team fully assumes the Ops function, or Google introduces the SRE team as the middle layer, [Platform Engineering](https://platformengineering.org/blog/what-is-platform-engineering) plays a very important role. Platform engineering aims to help enterprises build a self-service operation system for application developers, and tries to solve the following key problems through engineering tech means and workflows:\\n\\n- Design a reasonable abstraction to help application developers reduce the burden of cognizing the delivery, operation, and reliability based on Infra, platform and other technologies\\n- Provide application developers with a unified working interface and space to avoid falling into fragmented product interfaces and complex workflows\\n- Help developers carry out work quickly based on [internal engineering platform](https://internaldeveloperplatform.org/what-is-an-internal-developer-platform/) through effective workflow and recommended path\\n- Help developers manage the application life cycle through self-service CI, CD, CDRA products\\n- Help the platform dev team to open fundamental platform capabilities in a simple, efficient and consistent manner\\n- Create a culture of collaboration and sharing through training, propagation, operations, etc.\\n\\nIn fact, not everyone should be or could be an expert in this specific field, which turns out to be particularly hard as well. Even the experts from the platform technology team themselves are usually good at their own professional fields, especially nowadays confronting the wide adoption of cloud-native concepts and technologies, hundreds of thousands of application configurations brought by a large number of highly open and configurable platform technologies and the business complexity of the PaaS field as well as the requirements for high stability and unified governance. The purpose of platform engineering just lies in allowing application developers to participate in such large-scale DevOps work as easily and painlessly as possible. In Ant Group\'s practice, we tend to the following cooperative state, which is closer to Google\'s best practices in team structure and work mode. Platform developers and SREs become \\"Enablers\\" to support application developers to complete dev, delivery and operation in self-service. At the same time, the work results of application developers making applications deliverable and operational also become the basis for the ops team to handle application ops work. The SRE, application dev, and ops team periodically feedback the problems and pain points in the work process to the platform dev team to form a positive cycle.\\n\\n![](/img/blog/2022-09-16-learn-from-scale-practice/devops-cycle.png)\\n\\n\\n## 2. Domain Language: A Pole of the Engineering Thought\\n\\nCompared with a domain language there\'s no better way for open, self-service, domain-oriented business problem definitions, as well as meeting the enterprise\'s internal requirements of automation, low-security-risk, low noise, and easy governance. Just as there are staves for recording music, and time-series databases for storing time-series data, within the problem domain of platform engineering, a set of configuration and policy languages \u200b\u200bare created to write and manage configurations and policies at scale. Different from high-level general purpose languages \u200b\u200bwith mixed paradigms and engineering capabilities, the core logic of such domain languages \u200b\u200bis to solve the near-infinite variation and complexity of domain problems with a convergent and limited set of syntax and semantics, and to integrate the ideas and methods of large-scale complex configuration and policies writing into language features.\\n\\nIn the platform engineering practice of Ant Group, we have strengthened the client-side working mode. We write and maintain the models, orchestration, constraints and policies around the application ops life cycle in the shared codebase [Konfig](https://github.com/KusionStack/konfig) through the record and functional language [KCL](https://github.com/KusionStack/KCLVM). KCL is a static and strongly typed language for application developers with programming ability, and provides the writing experience of a modern high-level language with limited functionality around domain purposes. Under such practices, KCL is not a language just for writing K-V pairs, but a language for platform engineering development. Application developers, SREs, and platform developers conduct dev collaboratively based on Konfig. They write configurations, and [schema](https://kusionstack.io/docs/reference/lang/lang/tour/#schema) abstractions, [functions](https://kusionstack.io/docs/reference/lang/lang/tour/#function), [constraints](https://kusionstack.io/docs/reference/lang/lang/tour/#validation) and [rules](https://kusionstack.io/docs/reference/lang/lang/tour/#rule) which are frequent and complex in the PaaS field through KCL native functions, that is, writing stable and scalable business models, business logic, error-proofing constraints, and environmental rules. The Konfig repository becomes a unified programming interface, workspace and business layer, while the KCL-oriented writing paradigm, which is secure and consistent, with low noise, low side effect and easy to automate, are more beneficial for long-term management and governance.\\n\\n![](/img/blog/2022-09-16-learn-from-scale-practice/kcl-dev.png)\\n\\n\\n## 3. Divide and Conquer: Deconstructing the Scaling Problem\\n\\nThe idea of \u200b\u200bdivide and conquer is the key to solving the scaling problem, whose efficiency is reflected from MapReduce to Kubernetes. In the field of large-scale delivery and operation, the classic operation platform tries to use the built-in unified model, orchestration, and provision technology in a black-box product to deal with full-scale business scenarios. Such a practice can be started easily and quickly and turns out to be effective on a small scale. However, as the adoption rate of different business groups increases and different requirements are put forward, it gradually enters into a state of fatigue with the constantly growing platform technology.\\n\\n![](/img/blog/2022-09-16-learn-from-scale-practice/classic-plats.png)\\n\\nIn Ant Group\'s practice, Konfig monorepo is the programming workspace opened by the internal engineering platform to developers, helping application developers to write configurations and policies around the application operation life cycle with a unified programming interface and tech stack, to integrate with existing and future platform and infrastructure, to create and manage cloud-native environments and RBAC-based permissions on demand, and to manage the delivery workflow through GitOps. Konfig monorepo provides an independent white-box programming space for different scenarios, projects and applications, whose intrinsic scalability comes from:\\n\\n- Flexible, scalable, independent client-side [engineering structure design](https://kusionstack.io/docs/user_docs/concepts/konfig)\\n- The [automatic merging](https://kusionstack.io/docs/reference/lang/lang/tour/#-operators-1) technology of isolated config blocks supports the arbitrary and scalable organization of config blocks\\n- [Static type system](https://kusionstack.io/docs/reference/lang/lang/tour/#type-system) technology provides reusable and scalable type-based modeling and constraints in a modern programming language manner\\n- Project-grained Gitops CI workflow definition support\\n- Provision technology selection based on [Kusion](https://github.com/KusionStack/kusion) engine\\n\\nKonfig monorepo provides divide-and-conquer, composable engineering structure design, code organization, modeling, workflow and provision tech selection support, meanwhile, it carries scalable business requirements with a consistent development model and workflow. The working method of the client-side ensures flexibility, scalability, and portability while reducing the steadily increasing pressure on the extension mechanisms of the server-side, such as Kubernetes API Machinery.\\n\\nThe following figure illustrates a typical automated workflow with a Gitops approach in the Konfig monorepo, starting from application-oriented code changes and reaching the runtime through configurable CI and CD processes. Compared to centralized black-box products, this mechanism is much more open, customizable and extensible, through which there\u2019s no more necessity of designing clumsy configuration management portals for different business scenarios, projects, and applications.\\n\\n![image.png](/img/blog/2022-09-16-learn-from-scale-practice/d-c-overview.png)\\n\\n\\n## 4. Modeling: Marginal Revenue and the Long Tail\\n\\nWith the divide-and-conquer white-box engineering structure design, code organization, modeling, workflow and provision tech selection, we also need to consider how to work with platform APIs. The typical dispute within the enterprise is whether to face directly the platform details or to design an abstraction, which eventually grows into such kind of dispute between explicit and implicit concepts.\\n\\nThe abstract implicit method is a usual choice for platform engineers for non-expert end users, who want to design an easy-to-understand and easy-to-use application model or Spec abstraction, which is isolated from specific platform technical details, in order to reduce the end-user\'s burden on cognizing and enhances the performance of preventing errors by reducing detail perception. However, most operation platform developers tend to design a powerful and unified application model or Spec abstraction. In practice, they often encounter the following obstacles:\\n\\n- With the increasing adoption rate of different business groups within the enterprise, it is difficult to implement unified modeling. The most typical case in Ant Group is the huge difference between Infra projects and SaaS applications. Java-based SaaS applications are easy to be unified, while Infra applications often need to be designed separately.\\n- With a large number of platform technologies in the enterprise, the unified model itself is difficult to be stabilized, especially in response to continuously changing business needs and platform demand growth driven by technology. In Ant Group\'s practice, delivery and operation are affected by various factors and thus have great instability. At the same time, the business requirements for `deliverable`, `runtime`, `security`, and `instrumentation` around the application operation life cycle are also increasing. Taking instrumentation as an example, the rapidly increasing demand for application runtime observability and SLO definition in the past two years directly drives changes in end-user usage.\\n- The general problem of abstract models is that a reasonable model needs to be well designed for end users, meanwhile, the API details of the platform must be kept in sync.\\n\\nIn Ant Group\'s practice, we adopt an abstract model for end-users, which refers to application developers, and solve several key problems through the following ideas:\\n\\n- Modeling for typical applications or scenarios (such as Ant Group\'s Sofa application), these models are developed by platform developers together with platform SREs and maintained together with application developers to achieve a balance between user experience, cost and standard compatibility. In Ant Group\'s practice, the information entropy convergence ratio of the abstract model is about 1:5, and the marginal benefit of modeling investment is guaranteed through extensive high-frequency usage.\\n- For non-typical user applications or scenarios, platform developers and platform SRE support application developers to design application models. Mechanisms such as KCL [schema](https://kusionstack.io/docs/reference/lang/lang/tour/#schema) and [mixin](https://kusionstack.io/docs/reference/lang/lang/tour#protocol--mixin) help users to model, abstract, inherit, combine, reuse, and reduce repetitive code. Such modeling design work is one of the key points in the field of application PaaS. Finally, a large number of \\"non-standard\\" platform applications were adopted and managed in an accordant way within Ant Group for the first time, which solved the long tail problem effectively. In a typical collaborative mode, platform developers and platform SREs write base components of platform capability, thus become \u201cEnablers\u201d in a manner, and help application developers \\"build building blocks\u201d quickly by using base components to complete their application models.\\n- For platform technology, we provide the [generation tool](https://kusionstack.io/docs/reference/cli/openapi/) from platform API Spec to KCL schema code, natively support the compile-time selection of different Kubernetes API versions through [combined compilation](https://kusionstack.io/docs/reference/lang/lang/tour/#multi-file-compilation), and solve the flexible requirements of mapping application models to different versions of Kubernetes clusters in internal practice. At the same time, KCL supports the writing of in-schema [constraints](https://kusionstack.io/docs/reference/lang/lang/tour/#validation) and independent environmental [rules](https://kusionstack.io/docs/reference/lang/lang/tour/#rule). In addition, KCL also provides the [deprecated decorator](https://kusionstack.io/docs/reference/lang/lang/tour/#decorators) to support the force deprecation of the model or model attribute. Through robust complete modeling and constraint mechanism on the client side, general problems such as configuration errors and schema drift are exposed at compile time. Due to the left-shifted problem found before runtime, runtime errors or failures are avoided while pushing to the cluster, which is also a necessary requirement for the stability of the production environment in the enterprise, especially in an enterprise with high-level risks.\\n\\nExpert users of the underlying platform technology are usually very familiar with a specific technical domain and prefer to work in an explicit way that faces platform details. The KCL language provides the necessary dynamic and modular support and ensures stability through a static type system and constraint mechanisms. However, the explicit method cannot solve the problem that expert users are not familiar with the details of using cross-domain platform technologies, nor can it solve the problem of the scalability and complexity of platform technologies today. In Ant Group\'s small-scale YAML-based explicit engineering practice, facing a large number of highly open and configurable platform technologies, the complexity grows continuously with the utilization rate of platform technologies, and ends up in a rigid state that is hard to read, write, constrain, test, and maintain.\\n\\n\\n## 5. Automation: New Challenges\\n\\nAutomation is a classic domain in the field of infrastructure operation. With the wide and rapid adoption of cloud-native concepts and technologies, the ability to automatically integrate turns out to be the basic requirement of enterprise operation practice. Open source, highly configurable CI and CD technologies are gradually adopted by enterprises. The black-box \\"product\\" approach that cannot be integrated is gradually weakened and replaced by a flexible orchestration approach. The main advantages of this practice lie in its powerful customize orchestration and linking capabilities, high scalability as well as good portability. Especially in the Kubernetes ecosystem, the GitOps method has a high adoption rate and a natural affinity with configurable CI and CD technologies. Such changes are also promoting the gradual transformation of the work order and product centric workflow into a self-service and engineering efficiency platform centric workflow, and the operational capability of the production environment has become an important part of the automatic workflow. In the open source community, the technology innovation of the abstraction layer for different engineering efficiency platforms is also active in progress. The developers on the platform side hope to get through the CI and CD process applied to the cloud environment through the shortest cognitive and practical path.\\n\\nIn Ant Group\'s engineering practice, the engineering efficiency platform is deeply involved in the open automation practice of Konfig monorepo, and our practice direction is also highly aligned with the technological roadmap of the engineering efficiency platform. In the collaborative work of several people to dozens or even hundreds of people, workflow design for operation scenarios, high-frequency code submission and pipeline execution, real-time automated testing and deployment pose several challenges to the engineering efficiency platform. Especially the diverse businesses in monorepo require independent and powerful workflow customization and operation support, as well as parallel workflow execution capabilities with high real-time and strong SLO guarantee. The requirements of the single-repository mode are hugely different and troublesome. Most configuration languages are interpreted languages, while KCL is designed as a compiled language, implemented by Rust, C and LLVM optimizer, to provide high-performance compile-time and runtime execution for large-scale KCL files. At the same time, KCL supports compiling native code and wasm binary to meet various runtimes execution requirements. In addition, the storage and architecture design of Git is different from the [Citc/Piper](https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext) architecture, and it is not suitable for monorepo of large-scale code. Fortunately, we have not encountered a big problem with the scale of code today. Meanwhile, we\u2019re working together to solve problems and hope to solve them gradually as the practice deepens.\\n\\n## 6. Collaborative Culture: A More Important Thing\\n\\nThe above technologies, tools and mechanisms are very important, but I must say that for engineering and DevOps, the culture of collaboration, cooperation and sharing among groups and teams is more important, because it\u2019s work composed of people, which means people and culture are actually the key points. Within an enterprise full of team silos or isolated teams, people tend to pursue a closed and bad engineering culture, thus we usually see a large number of private code bases and private documents, the judging and working method of small isolated groups. Teams that are supposed to work closely together actually do their own thing and chase after their own private goals. I think it\u2019ll be very difficult to do anything at scale in a culture like this. So if your company or team plans to adopt DevOps at scale, the most important thing is to communicate extensively and to start the culture construction, because it\u2019s not just such a kind of issue concerning a few persons, and it\u2019s also quite difficult and unmanageable.\\n\\nIn Ant Group\'s practice, there are always various difficulties in the initial stage, and everyone\'s concerns about the self-service mechanism and collaborative culture are particularly obvious, such as \\"I need to write code?\\" \\"My code is actually in the same codebase with other teams?\\", \\"The job I\'m in charge of is not easy, it won\'t work this way\\" are typical. Fortunately, we ended up with a virtual organization for common goals, with full support from partners and leaders, and we reached a consensus in the mass. Although the application developers are always complaining about the technology, workflow and mechanism, and hope to obtain a better user experience, which is understandable in deed, the application developers themselves are not the meant obstacle. The real obstacle firstly comes from the operation platform dev team itself. I see that the DevOps ideal of some companies turns into that the operation platform team does all the work for the application developers, even prevents users from accessing labor tools such as code and toolchains, and rushes to hide behind the existing GUI product, which deviates from the original intention and underestimates the capabilities and creativity of the users. Secondly, the obstacles also come from the technical leaders of some platform technical teams. It is difficult for them to give up focusing on the existing work that has lasted for many years, and then accept a new user service model. The feasible way is to let them understand the meaning and vision of the work, and gradually exert influence on them step by step and stage by stage.\\n\\n\\n## 7. Summary\\n\\nAfter more than a year of practice, 400+ developers have directly participated in the code contribution of Konfig monorepo, and managed more than 1500 projects. Among them, the ratio of platform developers together with platform SREs to application developers is less than 1:9. Some of these application developers are the application owners themselves, and some are representatives of the application dev team, which is up to the application team itself. Through continuous automation capability building, 200-300 commits occur every day based on the Konfig monorepo, most of which are automated code modifications, about 1k pipeline task executions and nearly 10k KCL compilation executions. Today, if you compile the full code in Config once and output it, 300W+ lines of YAML text will be generated. A release operation process requires multiple compilations with different parameter combinations. Through the lightweight and portable code base and toolchains, we have completed a significant external private cloud delivery, eliminating the pain of transforming and porting a series of old operation platforms. Inside Ant Group, we have served several different operation scenarios, and are expanding the scale and exploring more possibilities.\\n\\nFinally, I would like to talk about the next step. There\u2019re still possibilities and potentialities for us to keep improving our technology and tools in terms of usability and user experience. More user feedback and continuous improvement are always needed, and there is no shortcut for experience work. In the aspect of testing, we provide simple integration testing methods, which play the role of smoke testing, however, it is far from enough. We are trying to ensure correctness based on schema constraints and environmental rules rather than tests. In terms of work interface, we hope to build an IDE-based dev workspace and continue to enhance and optimize the internal workflow experience. At the same time, we hope to continue to improve coverage and technical capabilities. In addition, we also hope to apply the practice method more widely in CI and operation workflow, as well as other scenarios, to shorten end-user awareness and end-to-end workflow. At present, KusionStack is still in the very early stage of open source, and there is a lot of work to do in the future. The most important thing is that we hope to share the concepts and practices of our platform engineering with more companies and teams, to bring about and witness some interesting changes together.\\n\\n\\n## 8. Reference\\n\\n- [https://kusionstack.io/docs/user_docs/intro/kusion-intro](https://kusionstack.io/docs/user_docs/intro/kusion-intro)\\n- [https://platformengineering.org/blog/what-is-platform-engineering](https://platformengineering.org/blog/what-is-platform-engineering)\\n- [https://internaldeveloperplatform.org/what-is-an-internal-developer-platform/](https://internaldeveloperplatform.org/what-is-an-internal-developer-platform/)\\n- [https://web.devopstopologies.com/#anti-types](https://web.devopstopologies.com/#anti-types)\\n- [https://github.com/KusionStack/kusion](https://github.com/KusionStack/kusion)\\n- [https://github.com/KusionStack/KCLVM](https://github.com/KusionStack/KCLVM)\\n- [https://kusionstack.io/docs/reference/lang/lang/tour](https://kusionstack.io/docs/reference/lang/lang/tour/#%E9%85%8D%E7%BD%AE%E6%93%8D%E4%BD%9C)\\n- [https://kusionstack.io/docs/user_docs/concepts/konfig](https://kusionstack.io/docs/user_docs/concepts/konfig)\\n- [https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext](https://cacm.acm.org/magazines/2016/7/204032-why-google-stores-billions-of-lines-of-code-in-a-single-repository/fulltext)"},{"id":"2022-declarative-config-overview","metadata":{"permalink":"/blog/2022-declarative-config-overview","editUrl":"https://github.com/KusionStack/kusionstack.io/blob/main/blog/2022-09-15-declarative-config-overview/index.md","source":"@site/blog/2022-09-15-declarative-config-overview/index.md","title":"\u58f0\u660e\u5f0f\u914d\u7f6e\u6280\u672f\u6982\u8ff0","description":"\u96f6\u3001\u524d\u8a00","date":"2022-09-15T00:00:00.000Z","formattedDate":"September 15, 2022","tags":[{"label":"KusionStack","permalink":"/blog/tags/kusion-stack"},{"label":"Kusion","permalink":"/blog/tags/kusion"},{"label":"KCLVM","permalink":"/blog/tags/kclvm"},{"label":"Configuration","permalink":"/blog/tags/configuration"}],"readingTime":48.665,"truncated":false,"authors":[{"name":"\u5f90\u9e4f\u98de","title":"KusionStack \u56e2\u961f\u6210\u5458"}],"frontMatter":{"slug":"2022-declarative-config-overview","title":"\u58f0\u660e\u5f0f\u914d\u7f6e\u6280\u672f\u6982\u8ff0","authors":{"name":"\u5f90\u9e4f\u98de","title":"KusionStack \u56e2\u961f\u6210\u5458"},"tags":["KusionStack","Kusion","KCLVM","Configuration"]},"prevItem":{"title":"What We Learned From Large-scale Platform Engineering Practices","permalink":"/blog/2022-learn-from-scale-practice"},"nextItem":{"title":"KusionStack \u5f00\u6e90\u6709\u611f","permalink":"/blog/2022-sense-of-open-day"}},"content":"## \u96f6\u3001\u524d\u8a00\\n\\n\u6587\u672c\u4ec5\u7528\u4e8e\u6f84\u6e05\u58f0\u660e\u5f0f\u914d\u7f6e\u6280\u672f\u6982\u8ff0\uff0cKCL \u6982\u5ff5\u4ee5\u53ca\u6838\u5fc3\u8bbe\u8ba1\uff0c\u4ee5\u53ca\u4e0e\u5176\u4ed6\u914d\u7f6e\u8bed\u8a00\u7684\u5bf9\u6bd4\uff0c\u66f4\u591a KusionStack \u7684\u6982\u5ff5\u3001\u80cc\u666f\u4e0e\u8bbe\u8ba1\u3001\u4ee5\u53ca\u4e0e\u5176\u4ed6\u5f00\u6e90\u6280\u672f\u6808\u7684\u533a\u522b\u5c06\u4e0d\u4f1a\u5728\u672c\u6587\u4e2d\u8ba8\u8bba\u3002\\n\\n## \u4e00\u3001\u58f0\u660e\u5f0f\u914d\u7f6e\u6982\u8ff0\\n\\n### 1.1 \u914d\u7f6e\u7684\u91cd\u8981\u6027\\n\\n- \u8f6f\u4ef6\u4e0d\u662f\u4e00\u6210\u4e0d\u53d8\u7684\uff0c\u6bcf\u5929\u6709\u6210\u5343\u4e0a\u4e07\u7684\u914d\u7f6e\u66f4\u65b0\uff0c\u5e76\u4e14\u914d\u7f6e\u672c\u8eab\u4e5f\u5728\u9010\u6e10\u6f14\u8fdb\uff0c\u5bf9\u89c4\u6a21\u5316\u6548\u7387\u6709\u8f83\u9ad8\u7684\u8bc9\u6c42\\n  - **\u914d\u7f6e\u66f4\u65b0\u8d8a\u6765\u8d8a\u9891\u7e41**\uff1a\u800c\u914d\u7f6e\u63d0\u4f9b\u4e86\u4e00\u79cd\u6539\u53d8\u7cfb\u7edf\u529f\u80fd\u7684\u4f4e\u5f00\u9500\u65b9\u5f0f\uff0c\u4e0d\u65ad\u53d1\u5c55\u7684\u4e1a\u52a1\u9700\u6c42\u3001\u57fa\u7840\u8bbe\u65bd\u8981\u6c42\u548c\u5176\u4ed6\u56e0\u7d20\u610f\u5473\u7740\u7cfb\u7edf\u9700\u8981\u4e0d\u65ad\u53d8\u5316\u3002\\n  - **\u914d\u7f6e\u89c4\u6a21\u8d8a\u6765\u8d8a\u5927**\uff1a\u4e00\u4efd\u914d\u7f6e\u5f80\u5f80\u8981\u5206\u53d1\u5230\u4e0d\u540c\u7684\u4e91\u7ad9\u70b9\u3001\u4e0d\u540c\u7684\u79df\u6237\u3001\u4e0d\u540c\u7684\u73af\u5883\u7b49\u3002\\n  - **\u914d\u7f6e\u573a\u666f\u5e7f\u6cdb**\uff1a\u5e94\u7528\u914d\u7f6e\u3001\u6570\u636e\u5e93\u914d\u7f6e\u3001\u7f51\u7edc\u914d\u7f6e\u3001\u76d1\u63a7\u914d\u7f6e\u7b49\u3002\\n  - **\u914d\u7f6e\u683c\u5f0f\u7e41\u591a**\uff1aJSON, YAML, XML, TOML, \u5404\u79cd\u914d\u7f6e\u6a21\u7248\u5982 Java Velicity, Go Template \u7b49\u3002\\n- \u914d\u7f6e\u7684\u7a33\u5b9a\u6027\u81f3\u5173\u91cd\u8981\uff0c\u7cfb\u7edf\u5b95\u673a\u6216\u51fa\u9519\u7684\u4e00\u4e2a\u6700\u4e3b\u8981\u539f\u56e0\u662f\u6709\u5927\u91cf\u5de5\u7a0b\u5e08\u8fdb\u884c\u9891\u7e41\u7684\u5b9e\u65f6\u914d\u7f6e\u66f4\u65b0\uff0c\u8868 1 \u793a\u51fa\u4e86\u51e0\u4e2a\u7531\u4e8e\u914d\u7f6e\u5bfc\u81f4\u7684\u7cfb\u7edf\u51fa\u9519\u4e8b\u4ef6\u3002\\n\\n| \u65f6\u95f4 | \u4e8b\u4ef6 |\\n| --- | --- |\\n| 2021 \u5e74 7 \u6708 | \u4e2d\u56fd Bilibili \u516c\u53f8\u7531\u4e8e SLB Lua \u914d\u7f6e\u8ba1\u7b97\u51fa\u9519\u9677\u5165\u6b7b\u5faa\u73af\u5bfc\u81f4\u7f51\u7ad9\u5b95\u673a |\\n| 2021 \u5e74 10 \u6708 | \u97e9\u56fd KT \u516c\u53f8\u7531\u4e8e\u8def\u7531\u914d\u7f6e\u9519\u8bef\u5bfc\u81f4\u5728\u5168\u56fd\u8303\u56f4\u5185\u906d\u53d7\u91cd\u5927\u7f51\u7edc\u4e2d\u65ad |\\n\\n\u8868 1 \u914d\u7f6e\u5bfc\u81f4\u7684\u7cfb\u7edf\u51fa\u9519\u4e8b\u4ef6\\n\\n### 1.2 \u58f0\u660e\u5f0f\u914d\u7f6e\u5206\u7c7b\\n\\n\u4e91\u539f\u751f\u65f6\u4ee3\u5e26\u6765\u4e86\u5982\u96e8\u540e\u6625\u7b0b\u822c\u7684\u6280\u672f\u53d1\u5c55\uff0c\u51fa\u73b0\u4e86\u5927\u91cf\u9762\u5411\u7ec8\u6001\u7684\u58f0\u660e\u5f0f\u914d\u7f6e\u5b9e\u8df5\uff0c\u5982\u56fe 1 \u6240\u793a\uff0c\u58f0\u660e\u5f0f\u5206\u7c7b\u4e00\u822c\u53ef\u5206\u4e3a\u5982\u4e0b\u51e0\u79cd\u65b9\u5f0f\u3002\\n![](/img/blog/2022-09-15-declarative-config-overview/01-declarative-config.png)\\n\u56fe 1 \u58f0\u660e\u5f0f\u914d\u7f6e\u65b9\u5f0f\u5206\u7c7b\\n\\n#### 1.2.1 \u7ed3\u6784\u5316 (Structured) \u7684 KV\\n\\n- \u80fd\u529b\\n  - \u7ed3\u6784\u5316 kv \u6ee1\u8db3\u6700\u5c0f\u6570\u636e\u5316\u58f0\u660e\u9700\u6c42\uff08int, string, list, dict\uff09\\n  - \u968f\u7740\u4e91\u539f\u751f\u6280\u672f\u5feb\u901f\u53d1\u5c55\u5e94\u7528\uff0c\u58f0\u660e\u5f0f API \u6ee1\u8db3 X as Data \u53d1\u5c55\u8bc9\u6c42\\n  - \u9762\u5411\u673a\u5668\u53ef\u8bfb\u53ef\u5199\uff0c\u9762\u5411\u4eba\u7c7b\u53ef\u8bfb\\n- \u4f18\u52bf\\n  - \u8bed\u6cd5\u7b80\u5355\uff0c\u6613\u4e8e\u7f16\u5199\u548c\u9605\u8bfb\\n  - \u591a\u8bed\u8a00 API \u4e30\u5bcc\\n  - \u6709\u5404\u79cd Path \u5de5\u5177\u65b9\u4fbf\u6570\u636e\u67e5\u8be2\uff0c\u5982 XPath, JsonPath\\n- \u75db\u70b9\\n  - \u5197\u4f59\u4fe1\u606f\u591a\uff1a\u5f53\u914d\u7f6e\u89c4\u6a21\u8f83\u5927\u65f6\uff0c\u7ef4\u62a4\u548c\u9605\u8bfb\u914d\u7f6e\u5f88\u56f0\u96be\uff0c\u56e0\u4e3a\u91cd\u8981\u7684\u914d\u7f6e\u4fe1\u606f\u88ab\u6df9\u6ca1\u5728\u4e86\u5927\u91cf\u4e0d\u76f8\u5173\u7684\u91cd\u590d\u7ec6\u8282\u4e2d\\n  - \u529f\u80fd\u6027\u4e0d\u8db3\\n    - \u7ea6\u675f\u6821\u9a8c\u80fd\u529b\\n    - \u590d\u6742\u903b\u8f91\u7f16\u5199\u80fd\u529b\\n    - \u6d4b\u8bd5\u3001\u8c03\u8bd5\u80fd\u529b\\n    - \u4e0d\u6613\u62bd\u8c61\u548c\u590d\u7528\\n    - Kustomize \u7684 Patch \u6bd4\u8f83\u5b9a\u5236\uff0c\u57fa\u672c\u662f\u901a\u8fc7\u56fa\u5b9a\u51e0\u79cd Patch Merge \u7b56\u7565\\n- \u4ee3\u8868\u6280\u672f\\n  - JSON/YAML\uff1a\u975e\u5e38\u65b9\u4fbf\u9605\u8bfb\uff0c\u4ee5\u53ca\u81ea\u52a8\u5316\u5904\u7406\uff0c\u4e0d\u540c\u7684\u8bed\u8a00\u5747\u5177\u6709\u4e30\u5bcc\u7684 API \u652f\u6301\u3002\\n  - Kustomize\uff1a\u63d0\u4f9b\u4e86\u4e00\u79cd\u65e0\u9700**\u6a21\u677f**\u548c **DSL** \u5373\u53ef\u81ea\u5b9a\u4e49 Kubernetes \u8d44\u6e90\u57fa\u7840\u914d\u7f6e\u548c\u5dee\u5f02\u5316\u914d\u7f6e\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u672c\u8eab\u4e0d\u89e3\u51b3\u7ea6\u675f\u7684\u95ee\u9898\uff0c\u9700\u8981\u914d\u5408\u5927\u91cf\u7684\u989d\u5916\u5de5\u5177\u8fdb\u884c\u7ea6\u675f\u68c0\u67e5\u5982 [Kube-linter](https://github.com/stackrox/kube-linter)\u3001[Checkov](https://github.com/bridgecrewio/checkov) \u7b49\u68c0\u67e5\u5de5\u5177\uff0c\u56fe 2 \u793a\u51fa\u4e86 Kustomize \u7684\u5178\u578b\u5de5\u4f5c\u65b9\u5f0f\u3002\\n\\n![](/img/blog/2022-09-15-declarative-config-overview/02-kustomize.png)\\n\u56fe 2 Kustomize \u5178\u578b\u5de5\u4f5c\u65b9\u5f0f\\n\\n#### 1.2.3 \u6a21\u7248\u5316 (Templated) \u7684 KV\\n\\n- \u80fd\u529b\\n  - \u8d4b\u4e88\u9759\u6001\u914d\u7f6e\u6570\u636e\u52a8\u6001\u53c2\u6570\u7684\u80fd\u529b\uff0c\u4e00\u4efd\u6a21\u7248+\u52a8\u6001\u53c2\u6570\u8f93\u51fa\u4e0d\u540c\u7684\u9759\u6001\u914d\u7f6e\u6570\u636e\\n- \u4f18\u52bf\\n  - \u7b80\u5355\u7684\u914d\u7f6e\u903b\u8f91\uff0c\u5faa\u73af\u652f\u6301\\n  - \u652f\u6301\u5916\u90e8\u52a8\u6001\u53c2\u6570\u8f93\u5165\u6a21\u7248\\n- \u75db\u70b9\\n  - \u5bb9\u6613\u843d\u5165\u6240\u6709\u914d\u7f6e\u53c2\u6570\u90fd\u662f\u6a21\u7248\u53c2\u6570\u7684\u9677\u9631\\n  - \u5f53\u914d\u7f6e\u89c4\u6a21\u53d8\u5927\u65f6\uff0c\u5f00\u53d1\u8005\u548c\u5de5\u5177\u90fd\u96be\u4ee5\u7ef4\u62a4\u548c\u5206\u6790\u5b83\u4eec\\n- \u4ee3\u8868\u6280\u672f\\n  - Helm\uff1aKubernetes \u8d44\u6e90\u7684\u5305\u7ba1\u7406\u5de5\u5177\uff0c\u901a\u8fc7\u914d\u7f6e\u6a21\u7248\u7ba1\u7406 Kubernetes \u8d44\u6e90\u914d\u7f6e\u3002\u56fe 3 \u793a\u51fa\u4e86\u4e00\u4e2a Helm Jekins Package ConfigMap \u914d\u7f6e\u6a21\u7248\uff0c\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e9b\u6a21\u7248\u672c\u8eab\u90fd\u5341\u5206\u77ed\u5c0f\uff0c\u53ef\u4ee5\u4e66\u5199\u7b80\u5355\u7684\u903b\u8f91\uff0c\u9002\u5408 Kubernetes \u57fa\u7840\u7ec4\u4ef6\u56fa\u5b9a\u7684\u4e00\u7cfb\u5217\u8d44\u6e90\u914d\u7f6e\u901a\u8fc7\u5305\u7ba1\u7406+\u989d\u5916\u7684\u914d\u7f6e\u53c2\u6570\u8fdb\u884c\u5b89\u88c5\u3002\u76f8\u6bd4\u4e8e\u5355\u7eaf\u7684\u6a21\u7248\u5316\u7684 KV\uff0cHelm \u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u63d0\u4f9b\u4e86\u6a21\u7248\u5b58\u50a8/\u5f15\u7528\u548c\u8bed\u4e49\u5316\u7248\u672c\u7ba1\u7406\u7684\u80fd\u529b\u76f8\u6bd4\u4e8e Kustomize \u66f4\u9002\u5408\u7ba1\u7406\u5916\u90e8 Charts, \u4f46\u662f\u5728\u591a\u73af\u5883\u3001\u591a\u79df\u6237\u7684\u914d\u7f6e\u7ba1\u7406\u4e0a\u4e0d\u592a\u64c5\u957f\u3002\\n\\n![](/img/blog/2022-09-15-declarative-config-overview/03-helm.png)\\n\u56fe 3 Helm Jekins Package ConfigMap \u914d\u7f6e\u6a21\u7248\\n\\n- \u5176\u4ed6\u5404\u79cd\u914d\u7f6e\u6a21\u7248\uff1aJava Velocity, Go Template \u7b49\u6587\u672c\u6a21\u677f\u5f15\u64ce\u975e\u5e38\u9002\u5408 HTML \u7f16\u5199\u6a21\u677f\u3002\u4f46\u662f\u5728\u914d\u7f6e\u573a\u666f\u4e2d\u4f7f\u7528\u65f6\uff0c\u5b58\u5728\u6240\u6709\u914d\u7f6e\u5b57\u6bb5\u5373\u6a21\u7248\u53c2\u6570\u7684\u98ce\u9669\uff0c\u5f00\u53d1\u8005\u548c\u5de5\u5177\u90fd\u96be\u4ee5\u7ef4\u62a4\u548c\u5206\u6790\u5b83\u4eec\u3002\\n\\n#### 1.2.3 \u4ee3\u7801\u5316 (Programmable) \u7684 KV\\n\\n- \u6982\u5ff5\\n  - Configuration as Code (CaC), \u4f7f\u7528\u4ee3\u7801\u4ea7\u751f\u914d\u7f6e\uff0c\u5c31\u50cf\u5de5\u7a0b\u5e08\u4eec\u53ea\u9700\u8981\u5199\u9ad8\u7ea7 GPL \u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u624b\u5de5\u7f16\u5199\u5bb9\u6613\u51fa\u9519\u800c\u4e14\u96be\u4ee5\u7406\u89e3\u7684\u670d\u52a1\u5668\u4e8c\u8fdb\u5236\u4ee3\u7801\u4e00\u6837\u3002\\n  - \u914d\u7f6e\u53d8\u66f4\u540c\u4ee3\u7801\u53d8\u66f4\u540c\u6837\u4e25\u8083\u5730\u5bf9\u5f85\uff0c\u540c\u6837\u53ef\u4ee5\u6267\u884c\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\u7b49\\n  - \u4ee3\u7801\u6a21\u5757\u5316\u548c\u91cd\u7528\u662f\u7ef4\u62a4\u914d\u7f6e\u4ee3\u7801\u6bd4\u624b\u52a8\u7f16\u8f91 JSON/YAML \u7b49\u914d\u7f6e\u6587\u4ef6\u66f4\u5bb9\u6613\u7684\u4e00\u4e2a\u5173\u952e\u539f\u56e0\\n- \u80fd\u529b\\n  - \u5fc5\u8981\u7684\u7f16\u7a0b\u8bed\u8a00\u5143\u7d20\uff08\u53d8\u91cf\u5b9a\u4e49\u3001\u903b\u8f91\u5224\u65ad\u3001\u5faa\u73af\u3001\u65ad\u8a00\u7b49\uff09\\n  - \u5fc5\u8981\u7684\u6a21\u677f\u5316\u80fd\u529b\uff08\u652f\u6301\u5b9a\u4e49\u6570\u636e\u6a21\u7248\uff0c\u5e76\u7528\u6a21\u7248\u5f97\u5230\u65b0\u7684\u914d\u7f6e\u6570\u636e\uff09\\n  - \u4ee3\u7801\u6a21\u5757\u5316\u80fd\u529b\uff1a\u7ed3\u6784 + \u5305\u7ba1\u7406\\n  - \u9762\u5411\u4eba\u7c7b\u53ef\u8bfb\u53ef\u5199\uff0c\u9762\u5411\u673a\u5668\u90e8\u5206\u53ef\u8bfb\u53ef\u5199\\n- \u4f18\u52bf\\n  - \u5fc5\u8981\u7684\u7f16\u7a0b\u80fd\u529b\\n  - \u4ee3\u7801\u6a21\u5757\u5316\u4e0e\u62bd\u8c61\\n  - \u53ef\u4ee5\u62bd\u8c61\u914d\u7f6e\u6a21\u7248+\u5e76\u4f7f\u7528\u914d\u7f6e\u8986\u76d6\\n- \u75db\u70b9\\n  - \u7c7b\u578b\u68c0\u67e5\u4e0d\u8db3\\n  - \u8fd0\u884c\u65f6\u9519\u8bef\\n  - \u7ea6\u675f\u80fd\u529b\u4e0d\u8db3\\n- \u4ee3\u8868\u6280\u672f\uff1a\\n  - GCL\uff1a\u4e00\u79cd Python \u5b9e\u73b0\u7684\u58f0\u660e\u5f0f\u914d\u7f6e\u7f16\u7a0b\u8bed\u8a00\uff0c\u63d0\u4f9b\u4e86\u5fc5\u8981\u7684\u8bed\u8a00\u80fd\u529b\u652f\u6301\u6a21\u7248\u62bd\u8c61\uff0c\u4f46\u7f16\u8bd1\u5668\u672c\u8eab\u662f Python \u7f16\u5199\uff0c\u4e14\u8bed\u8a00\u672c\u8eab\u662f\u89e3\u91ca\u6267\u884c\uff0c\u5bf9\u4e8e\u5927\u7684\u6a21\u7248\u5b9e\u4f8b (\u6bd4\u5982 K8s \u6a21\u578b) \u6027\u80fd\u8f83\u5dee\u3002\\n  - HCL\uff1a\u4e00\u79cd Go \u5b9e\u73b0\u7ed3\u6784\u5316\u914d\u7f6e\u8bed\u8a00\uff0c\u539f\u751f\u8bed\u6cd5\u53d7\u5230 libucl\u3001nginx \u914d\u7f6e\u7b49\u7684\u542f\u53d1\uff0c\u7528\u4e8e\u521b\u5efa\u5bf9\u4eba\u7c7b\u548c\u673a\u5668\u90fd\u53cb\u597d\u7684\u7ed3\u6784\u5316\u914d\u7f6e\u8bed\u8a00\uff0c\u4e3b\u8981\u9488\u5bf9 devops \u5de5\u5177\u3001\u670d\u52a1\u5668\u914d\u7f6e\u4ee5\u53ca Terraform \u4e2d\u5b9a\u4e49\u8d44\u6e90\u914d\u7f6e\u7b49\u3002\\n  - Jsonnet\uff1a\u4e00\u79cd C++ \u5b9e\u73b0\u7684\u6570\u636e\u6a21\u677f\u8bed\u8a00\uff0c\u9002\u7528\u4e8e\u5e94\u7528\u7a0b\u5e8f\u548c\u5de5\u5177\u5f00\u53d1\u4eba\u5458\uff0c\u53ef\u4ee5\u751f\u6210\u914d\u7f6e\u6570\u636e\u5e76\u4e14\u65e0\u526f\u4f5c\u7528\u7ec4\u7ec7\u3001\u7b80\u5316\u3001\u7edf\u4e00\u7ba1\u7406\u5e9e\u5927\u7684\u914d\u7f6e\u3002\\n\\n#### 1.2.4 \u7c7b\u578b\u5316 (Typed) \u7684 KV\\n\\n- \u4f18\u52bf\\n  - \u914d\u7f6e\u5408\u5e76\u5b8c\u5168\u5e42\u7b49\uff0c\u5929\u7136\u9632\u6b62\u914d\u7f6e\u51b2\u7a81\\n  - \u4e30\u5bcc\u7684\u914d\u7f6e\u7ea6\u675f\u8bed\u6cd5\u7528\u4e8e\u7f16\u5199\u7ea6\u675f\\n  - \u5c06\u7c7b\u578b\u548c\u503c\u7ea6\u675f\u7f16\u5199\u62bd\u8c61\u4e3a\u540c\u4e00\u79cd\u5f62\u5f0f\uff0c\u7f16\u5199\u7b80\u5355\\n  - \u914d\u7f6e\u987a\u5e8f\u65e0\u5173\\n- \u75db\u70b9\\n  - \u56fe\u5408\u5e76\u548c\u5e42\u7b49\u5408\u5e76\u7b49\u6982\u5ff5\u590d\u6742\uff0c\u7528\u6237\u7406\u89e3\u6210\u672c\u8f83\u9ad8\\n  - \u7c7b\u578b\u548c\u503c\u6df7\u5408\u5b9a\u4e49\u63d0\u9ad8\u62bd\u8c61\u7a0b\u5ea6\u7684\u540c\u65f6\u63d0\u5347\u4e86\u7528\u6237\u7684\u7406\u89e3\u6210\u672c\uff0c\u5e76\u4e14\u6240\u6709\u7ea6\u675f\u5728\u8fd0\u884c\u65f6\u8fdb\u884c\u68c0\u67e5\uff0c\u5927\u89c4\u6a21\u914d\u7f6e\u4ee3\u7801\u4e0b\u6709\u6027\u80fd\u74f6\u9888\\n  - \u5bf9\u4e8e\u60f3\u8981\u914d\u7f6e\u8986\u76d6\u3001\u4fee\u6539\u7684\u591a\u79df\u6237\u3001\u591a\u73af\u5883\u573a\u666f\u96be\u4ee5\u5b9e\u73b0\\n  - \u5bf9\u4e8e\u5e26\u6761\u4ef6\u7684\u7ea6\u675f\u573a\u666f\uff0c\u5b9a\u4e49\u548c\u6821\u9a8c\u6df7\u5408\u5b9a\u4e49\u7f16\u5199\u7528\u6237\u754c\u9762\u4e0d\u53cb\u597d\\n- \u4ee3\u8868\u6280\u672f\uff1a\\n  - CUE\uff1aCUE \u89e3\u51b3\u7684\u6838\u5fc3\u95ee\u9898\u662f\u201c\u7c7b\u578b\u68c0\u67e5\u201d\uff0c\u4e3b\u8981\u5e94\u7528\u4e8e\u914d\u7f6e\u7ea6\u675f\u6821\u9a8c\u573a\u666f\u53ca\u7b80\u5355\u7684\u4e91\u539f\u751f\u914d\u7f6e\u573a\u666f\\n\\n#### 1.2.5 \u6a21\u578b\u5316 (Structural) \u7684 KV\\n\\n- \u4f18\u52bf\\n  - \u4ee5\u9ad8\u7ea7\u8bed\u8a00\u5efa\u6a21\u80fd\u529b\u4e3a\u6838\u5fc3\u63cf\u8ff0\\n    - \u6a21\u578b\u590d\u7528\\n    - \u4e0d\u53ef\u53d8\u6027\\n    - \u7ea6\u675f\u6821\u9a8c\\n  - \u5f15\u5165\u53ef\u5206\u5757\u3001\u53ef\u6269\u5c55\u7684 KV \u914d\u7f6e\u5757\u7f16\u5199\u65b9\u5f0f\\n  - \u7c7b\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00\u7684\u7f16\u5199\u3001\u6d4b\u8bd5\u65b9\u5f0f\\n  - \u8bed\u8a00\u5185\u7f6e\u7684\u5f3a\u6821\u9a8c\u3001\u5f3a\u7ea6\u675f\u652f\u6301\\n  - \u9762\u5411\u4eba\u7c7b\u53ef\u8bfb\u53ef\u5199\uff0c\u9762\u5411\u673a\u5668\u90e8\u5206\u53ef\u8bfb\u53ef\u5199\\n- \u4e0d\u8db3\\n  - \u6269\u5c55\u65b0\u6a21\u578b\u53ca\u751f\u6001\u6784\u5efa\u9700\u8981\u4e00\u5b9a\u7684\u7814\u53d1\u6210\u672c\\n- \u4ee3\u8868\u6280\u672f\uff1aKCL\uff0c\u628a\u8fd0\u7ef4\u7c7b\u7814\u53d1\u7edf\u4e00\u4e3a\u4e00\u79cd\u58f0\u660e\u5f0f\u7684\u4ee3\u7801\u7f16\u5199\uff0c\u53ef\u4ee5\u9488\u5bf9\u5dee\u5f02\u5316\u5e94\u7528\u4ea4\u4ed8\u573a\u666f\u62bd\u8c61\u51fa\u7528\u6237\u6a21\u578b\u5e76\u6dfb\u52a0\u76f8\u5e94\u7684\u7ea6\u675f\u80fd\u529b\uff0c\u671f\u671b\u501f\u52a9\u53ef\u7f16\u7a0b devops \u89e3\u51b3\u89c4\u6a21\u5316\u8fd0\u7ef4\u573a\u666f\u4e2d\u7684\u914d\u7f6e\u7b56\u7565\u7f16\u5199\u7684\u6548\u7387\u548c\u53ef\u6269\u5c55\u6027\u7b49\u95ee\u9898\u3002\u56fe 4 \u793a\u51fa\u4e86\u4e00\u4e2a KCL \u7f16\u5199\u5e94\u7528\u4ea4\u4ed8\u914d\u7f6e\u4ee3\u7801\u7684\u5178\u578b\u573a\u666f\\n\\n![](/img/blog/2022-09-15-declarative-config-overview/04-kcl-app-code.png)\\n\u56fe 4 \u4f7f\u7528 KCL \u7f16\u5199\u5e94\u7528\u4ea4\u4ed8\u914d\u7f6e\u4ee3\u7801\\n\\n### 1.3 \u4e0d\u540c\u58f0\u660e\u5f0f\u914d\u7f6e\u65b9\u5f0f\u7684\u9009\u62e9\u6807\u51c6\u4e0e\u6700\u4f73\u5b9e\u8df5\\n\\n- \u914d\u7f6e\u7684\u89c4\u6a21\uff1a\u5bf9\u4e8e\u5c0f\u89c4\u6a21\u7684\u914d\u7f6e\u573a\u666f\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528 YAML/JSON \u7b49\u914d\u7f6e\uff0c\u6bd4\u5982\u5e94\u7528\u81ea\u8eab\u7684\u7b80\u5355\u914d\u7f6e\uff0cCI/CD \u7684\u914d\u7f6e\u3002\u6b64\u5916\u5bf9\u4e8e\u5c0f\u89c4\u6a21\u914d\u7f6e\u573a\u666f\u5b58\u5728\u7684\u591a\u73af\u5883\u3001\u591a\u79df\u6237\u7b49\u9700\u6c42\u53ef\u4ee5\u501f\u52a9 Kustomize \u7684 overlay \u80fd\u529b\u5b9e\u73b0\u7b80\u5355\u914d\u7f6e\u7684\u5408\u5e76\u8986\u76d6\u7b49\u64cd\u4f5c\u3002\\n- \u6a21\u578b\u62bd\u8c61\u4e0e\u7ea6\u675f\u7684\u5fc5\u8981\u6027\uff1a\u5bf9\u4e8e\u8f83\u5927\u89c4\u6a21\u7684\u914d\u7f6e\u573a\u666f\u7279\u522b\u662f\u5bf9\u591a\u79df\u6237\u3001\u591a\u73af\u5883\u7b49\u6709\u914d\u7f6e\u6a21\u578b\u548c\u8fd0\u7ef4\u7279\u6027\u7814\u53d1\u548c\u6c89\u6dc0\u8feb\u5207\u9700\u6c42\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee3\u7801\u5316\u3001\u7c7b\u578b\u5316\u548c\u6a21\u578b\u5316\u7684 KV \u65b9\u5f0f\u3002\\n\\n\u6b64\u5916\uff0c\u4ece\u4e0d\u540c\u58f0\u660e\u5f0f\u914d\u7f6e\u65b9\u5f0f\u7684\u4f7f\u7528\u573a\u666f\u51fa\u53d1\\n\\n- \u5982\u679c\u9700\u8981\u7f16\u5199\u7ed3\u6784\u5316\u7684\u9759\u6001\u7684 K-V\uff0c\u6216\u4f7f\u7528 Kubernetes \u539f\u751f\u7684\u6280\u672f\u5de5\u5177\uff0c\u5efa\u8bae\u9009\u62e9 YAML\\n- \u5982\u679c\u5e0c\u671b\u5f15\u5165\u7f16\u7a0b\u8bed\u8a00\u4fbf\u5229\u6027\u4ee5\u6d88\u9664\u6587\u672c(\u5982 YAML\u3001JSON) \u6a21\u677f\uff0c\u6709\u826f\u597d\u7684\u53ef\u8bfb\u6027\uff0c\u6216\u8005\u5df2\u662f Terraform \u7684\u7528\u6237\uff0c\u5efa\u8bae\u9009\u62e9 HCL\\n- \u5982\u679c\u5e0c\u671b\u5f15\u5165\u7c7b\u578b\u529f\u80fd\u63d0\u5347\u7a33\u5b9a\u6027\uff0c\u7ef4\u62a4\u53ef\u6269\u5c55\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5efa\u8bae\u9009\u62e9 CUE \u4e4b\u7c7b\u7684\u6570\u636e\u7ea6\u675f\u8bed\u8a00\\n- \u5982\u679c\u5e0c\u671b\u4ee5\u73b0\u4ee3\u8bed\u8a00\u65b9\u5f0f\u7f16\u5199\u590d\u6742\u7c7b\u578b\u548c\u5efa\u6a21\uff0c\u7ef4\u62a4\u53ef\u6269\u5c55\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u539f\u751f\u7684\u7eaf\u51fd\u6570\u548c\u7b56\u7565\uff0c\u548c\u751f\u4ea7\u7ea7\u7684\u6027\u80fd\u548c\u81ea\u52a8\u5316\uff0c\u5efa\u8bae\u9009\u62e9 KCL\\n\\n\u4e0d\u540c\u4e8e\u793e\u533a\u4e2d\u7684\u5176\u4ed6\u540c\u7c7b\u578b\u9886\u57df\u8bed\u8a00\uff0cKCL \u662f\u4e00\u79cd\u9762\u5411\u5e94\u7528\u7814\u53d1\u4eba\u5458\u5e76\u91c7\u7eb3\u4e86\u73b0\u4ee3\u8bed\u8a00\u8bbe\u8ba1\u548c\u6280\u672f\u7684\u9759\u6001\u5f3a\u7c7b\u578b\u7f16\u8bd1\u8bed\u8a00\\n\\n> \u6ce8\u610f\uff0c\u672c\u6587\u5c06\u4e0d\u4f1a\u8ba8\u8bba\u901a\u7528\u8bed\u8a00\u7f16\u5199\u914d\u7f6e\u7684\u60c5\u51b5\uff0c\u901a\u7528\u8bed\u8a00\u4e00\u822c\u662f Overkill \u7684\uff0c\u5373\u8fdc\u8fdc\u8d85\u8fc7\u4e86\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u901a\u7528\u8bed\u8a00\u5b58\u5728\u5404\u5f0f\u5404\u6837\u7684\u5b89\u5168\u95ee\u9898\uff0c\u6bd4\u5982\u80fd\u529b\u8fb9\u754c\u95ee\u9898 (\u542f\u52a8\u672c\u5730\u7ebf\u7a0b\u3001\u8bbf\u95ee IO, \u7f51\u7edc\uff0c\u4ee3\u7801\u6b7b\u5faa\u73af\u7b49\u4e0d\u5b89\u5168\u9690\u60a3)\uff0c\u6bd4\u5982\u50cf\u97f3\u4e50\u9886\u57df\u5c31\u6709\u4e13\u95e8\u7684\u97f3\u7b26\u53bb\u8868\u793a\u97f3\u4e50\uff0c\u65b9\u4fbf\u5b66\u4e60\u4e0e\u4ea4\u6d41\uff0c\u4e0d\u662f\u4e00\u822c\u6587\u5b57\u8bed\u8a00\u53ef\u4ee5\u8868\u8ff0\u6e05\u695a\u7684\u3002\\n>\\n> \u6b64\u5916\uff0c\u901a\u7528\u8bed\u8a00\u56e0\u4e3a\u672c\u8eab\u5c31\u6837\u5f0f\u7e41\u591a\uff0c\u5b58\u5728\u7edf\u4e00\u7ef4\u62a4\u3001\u7ba1\u7406\u548c\u81ea\u52a8\u5316\u7684\u6210\u672c\uff0c\u4e14\u901a\u7528\u8bed\u8a00\u4e00\u822c\u662f\u7f16\u5199\u4e00\u4e2a\u8fc7\u7a0b\uff0c\u5e76\u6700\u7ec8\u88ab\u7f16\u8bd1\u4e3a\u4e8c\u8fdb\u5236\u4ece\u8fdb\u7a0b\u542f\u52a8\uff0c\u6269\u5c55\u6027\u4e0d\u597d\u63a7\u5236\uff0c\u800c\u914d\u7f6e\u8bed\u8a00\u5f80\u5f80\u7f16\u5199\u7684\u662f\u6570\u636e\uff0c\u518d\u642d\u914d\u4ee5\u7b80\u5355\u7684\u903b\u8f91\uff0c\u63cf\u8ff0\u7684\u662f\u671f\u671b\u7684\u6700\u7ec8\u7ed3\u679c\uff0c\u7136\u540e\u7531\u7f16\u8bd1\u5668\u6216\u8005\u5f15\u64ce\u6765\u6d88\u8d39\u8fd9\u4e2a\u671f\u671b\u7ed3\u679c\u3002\\n\\n## \u4e8c\u3001KCL \u7684\u6838\u5fc3\u8bbe\u8ba1\u4e0e\u5e94\u7528\u573a\u666f\\n\\nKusion \u914d\u7f6e\u8bed\u8a00\uff08KCL\uff09\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u57fa\u4e8e\u7ea6\u675f\u7684\u8bb0\u5f55\u53ca\u51fd\u6570\u8bed\u8a00\u3002KCL \u901a\u8fc7\u6210\u719f\u7684\u7f16\u7a0b\u8bed\u8a00\u6280\u672f\u548c\u5b9e\u8df5\u6765\u6539\u8fdb\u5bf9\u5927\u91cf\u7e41\u6742\u914d\u7f6e\u7684\u7f16\u5199\uff0c\u81f4\u529b\u4e8e\u6784\u5efa\u56f4\u7ed5\u914d\u7f6e\u7684\u66f4\u597d\u7684\u6a21\u5757\u5316\u3001\u6269\u5c55\u6027\u548c\u7a33\u5b9a\u6027\uff0c\u66f4\u7b80\u5355\u7684\u903b\u8f91\u7f16\u5199\uff0c\u4ee5\u53ca\u66f4\u5feb\u7684\u81ea\u52a8\u5316\u96c6\u6210\u548c\u826f\u597d\u7684\u751f\u6001\u5ef6\u5c55\u6027\u3002\\n\\nKCL \u7684\u6838\u5fc3\u7279\u6027\u662f\u5176**\u5efa\u6a21**\u548c**\u7ea6\u675f**\u80fd\u529b\uff0cKCL \u6838\u5fc3\u529f\u80fd\u57fa\u672c\u56f4\u7ed5 KCL \u8fd9\u4e2a\u4e24\u4e2a\u6838\u5fc3\u7279\u6027\u5c55\u5f00\uff0c\u6b64\u5916 KCL \u9075\u5faa\u4ee5\u7528\u6237\u4e3a\u4e2d\u5fc3\u7684\u914d\u7f6e\u7406\u5ff5\u800c\u8bbe\u8ba1\u5176\u6838\u5fc3\u7279\u6027\uff0c\u53ef\u4ee5\u4ece\u4e24\u4e2a\u65b9\u9762\u7406\u89e3\uff1a\\n\\n- **\u4ee5\u9886\u57df\u6a21\u578b\u4e3a\u4e2d\u5fc3\u7684\u914d\u7f6e\u89c6\u56fe**\uff1a\u501f\u52a9 KCL \u8bed\u8a00\u4e30\u5bcc\u7684\u7279\u6027\u53ca [KCL OpenAPI](https://kusionstack.io/docs/reference/cli/openapi/quick-start) \u7b49\u5de5\u5177\uff0c\u53ef\u4ee5\u5c06\u793e\u533a\u4e2d\u5e7f\u6cdb\u7684\u3001\u8bbe\u8ba1\u826f\u597d\u7684\u6a21\u578b\u76f4\u63a5\u96c6\u6210\u5230 KCL \u4e2d\uff08\u6bd4\u5982 K8s \u8d44\u6e90\u6a21\u578b\uff09\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u4e1a\u52a1\u573a\u666f\u8bbe\u8ba1\u3001\u5b9e\u73b0\u81ea\u5df1\u7684 KCL \u6a21\u578b (\u5e93) \uff0c\u5f62\u6210\u4e00\u6574\u5957\u9886\u57df\u6a21\u578b\u67b6\u6784\u4ea4\u7531\u5176\u4ed6\u914d\u7f6e\u7ec8\u7aef\u7528\u6237\u4f7f\u7528\u3002\\n- **\u4ee5\u7ec8\u7aef\u7528\u6237\u4e3a\u4e2d\u5fc3\u7684\u914d\u7f6e\u89c6\u56fe**\uff1a\u501f\u52a9 KCL \u7684\u4ee3\u7801\u5c01\u88c5\u3001\u62bd\u8c61\u548c\u590d\u7528\u80fd\u529b\uff0c\u53ef\u4ee5\u5bf9\u6a21\u578b\u67b6\u6784\u8fdb\u884c\u8fdb\u4e00\u6b65\u62bd\u8c61\u548c\u7b80\u5316\uff08\u6bd4\u5982\u5c06 K8s \u8d44\u6e90\u6a21\u578b\u62bd\u8c61\u4e3a\u4ee5\u5e94\u7528\u4e3a\u6838\u5fc3\u7684 Server \u6a21\u578b\uff09\uff0c\u505a\u5230**\u6700\u5c0f\u5316\u7ec8\u7aef\u7528\u6237\u914d\u7f6e\u8f93\u5165**\uff0c\u7b80\u5316\u7528\u6237\u7684\u914d\u7f6e\u754c\u9762\uff0c\u65b9\u4fbf\u624b\u52a8\u6216\u8005\u4f7f\u7528\u81ea\u52a8\u5316 API \u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002\\n\\n\u4e0d\u8bba\u662f\u4ee5\u4f55\u4e3a\u4e2d\u5fc3\u7684\u914d\u7f6e\u89c6\u56fe\uff0c\u5bf9\u4e8e\u4ee3\u7801\u800c\u8a00\uff08\u5305\u62ec\u914d\u7f6e\u4ee3\u7801\uff09\u90fd\u5b58\u5728\u5bf9\u914d\u7f6e\u6570\u636e\u7ea6\u675f\u7684\u9700\u6c42\uff0c\u6bd4\u5982\u7c7b\u578b\u7ea6\u675f\u3001\u914d\u7f6e\u5b57\u6bb5\u5fc5\u9009/\u53ef\u9009\u7ea6\u675f\u3001\u8303\u56f4\u7ea6\u675f\u3001\u4e0d\u53ef\u53d8\u6027\u7ea6\u675f\u7b49\uff0c\u8fd9\u4e5f\u662f KCL \u81f4\u529b\u4e8e\u89e3\u51b3\u7684\u6838\u5fc3\u95ee\u9898\u4e4b\u4e00\u3002\u7efc\u4e0a\uff0cKCL \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u57fa\u4e8e\u7ea6\u675f\u548c\u58f0\u660e\u7684\u51fd\u6570\u5f0f\u8bed\u8a00\uff0cKCL \u4e3b\u8981\u5305\u542b\u5982\u56fe 5 \u6240\u793a\u7684\u6838\u5fc3\u7279\u6027\uff1a\\n![](/img/blog/2022-09-15-declarative-config-overview/05-kcl-core-feature.png)\\n\u56fe 5 KCL \u6838\u5fc3\u7279\u6027\\n\\n- **\u7b80\u5355\u6613\u7528**\uff1a\u6e90\u4e8e Python\u3001Golang \u7b49\u9ad8\u7ea7\u8bed\u8a00\uff0c\u91c7\u7eb3\u51fd\u6570\u5f0f\u7f16\u7a0b\u8bed\u8a00\u7279\u6027\uff0c\u4f4e\u526f\u4f5c\u7528\\n- **\u8bbe\u8ba1\u826f\u597d**\uff1a\u72ec\u7acb\u7684 Spec \u9a71\u52a8\u7684\u8bed\u6cd5\u3001\u8bed\u4e49\u3001\u8fd0\u884c\u65f6\u548c\u7cfb\u7edf\u5e93\u8bbe\u8ba1\\n- **\u5feb\u901f\u5efa\u6a21**\uff1a\u4ee5 [Schema](https://kusionstack.io/docs/reference/lang/lang/tour#schema) \u4e3a\u4e2d\u5fc3\u7684\u914d\u7f6e\u7c7b\u578b\u53ca\u6a21\u5757\u5316\u62bd\u8c61\\n- **\u529f\u80fd\u5b8c\u5907**\uff1a\u57fa\u4e8e [Config](https://kusionstack.io/docs/reference/lang/lang/codelab/simple)\u3001[Schema](https://kusionstack.io/docs/reference/lang/lang/tour/#schema)\u3001[Lambda](https://kusionstack.io/docs/reference/lang/lang/tour/#function)\u3001[Rule](https://kusionstack.io/docs/reference/lang/lang/tour/#rule) \u7684\u914d\u7f6e\u53ca\u5176\u6a21\u578b\u3001\u903b\u8f91\u548c\u7b56\u7565\u7f16\u5199\\n- **\u53ef\u9760\u7a33\u5b9a**\uff1a\u4f9d\u8d56[\u9759\u6001\u7c7b\u578b\u7cfb\u7edf](https://kusionstack.io/docs/reference/lang/lang/tour/#type-system)\u3001[\u7ea6\u675f](https://kusionstack.io/docs/reference/lang/lang/tour/#validation)\u548c[\u81ea\u5b9a\u4e49\u89c4\u5219](https://kusionstack.io/docs/reference/lang/lang/tour#rule)\u7684\u914d\u7f6e\u7a33\u5b9a\u6027\\n- **\u5f3a\u53ef\u6269\u5c55**\uff1a\u901a\u8fc7\u72ec\u7acb\u914d\u7f6e\u5757[\u81ea\u52a8\u5408\u5e76\u673a\u5236](https://kusionstack.io/docs/reference/lang/lang/tour/#-operators-1)\u4fdd\u8bc1\u914d\u7f6e\u7f16\u5199\u7684\u9ad8\u53ef\u6269\u5c55\u6027\\n- **\u6613\u81ea\u52a8\u5316**\uff1a[CRUD APIs](https://kusionstack.io/docs/reference/lang/lang/tour/#kcl-cli-variable-override)\uff0c[\u591a\u8bed\u8a00 SDK](https://kusionstack.io/docs/reference/lang/xlang-api/overview)\uff0c[\u8bed\u8a00\u63d2\u4ef6](https://github.com/KusionStack/kcl-plugin) \u6784\u6210\u7684\u68af\u5ea6\u81ea\u52a8\u5316\u65b9\u6848\\n- **\u6781\u81f4\u6027\u80fd**\uff1a\u4f7f\u7528 Rust & C\uff0c[LLVM](https://llvm.org/) \u5b9e\u73b0\uff0c\u652f\u6301\u7f16\u8bd1\u5230\u672c\u5730\u4ee3\u7801\u548c [WASM](https://webassembly.org/) \u7684\u9ad8\u6027\u80fd\u7f16\u8bd1\u65f6\u548c\u8fd0\u884c\u65f6\\n- **API \u4eb2\u548c**\uff1a\u539f\u751f\u652f\u6301 [OpenAPI](https://github.com/KusionStack/kcl-openapi)\u3001 Kubernetes CRD\uff0c Kubernetes YAML \u7b49 API \u751f\u6001\u89c4\u8303\\n- **\u5f00\u53d1\u53cb\u597d**\uff1a[\u8bed\u8a00\u5de5\u5177](https://kusionstack.io/docs/reference/cli/kcl/) (Format\uff0cLint\uff0cTest\uff0cVet\uff0cDoc \u7b49)\u3001 [IDE \u63d2\u4ef6](https://github.com/KusionStack/vscode-kcl) \u6784\u5efa\u826f\u597d\u7684\u7814\u53d1\u4f53\u9a8c\\n- **\u5b89\u5168\u53ef\u63a7**\uff1a\u9762\u5411\u9886\u57df\uff0c\u4e0d\u539f\u751f\u63d0\u4f9b\u7ebf\u7a0b\u3001IO \u7b49\u7cfb\u7edf\u7ea7\u529f\u80fd\uff0c\u4f4e\u566a\u97f3\uff0c\u4f4e\u5b89\u5168\u98ce\u9669\uff0c\u6613\u7ef4\u62a4\uff0c\u6613\u6cbb\u7406\\n- **\u751f\u4ea7\u53ef\u7528**\uff1a\u5e7f\u6cdb\u5e94\u7528\u5728\u8682\u8681\u96c6\u56e2\u5e73\u53f0\u5de5\u7a0b\u53ca\u81ea\u52a8\u5316\u7684\u751f\u4ea7\u73af\u5883\u5b9e\u8df5\u4e2d\\n\\n![](/img/blog/2022-09-15-declarative-config-overview/06-kcl-code-design.png)\\n\u56fe 6 KCL \u8bed\u8a00\u6838\u5fc3\u8bbe\u8ba1\\n\\n\u66f4\u591a\u8bed\u8a00\u8bbe\u8ba1\u548c\u80fd\u529b\u8be6\u89c1 [KCL \u6587\u6863](https://kusionstack.io/docs/reference/lang/lang/tour)\uff0c\u5c3d\u7ba1 KCL \u4e0d\u662f\u901a\u7528\u8bed\u8a00\uff0c\u4f46\u5b83\u6709\u76f8\u5e94\u7684\u5e94\u7528\u573a\u666f\uff0c\u5982\u56fe 6 \u6240\u793a\uff0c\u7814\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7 KCL \u7f16\u5199**\u914d\u7f6e(config)**\u3001**\u6a21\u578b(schema)**\u3001**\u51fd\u6570(lambda)**\u53ca**\u89c4\u5219(rule)**\uff0c\u5176\u4e2d Config \u7528\u4e8e\u5b9a\u4e49\u6570\u636e\uff0cSchema \u7528\u4e8e\u5bf9\u6570\u636e\u7684\u6a21\u578b\u5b9a\u4e49\u8fdb\u884c\u63cf\u8ff0\uff0cRule \u7528\u4e8e\u5bf9\u6570\u636e\u8fdb\u884c\u6821\u9a8c\uff0c\u5e76\u4e14 Schema \u548c Rule \u8fd8\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528\u7528\u4e8e\u5b8c\u6574\u63cf\u8ff0\u6570\u636e\u7684\u6a21\u578b\u53ca\u5176\u7ea6\u675f\uff0c\u6b64\u5916\u8fd8\u53ef\u4ee5\u4f7f\u7528 KCL \u4e2d\u7684 lambda \u7eaf\u51fd\u6570\u8fdb\u884c\u6570\u636e\u4ee3\u7801\u7ec4\u7ec7\uff0c\u5c06\u5e38\u7528\u4ee3\u7801\u5c01\u88c5\u8d77\u6765,\u5728\u9700\u8981\u4f7f\u7528\u65f6\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u3002 \\n\\n\u5bf9\u4e8e\u4f7f\u7528\u573a\u666f\u800c\u8a00\uff0cKCL \u7684\u53ef\u4ee5\u8fdb\u884c\u7ed3\u6784\u5316 KV \u6570\u636e\u9a8c\u8bc1\u3001\u590d\u6742\u914d\u7f6e\u6a21\u578b\u5b9a\u4e49\u4e0e\u62bd\u8c61\u3001\u5f3a\u7ea6\u675f\u6821\u9a8c\u907f\u514d\u914d\u7f6e\u9519\u8bef\u3001\u5206\u5757\u7f16\u5199\u53ca\u914d\u7f6e\u5408\u5e76\u80fd\u529b\u3001\u81ea\u52a8\u5316\u96c6\u6210\u548c\u5de5\u7a0b\u6269\u5c55\u7b49\u80fd\u529b\uff0c\u4e0b\u9762\u9488\u5bf9\u8fd9\u4e9b\u529f\u80fd\u548c\u4f7f\u7528\u573a\u666f\u8fdb\u884c\u9610\u8ff0\u3002\\n\\n### 2.1 \u7ed3\u6784\u5316 KV \u6570\u636e\u9a8c\u8bc1\\n\\n\u5982\u56fe 7 \u6240\u793a\uff0cKCL \u652f\u6301\u5bf9 JSON/YAML \u6570\u636e\u8fdb\u884c\u683c\u5f0f\u6821\u9a8c\u3002\u4f5c\u4e3a\u4e00\u79cd\u914d\u7f6e\u8bed\u8a00\uff0cKCL \u5728\u9a8c\u8bc1\u65b9\u9762\u51e0\u4e4e\u6db5\u76d6\u4e86 OpenAPI \u6821\u9a8c\u7684\u6240\u6709\u529f\u80fd\u3002\u5728 KCL \u4e2d\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u7ed3\u6784\u5b9a\u4e49\u6765\u7ea6\u675f\u914d\u7f6e\u6570\u636e\uff0c\u540c\u65f6\u652f\u6301\u901a\u8fc7 check \u5757\u81ea\u5b9a\u4e49\u7ea6\u675f\u89c4\u5219\uff0c\u5728 schema \u4e2d\u4e66\u5199\u6821\u9a8c\u8868\u8fbe\u5f0f\u5bf9 schema \u5b9a\u4e49\u7684\u5c5e\u6027\u8fdb\u884c\u6821\u9a8c\u548c\u7ea6\u675f\u3002\u901a\u8fc7 check \u8868\u8fbe\u5f0f\u53ef\u4ee5\u975e\u5e38\u6e05\u6670\u7b80\u5355\u5730\u6821\u9a8c\u8f93\u5165\u7684 JSON/YAML \u662f\u5426\u6ee1\u8db3\u76f8\u5e94\u7684 schema \u7ed3\u6784\u5b9a\u4e49\u4e0e check \u7ea6\u675f\u3002\\n![](/img/blog/2022-09-15-declarative-config-overview/07-kcl-validation.png)\\n\u56fe 7 KCL \u4e2d\u7ed3\u6784\u5316 KV \u6821\u9a8c\u65b9\u5f0f\\n\\n\u57fa\u4e8e\u6b64\uff0cKCL \u63d0\u4f9b\u4e86\u76f8\u5e94\u7684[\u6821\u9a8c\u5de5\u5177](https://kusionstack.io/docs/reference/cli/kcl/vet)\u76f4\u63a5\u5bf9 JSON/YAML \u6570\u636e\u8fdb\u884c\u6821\u9a8c\u3002\u6b64\u5916\uff0c\u901a\u8fc7 KCL schema \u7684 check \u8868\u8fbe\u5f0f\u53ef\u4ee5\u975e\u5e38\u6e05\u6670\u7b80\u5355\u5730\u6821\u9a8c\u8f93\u5165\u7684 JSON \u662f\u5426\u6ee1\u8db3\u76f8\u5e94\u7684 schema \u7ed3\u6784\u5b9a\u4e49\u4e0e check \u7ea6\u675f\u3002\u6b64\u5916\uff0c\u57fa\u4e8e\u6b64\u80fd\u529b\u53ef\u4ee5\u6784\u5efa\u5982\u56fe 8 \u6240\u793a\u7684 KV \u6821\u9a8c\u53ef\u89c6\u5316\u4ea7\u54c1\u3002\\n![](/img/blog/2022-09-15-declarative-config-overview/08-kcl-validation-ui.png)\\n\u56fe 8 \u57fa\u4e8e KCL \u7ed3\u6784\u5316 KV \u6821\u9a8c\u80fd\u529b\u6784\u5efa\u7684\u53ef\u89c6\u5316\u4ea7\u54c1\u754c\u9762\\n\\n- \u66f4\u591a\u53c2\u8003\u6587\u6863\uff1aKCL Vet \u5de5\u5177\uff1a[https://kusionstack.io/docs/reference/cli/kcl/vet](https://kusionstack.io/docs/reference/cli/kcl/vet)\\n\\n### 2.2 \u590d\u6742\u914d\u7f6e\u6a21\u578b\u5b9a\u4e49\u4e0e\u62bd\u8c61\\n\\n\u5982\u56fe 9 \u6240\u793a\uff0c\u501f\u52a9 KCL \u8bed\u8a00\u4e30\u5bcc\u7684\u7279\u6027\u53ca [KCL OpenAPI](https://kusionstack.io/docs/reference/cli/openapi/quick-start) \u7b49\u5de5\u5177\uff0c\u53ef\u4ee5\u5c06\u793e\u533a\u4e2d\u5e7f\u6cdb\u7684\u3001\u8bbe\u8ba1\u826f\u597d\u7684\u6a21\u578b\u76f4\u63a5\u96c6\u6210\u5230 KCL \u4e2d\uff08\u6bd4\u5982 K8s \u8d44\u6e90\u6a21\u578b CRD\uff09\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u4e1a\u52a1\u573a\u666f\u8bbe\u8ba1\u3001\u5b9e\u73b0\u81ea\u5df1\u7684 KCL \u6a21\u578b (\u5e93) \uff0c\u5f62\u6210\u4e00\u6574\u5957\u9886\u57df\u6a21\u578b\u67b6\u6784\u4ea4\u7531\u5176\u4ed6\u914d\u7f6e\u7ec8\u7aef\u7528\u6237\u4f7f\u7528\u3002\\n![](/img/blog/2022-09-15-declarative-config-overview/09-kcl-modeling.png)\\n\u56fe 9 KCL \u590d\u6742\u914d\u7f6e\u5efa\u6a21\u7684\u4e00\u822c\u65b9\u5f0f\\n\\n\u57fa\u4e8e\u6b64\uff0c\u53ef\u4ee5\u50cf\u56fe 10 \u793a\u51fa\u7684\u90a3\u6837\u7528\u4e00\u4e2a\u5927\u7684 [Konfig \u4ed3\u5e93](https://github.com/KusionStack/konfig) \u7ba1\u7406\u5168\u90e8\u7684 KCL \u914d\u7f6e\u4ee3\u7801\uff0c\u5c06\u4e1a\u52a1\u914d\u7f6e\u4ee3\u7801 (\u5e94\u7528\u80da\u5b50)\u3001\u57fa\u7840\u914d\u7f6e\u4ee3\u7801 (\u6838\u5fc3\u6a21\u578b+\u5e95\u5c42\u6a21\u578b)\u5728\u4e00\u4e2a\u5927\u5e93\u4e2d\uff0c\u65b9\u4fbf\u4ee3\u7801\u95f4\u7684\u7248\u672c\u4f9d\u8d56\u7ba1\u7406\uff0c\u81ea\u52a8\u5316\u7cfb\u7edf\u5904\u7406\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u5b9a\u4f4d\u552f\u4e00\u4ee3\u7801\u5e93\u7684\u76ee\u5f55\u53ca\u6587\u4ef6\u5373\u53ef\uff0c\u4ee3\u7801\u4e92\u901a\uff0c\u7edf\u4e00\u7ba1\u7406\uff0c\u4fbf\u4e8e\u67e5\u627e\u3001\u4fee\u6539\u3001\u7ef4\u62a4\uff0c\u53ef\u4ee5\u4f7f\u7528\u7edf\u4e00\u7684 CI/CD \u6d41\u7a0b\u8fdb\u884c\u914d\u7f6e\u7ba1\u7406\uff08\u6b64\u5916\uff0c\u5927\u5e93\u6a21\u5f0f\u4e5f\u662f Google \u7b49\u5934\u90e8\u4e92\u8054\u7f51\u516c\u53f8\u5185\u90e8\u5b9e\u8df5\u7684\u6a21\u5f0f\uff09\u3002\\n![](/img/blog/2022-09-15-declarative-config-overview/10-kcl-konfig.png)\\n\u56fe 10 \u4f7f\u7528 KCL \u7684\u8bed\u8a00\u80fd\u529b\u96c6\u6210\u9886\u57df\u6a21\u578b\u5e76\u62bd\u8c61\u7528\u6237\u6a21\u578b\u5e76\u4f7f\u7528\\n\\n- \u66f4\u591a\u53c2\u8003\u6587\u6863\\n  - KCL Schema\uff1a[https://kusionstack.io/docs/reference/lang/lang/tour#schema](https://kusionstack.io/docs/reference/lang/lang/tour#schema)\\n  - KCL OpenAPI \u89c4\u8303\uff1a[https://kusionstack.io/docs/reference/cli/openapi/spec](https://kusionstack.io/docs/reference/cli/openapi/spec)\\n  - KCL Konfig \u914d\u7f6e\u5927\u5e93\u6982\u89c8\uff1a[https://kusionstack.io/docs/reference/konfig/overview](https://kusionstack.io/docs/reference/konfig/overview)\\n\\n### 2.3 \u5f3a\u7ea6\u675f\u6821\u9a8c\u907f\u514d\u914d\u7f6e\u9519\u8bef\\n\\n\u5982\u56fe 11 \u6240\u793a\uff0c\u5728 KCL \u4e2d\u53ef\u4ee5\u901a\u8fc7\u4e30\u5bcc\u7684\u5f3a\u7ea6\u675f\u6821\u9a8c\u624b\u6bb5\u907f\u514d\u914d\u7f6e\u9519\u8bef\uff1a\\n![](/img/blog/2022-09-15-declarative-config-overview/11-kcl-constraint.png)\\n\u56fe 11 KCL \u5f3a\u7ea6\u675f\u6821\u9a8c\u624b\u6bb5\\n\\n- KCL \u8bed\u8a00\u7684\u7c7b\u578b\u7cfb\u7edf\u88ab\u8bbe\u8ba1\u4e3a\u9759\u6001\u7684\uff0c\u7c7b\u578b\u548c\u503c\u5b9a\u4e49\u5206\u79bb\uff0c\u652f\u6301\u7f16\u8bd1\u65f6\u7c7b\u578b\u63a8\u5bfc\u548c\u7c7b\u578b\u68c0\u67e5\uff0c\u9759\u6001\u7c7b\u578b\u4e0d\u4ec5\u4ec5\u53ef\u4ee5\u63d0\u524d\u5728\u7f16\u8bd1\u65f6\u5206\u6790\u5927\u90e8\u5206\u7684\u7c7b\u578b\u9519\u8bef\uff0c\u8fd8\u53ef\u4ee5\u964d\u4f4e\u540e\u7aef\u8fd0\u884c\u65f6\u7684\u52a8\u6001\u7c7b\u578b\u68c0\u67e5\u7684\u6027\u80fd\u635f\u8017\u3002\u6b64\u5916\uff0cKCL Schema \u7ed3\u6784\u7684\u5c5e\u6027\u5f3a\u5236\u4e3a\u975e\u7a7a\uff0c\u53ef\u4ee5\u6709\u6548\u907f\u514d\u914d\u7f6e\u9057\u6f0f\u3002\\n- \u5f53\u9700\u8981\u5bfc\u51fa\u7684 KCL \u914d\u7f6e\u88ab\u58f0\u660e\u4e4b\u540e\uff0c\u5b83\u4eec\u7684\u7c7b\u578b\u548c\u503c\u5747\u4e0d\u80fd\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u6837\u7684\u9759\u6001\u7279\u6027\u4fdd\u8bc1\u4e86\u914d\u7f6e\u4e0d\u4f1a\u88ab\u968f\u610f\u7be1\u6539\u3002\\n- KCL \u652f\u6301\u901a\u8fc7\u7ed3\u6784\u4f53\u5185\u7f6e\u7684\u6821\u9a8c\u89c4\u5219\u8fdb\u4e00\u6b65\u4fdd\u969c\u7a33\u5b9a\u6027\u3002\u6bd4\u5982\u5bf9\u4e8e\u5982\u56fe 12 \u6240\u793a\u7684 KCL \u4ee3\u7801\uff0c\uff0c\u5728 `App` \u4e2d\u5b9a\u4e49\u5bf9 `containerPort`\u3001`services`\u3001`volumes` \u7684\u6821\u9a8c\u89c4\u5219\uff0c\u76ee\u524d\u6821\u9a8c\u89c4\u5219\u5728\u8fd0\u884c\u65f6\u6267\u884c\u5224\u65ad\uff0c\u540e\u7eed KCL \u4f1a\u5c1d\u8bd5\u901a\u8fc7\u7f16\u8bd1\u65f6\u7684\u9759\u6001\u5206\u6790\u5bf9\u89c4\u5219\u8fdb\u884c\u5224\u65ad\u4ece\u800c\u53d1\u73b0\u95ee\u9898\u3002\\n\\n![](/img/blog/2022-09-15-declarative-config-overview/12-kcl-app-schema.png)\\n\u56fe 12 \u5e26\u89c4\u5219\u7ea6\u675f\u7684 KCL \u4ee3\u7801\u6821\u9a8c\\n\\n### 2.4 \u5206\u5757\u7f16\u5199\u53ca\u914d\u7f6e\u5408\u5e76\\n\\nKCL \u63d0\u4f9b\u4e86\u914d\u7f6e\u5206\u5757\u7f16\u5199\u53ca\u81ea\u52a8\u5408\u5e76\u914d\u7f6e\u7684\u80fd\u529b\uff0c\u5e76\u4e14\u652f\u6301\u5e42\u7b49\u5408\u5e76\u3001\u8865\u4e01\u5408\u5e76\u548c\u552f\u4e00\u914d\u7f6e\u5408\u5e76\u7b49\u7b56\u7565\u3002\u5e42\u7b49\u5408\u5e76\u4e2d\u7684\u591a\u4efd\u914d\u7f6e\u9700\u8981\u6ee1\u8db3\u4ea4\u6362\u5f8b\uff0c\u5e76\u4e14\u9700\u8981\u5f00\u53d1\u4eba\u5458\u624b\u52a8\u5904\u7406\u57fa\u7840\u548c\u751f\u4ea7\u4e4b\u95f4\u7684\u914d\u7f6e\u51b2\u7a81\u3002 \u8865\u4e01\u5408\u5e76\u4f5c\u4e3a\u4e00\u4e2a\u8986\u76d6\u529f\u80fd\uff0c\u5305\u62ec\u8986\u76d6\u3001\u5220\u9664\u548c\u6dfb\u52a0\u3002\u552f\u4e00\u7684\u914d\u7f6e\u8981\u6c42\u914d\u7f6e\u5757\u662f\u5168\u5c40\u552f\u4e00\u7684\u5e76\u4e14\u672a\u4fee\u6539\u6216\u4ee5\u4efb\u4f55\u5f62\u5f0f\u91cd\u65b0\u5b9a\u4e49\u3002 KCL \u901a\u8fc7\u591a\u79cd\u5408\u5e76\u7b56\u7565\u7b80\u5316\u4e86\u7528\u6237\u4fa7\u7684\u534f\u540c\u5f00\u53d1\uff0c\u51cf\u5c11\u4e86\u914d\u7f6e\u4e4b\u95f4\u7684\u8026\u5408\u3002\\n\\n\u5982\u56fe 13 \u6240\u793a\uff0c\u5bf9\u4e8e\u5b58\u5728\u57fa\u7ebf\u914d\u7f6e\u3001\u591a\u73af\u5883\u548c\u591a\u79df\u6237\u7684\u5e94\u7528\u914d\u7f6e\u573a\u666f\uff0c\u6709\u4e00\u4e2a\u57fa\u672c\u914d\u7f6e base.k\u3002 \u5f00\u53d1\u548c SRE \u5206\u522b\u7ef4\u62a4\u751f\u4ea7\u548c\u5f00\u53d1\u73af\u5883\u7684\u914d\u7f6e base.k \u548c prod.k\uff0c\u4ed6\u4eec\u7684\u914d\u7f6e\u4e92\u4e0d\u5f71\u54cd\uff0c\u7531 KCL \u7f16\u8bd1\u5668\u5408\u5e76\u6210\u4e00\u4e2a prod \u73af\u5883\u7684\u7b49\u6548\u914d\u7f6e\u4ee3\u7801\u3002\\n![](/img/blog/2022-09-15-declarative-config-overview/13-kcl-isolated-config.png)\\n\u56fe 13 \u591a\u73af\u5883\u573a\u666f\u914d\u7f6e\u5206\u5757\u7f16\u5199\u5b9e\u4f8b\\n\\n### 2.5 \u81ea\u52a8\u5316\u96c6\u6210\\n\\n\u5728 KCL \u4e2d\u63d0\u4f9b\u4e86\u5f88\u591a\u81ea\u52a8\u5316\u76f8\u5173\u7684\u80fd\u529b\uff0c\u4e3b\u8981\u5305\u62ec\u5de5\u5177\u548c\u591a\u8bed\u8a00 API\u3002 \u901a\u8fc7 `package_identifier : key_identifier`\u7684\u6a21\u5f0f\u652f\u6301\u5bf9\u4efb\u610f\u914d\u7f6e\u952e\u503c\u7684\u7d22\u5f15\uff0c\u4ece\u800c\u5b8c\u6210\u5bf9\u4efb\u610f\u952e\u503c\u7684\u589e\u5220\u6539\u67e5\u3002\u6bd4\u5982\u56fe 14 \u6240\u793a\u4fee\u6539\u67d0\u4e2a\u5e94\u7528\u914d\u7f6e\u7684\u955c\u50cf\u5185\u5bb9\uff0c\u53ef\u4ee5\u76f4\u63a5\u6267\u884c\u5982\u4e0b\u6307\u4ee4\u4fee\u6539\u955c\u50cf\uff0c\u4fee\u6539\u524d\u540e\u7684 diff \u5982\u4e0b\u56fe\u6240\u793a\u3002\\n\\n![](/img/blog/2022-09-15-declarative-config-overview/14-kcl-image-update.png)\\n\u56fe 14 \u4f7f\u7528 KCL CLI/API \u81ea\u52a8\u4fee\u6539\u5e94\u7528\u914d\u7f6e\u955c\u50cf\\n\\n\u6b64\u5916\uff0c\u53ef\u4ee5\u57fa\u4e8e KCL \u7684\u81ea\u52a8\u5316\u80fd\u529b\u5b9e\u73b0\u5982\u56fe 15 \u6240\u793a\u7684\u4e00\u955c\u4ea4\u4ed8\u53ca\u81ea\u52a8\u5316\u8fd0\u7ef4\u80fd\u529b\u5e76\u96c6\u6210\u5230 CI/CD \u5f53\u4e2d\u3002\\n![](/img/blog/2022-09-15-declarative-config-overview/15-kcl-automation.png)\\n\u56fe 15 \u5178\u578b KCL \u81ea\u52a8\u5316\u96c6\u6210\u94fe\u8def\\n\\n## \u4e09\u3001KCL \u4e0e\u5176\u4ed6\u58f0\u660e\u5f0f\u914d\u7f6e\u7684\u5bf9\u6bd4\\n\\n### 3.1 vs. JSON/YAML\\n\\nYAML/JSON \u914d\u7f6e\u7b49\u9002\u5408\u5c0f\u89c4\u6a21\u7684\u914d\u7f6e\u573a\u666f\uff0c\u5bf9\u4e8e\u5927\u89c4\u6a21\u4e14\u9700\u8981\u9891\u7e41\u4fee\u6539\u7684\u4e91\u539f\u751f\u914d\u7f6e\u573a\u666f\uff0c\u6bd4\u8f83\u9002\u5408 KCL \u6bd4\u8f83\u9002\u5408\uff0c\u5176\u4e2d\u6d89\u53ca\u5230\u4e3b\u8981\u5dee\u5f02\u662f\u914d\u7f6e\u6570\u636e\u62bd\u8c61\u4e0e\u5c55\u5f00\u7684\u5dee\u5f02\uff1a\\n\\n- \u5bf9\u4e8e JSON/YAML \u7b49\u9759\u6001\u914d\u7f6e\u6570\u636e\u5c55\u5f00\u7684\u597d\u5904\u662f\uff1a\u7b80\u5355\u3001\u6613\u8bfb\u3001\u6613\u4e8e\u5904\u7406\uff0c\u4f46\u662f\u968f\u7740\u9759\u6001\u914d\u7f6e\u89c4\u6a21\u7684\u589e\u52a0\uff0c\u5f53\u914d\u7f6e\u89c4\u6a21\u8f83\u5927\u65f6\uff0cJSON/YAML \u7b49\u6587\u4ef6\u7ef4\u62a4\u548c\u9605\u8bfb\u914d\u7f6e\u5f88\u56f0\u96be\uff0c\u56e0\u4e3a\u91cd\u8981\u7684\u914d\u7f6e\u4fe1\u606f\u88ab**\u6df9\u6ca1\u5728\u4e86\u5927\u91cf\u4e0d\u76f8\u5173\u7684\u91cd\u590d\u7ec6\u8282**\u4e2d\u3002\\n- \u5bf9\u4e8e\u4f7f\u7528 KCL \u8bed\u8a00\u8fdb\u884c\u914d\u7f6e\u62bd\u8c61\u7684\u597d\u5904\u662f\uff1a\u5bf9\u4e8e\u9759\u6001\u6570\u636e\uff0c\u62bd\u8c61\u4e00\u5c42\u7684\u597d\u5904\u8fd9\u610f\u5473\u7740\u6574\u4f53\u7cfb\u7edf\u5177\u6709**\u90e8\u7f72\u7684\u7075\u6d3b\u6027**\uff0c\u4e0d\u540c\u7684\u914d\u7f6e\u73af\u5883\u3001\u914d\u7f6e\u79df\u6237\u3001\u8fd0\u884c\u65f6\u53ef\u80fd\u4f1a\u5bf9\u9759\u6001\u6570\u636e\u5177\u6709\u4e0d\u540c\u7684\u8981\u6c42\uff0c\u751a\u81f3\u4e0d\u540c\u7684\u7ec4\u7ec7\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u89c4\u8303\u548c\u4ea7\u54c1\u8981\u6c42\uff0c\u53ef\u4ee5\u4f7f\u7528 KCL \u5c06\u6700\u9700\u8981\u3001\u6700\u5e38\u4fee\u6539\u7684\u914d\u7f6e\u66b4\u9732\u7ed9\u7528\u6237\uff0c\u5bf9\u5dee\u5f02\u5316\u7684\u914d\u7f6e\u8fdb\u884c\u62bd\u8c61\uff0c\u62bd\u8c61\u7684\u597d\u5904\u662f\u53ef\u4ee5\u652f\u6301\u4e0d\u540c\u7684\u914d\u7f6e\u9700\u6c42\u3002\u5e76\u4e14\u501f\u52a9 KCL \u8bed\u8a00\u7ea7\u522b\u7684\u81ea\u52a8\u5316\u96c6\u6210\u80fd\u529b\uff0c\u8fd8\u53ef\u4ee5\u5f88\u597d\u5730\u652f\u6301\u4e0d\u540c\u7684\u8bed\u8a00\uff0c\u4e0d\u540c\u7684\u914d\u7f6e UI \u7b49\u3002\\n\\n### 3.2 vs. Kustomize\\n\\nKustomize \u7684\u6838\u5fc3\u80fd\u529b\u662f\u5176 Overlay \u80fd\u529b\uff0c\u5e76 Kustomize \u652f\u6301\u6587\u4ef6\u7ea7\u7684\u8986\u76d6\uff0c\u4f46\u662f\u5b58\u5728\u4f1a\u5b58\u5728\u591a\u4e2a\u8986\u76d6\u94fe\u6761\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u627e\u5230\u5177\u4f53\u5b57\u6bb5\u503c\u7684\u58f0\u660e\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u8fd9\u662f\u6700\u7ec8\u503c\uff0c\u56e0\u4e3a\u5176\u4ed6\u5730\u65b9\u51fa\u73b0\u7684\u53e6\u4e00\u4e2a\u5177\u4f53\u503c\u53ef\u4ee5\u8986\u76d6\u5b83\uff0c\u5bf9\u4e8e\u590d\u6742\u7684\u573a\u666f\uff0cKustomize \u6587\u4ef6\u7684\u7ee7\u627f\u94fe\u68c0\u7d22\u5f80\u5f80\u4e0d\u5982 KCL \u4ee3\u7801\u7ee7\u627f\u94fe\u68c0\u7d22\u65b9\u4fbf\uff0c\u9700\u8981\u4ed4\u7ec6\u8003\u8651\u6307\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\u8986\u76d6\u987a\u5e8f\u3002\u6b64\u5916\uff0cKustomize \u4e0d\u80fd\u89e3\u51b3 YAML \u914d\u7f6e\u7f16\u5199\u3001\u914d\u7f6e\u7ea6\u675f\u6821\u9a8c\u548c\u6a21\u578b\u62bd\u8c61\u4e0e\u5f00\u53d1\u7b49\u95ee\u9898\uff0c\u8f83\u4e3a\u9002\u7528\u4e8e\u7b80\u5355\u7684\u914d\u7f6e\u573a\u666f\uff0c\u5f53\u914d\u7f6e\u7ec4\u4ef6\u589e\u591a\u65f6\uff0c\u5bf9\u4e8e\u914d\u7f6e\u7684\u4fee\u6539\u4ecd\u7136\u4f1a\u9677\u5165\u5927\u91cf\u91cd\u590d\u4e0d\u76f8\u5173\u7684\u914d\u7f6e\u7ec6\u8282\u4e2d\uff0c\u5e76\u4e14\u5728 IDE \u4e2d\u4e0d\u80fd\u5f88\u597d\u5730\u663e\u793a\u914d\u7f6e\u4e4b\u95f4\u7684\u4f9d\u8d56\u548c\u8986\u76d6\u5173\u7cfb\u60c5\u51b5\uff0c\u53ea\u80fd\u901a\u8fc7\u641c\u7d22/\u66ff\u6362\u7b49\u6279\u91cf\u4fee\u6539\u914d\u7f6e\u3002\\n\\n\u5728 KCL \u4e2d\uff0c\u914d\u7f6e\u5408\u5e76\u7684\u64cd\u4f5c\u53ef\u4ee5\u7ec6\u7c92\u5ea6\u5230\u4ee3\u7801\u4e2d\u6bcf\u4e00\u4e2a\u914d\u7f6e\u5b57\u6bb5\uff0c\u5e76\u4e14\u53ef\u4ee5\u7075\u6d3b\u7684\u8bbe\u7f6e\u5408\u5e76\u7b56\u7565\uff0c\u5e76\u4e0d\u5c40\u9650\u4e8e\u8d44\u6e90\u6574\u4f53\uff0c\u5e76\u4e14\u901a\u8fc7 KCL \u7684 import \u53ef\u4ee5\u9759\u6001\u5206\u6790\u51fa\u914d\u7f6e\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u3002\\n\\n### 3.3 vs. HCL\\n\\n#### 3.3.1 \u529f\u80fd\u5bf9\u6bd4\\n\\n|  | HCL | KCL |\\n| --- | --- | --- |\\n| \u5efa\u6a21\u80fd\u529b | \u901a\u8fc7 Terraform Go Provider Schema \u5b9a\u4e49\uff0c\u5728\u7528\u6237\u754c\u9762\u4e0d\u76f4\u63a5\u611f\u77e5\uff0c\u6b64\u5916\u7f16\u5199\u590d\u6742\u7684 object \u548c\u5fc5\u9009/\u53ef\u9009\u5b57\u6bb5\u5b9a\u4e49\u65f6\u7528\u6237\u754c\u9762\u8f83\u4e3a\u7e41\u7410 | \u901a\u8fc7 KCL Schema \u8fdb\u884c\u5efa\u6a21\uff0c\u901a\u8fc7\u8bed\u8a00\u7ea7\u522b\u7684\u5de5\u7a0b\u548c\u90e8\u5206\u9762\u5411\u5bf9\u8c61\u7279\u6027\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8f83\u9ad8\u7684\u6a21\u578b\u62bd\u8c61 |\\n| \u7ea6\u675f\u80fd\u529b | \u901a\u8fc7 Variable \u7684 condition \u5b57\u6bb5\u5bf9\u52a8\u6001\u53c2\u6570\u8fdb\u884c\u7ea6\u675f\uff0cResource \u672c\u8eab\u7684\u7ea6\u675f\u9700\u8981\u901a\u8fc7 Go Provider Schema \u5b9a\u4e49\u6216\u8005\u7ed3\u5408 Sentinel/Rego \u7b49\u7b56\u7565\u8bed\u8a00\u5b8c\u6210\uff0c\u8bed\u8a00\u672c\u8eab\u7684\u5b8c\u6574\u80fd\u529b\u4e0d\u80fd\u81ea\u95ed\u73af\uff0c\u4e14\u5b9e\u73b0\u65b9\u5f0f\u4e0d\u7edf\u4e00 | \u4ee5 Schema \u4e3a\u6838\u5fc3\uff0c\u5728\u8fdb\u884c\u5efa\u6a21\u7684\u540c\u65f6\u5b9a\u4e49\u5176\u7ea6\u675f\uff0c\u5728 KCL \u5185\u90e8\u81ea\u95ed\u73af\u5e76\u4e00\u7edf\u4e00\u65b9\u5f0f\u5b9e\u73b0\uff0c\u652f\u6301\u591a\u79cd\u7ea6\u675f\u51fd\u6570\u7f16\u5199\uff0c\u652f\u6301\u53ef\u9009/\u5fc5\u9009\u5b57\u6bb5\u5b9a\u4e49 |\\n| \u5206\u5757\u7f16\u5199\u80fd\u529b | Terraform HCL \u901a\u8fc7\u5206\u6587\u4ef6\u8fdb\u884c Override, \u6a21\u5f0f\u6bd4\u8f83\u56fa\u5b9a\uff0c\u80fd\u529b\u53d7\u9650\u3002| KCL \u53ef\u4ee5\u81ea\u5b9a\u4e49\u914d\u7f6e\u5206\u5757\u7f16\u5199\u65b9\u5f0f\u548c\u591a\u79cd\u5408\u5e76\u7b56\u7565\uff0c\u53ef\u4ee5\u6ee1\u8db3\u590d\u6742\u7684\u591a\u79df\u6237\u3001\u591a\u73af\u5883\u914d\u7f6e\u573a\u666f\u9700\u6c42 |\\n| \u8bed\u8a00\u5316\u7f16\u5199\u80fd\u529b | \u7f16\u5199\u590d\u6742\u7684\u5bf9\u8c61\u5b9a\u4e49\u548c\u5fc5\u9009/\u53ef\u9009\u5b57\u6bb5\u5b9a\u4e49\u65f6\u7528\u6237\u754c\u9762\u8f83\u4e3a\u7e41\u7410 | \u590d\u6742\u7684\u7ed3\u6784\u5b9a\u4e49\u3001\u7ea6\u675f\u573a\u666f\u7f16\u5199\u7b80\u5355\uff0c\u4e0d\u501f\u52a9\u5176\u4ed6\u5916\u56f4 GPL \u6216\u5de5\u5177\uff0c\u8bed\u8a00\u7f16\u5199\u81ea\u95ed\u73af |\\n\\n#### 3.3.2 \u4e3e\u4f8b\\n\\n**Terraform HCL Variable \u7ea6\u675f\u6821\u9a8c\u7f16\u5199 v.s. KCL Schema \u58f0\u660e\u5f0f\u7ea6\u675f\u6821\u9a8c\u7f16\u5199**\\n\\n- HCL\\n\\n```python\\nvariable \\"subnet_delegations\\" {\\n  type = list(object({\\n    name               = string\\n    service_delegation = object({\\n      name    = string\\n      actions = list(string)\\n    })\\n  }))\\n  default     = null\\n  validation {\\n    condition = var.subnet_delegations == null ? true : alltrue([for d in var.subnet_delegations : (d != null)])\\n  }\\n  validation {\\n    condition = var.subnet_delegations == null ? true : alltrue([for n in var.subnet_delegations.*.name : (n != null)])\\n  }\\n  validation {\\n    condition = var.subnet_delegations == null ? true : alltrue([for d in var.subnet_delegations.*.service_delegation : (d != null)])\\n  }\\n  validation {\\n    condition = var.subnet_delegations == null ? true : alltrue([for n in var.subnet_delegations.*.service_delegation.name : (n != null)])\\n  }\\n}\\n```\\n\\n- KCL\\n\\n```python\\nschema SubnetDelegation:\\n    name: str\\n    service_delegation: ServiceDelegation\\n\\nschema ServiceDelegation:\\n    name: str\\n    actions?: [str]  # \u4f7f\u7528 ? \u6807\u8bb0\u53ef\u9009\u5c5e\u6027\\n\\nsubnet_delegations: [SubnetDelegation] = option(\\"subnet_delegations\\")\\n```\\n\\n\u6b64\u5916\uff0cKCL \u8fd8\u53ef\u4ee5\u50cf\u9ad8\u7ea7\u8bed\u8a00\u4e00\u6837\u5199\u7c7b\u578b\uff0c\u5199\u7ee7\u627f\uff0c\u5199\u5185\u7f6e\u7684\u7ea6\u675f\uff0c\u8fd9\u4e9b\u529f\u80fd\u662f HCL \u6240\u4e0d\u5177\u5907\u7684\\n\\n- KCL \u5b9a\u4e49\u590d\u6742\u7684\u7c7b\u578b\u7ee7\u627f\u548c\u7ea6\u675f\\n\\n```python\\nschema Person:\\n    firstName: str\\n    lastName: str\\n\\nschema Employee(Person):\\n    jobTitle: str\\n\\nemployee = Employee {\\n    firstName = \\"Alice\\"\\n    lastName = \\"White\\"\\n    jobTitle = \\"engineer\\"\\n}\\n```\\n\\n**Terraform HCL \u51fd\u6570 v.s. KCL Lambda \u51fd\u6570\u7f16\u5199 + Plugin \u51fd\u6570\u7f16\u5199**\\n\\n- \u6b63\u5982 [https://www.terraform.io/language/functions](https://www.terraform.io/language/functions) \u6587\u6863\u548c [https://github.com/hashicorp/terraform/issues/27696](https://github.com/hashicorp/terraform/issues/27696) \u4e2d\u5c55\u793a\u7684\u90a3\u6837\uff0cTerraform HCL \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5185\u7f6e\u51fd\u6570\u7528\u4e8e\u63d0\u4f9b\uff0c\u4f46\u662f\u5e76\u4e0d\u652f\u6301\u7528\u6237\u5728 Terraform \u4e2d\u4f7f\u7528 HCL \u81ea\u5b9a\u4e49\u51fd\u6570 (\u6216\u8005\u9700\u8981\u7f16\u5199\u590d\u6742\u7684 Go Provider \u6765\u6a21\u62df\u4e00\u4e2a\u7528\u6237\u7684\u672c\u5730\u81ea\u5b9a\u4e49\u51fd\u6570)\uff1b\u800c KCL \u4e0d\u4ec5\u652f\u6301\u7528\u6237\u4f7f\u7528 lambda \u5173\u952e\u5b57\u76f4\u63a5\u5728 KCL \u4ee3\u7801\u4e2d\u81ea\u5b9a\u4e49\u51fd\u6570\uff0c\u8fd8\u652f\u6301\u4f7f\u7528 Python, Go \u7b49\u8bed\u8a00\u4e3a KCL [\u7f16\u5199\u63d2\u4ef6\u51fd\u6570](https://kusionstack.io/docs/reference/lang/plugin/overview)\\n\\n- KCL \u81ea\u5b9a\u4e49\u5b9a\u4e49\u51fd\u6570\u5e76\u8c03\u7528\\n\\n```python\\nadd_func = lambda x: int, y: int -> int {\\n    x + y\\n}\\ntwo = add_func(1, 1)  # 2\\n```\\n\\n- KCL \u4f7f\u7528 Python \u7f16\u5199\u7684\u63d2\u4ef6\u51fd\u6570\\n - Python \u4ee3\u7801 (hello/plugin.py)\\n\\n```python\\n# Copyright 2020 The KCL Authors. All rights reserved.\\n\\nINFO = {\\n    \'name\': \'hello\',\\n    \'describe\': \'hello doc\',\\n    \'long_describe\': \'long describe\',\\n    \'version\': \'0.0.1\',\\n}\\n\\ndef add(a: int, b: int) -> int:\\n    \\"\\"\\"add two numbers, and return result\\"\\"\\"\\n    return a + b\\n```\\n\\n  - KCL \u8c03\u7528\u63d2\u4ef6\u4ee3\u7801\\n\\n```python\\nimport kcl_plugin.hello\\n\\ntwo = hello.add(1, 1)\\n```\\n\\n**HCL \u5220\u9664 null \u503c\u4e0e KCL \u4f7f\u7528 -n \u7f16\u8bd1\u53c2\u6570\u5220\u9664 null \u503c**\\n\\n- HCL\\n\\n```python\\nvariable \\"conf\\" {\\n  type = object({\\n    description = string\\n    name        = string\\n    namespace   = string\\n    params = list(object({\\n      default     = optional(string)\\n      description = string\\n      name        = string\\n      type        = string\\n    }))\\n    resources = optional(object({\\n      inputs = optional(list(object({\\n        name = string\\n        type = string\\n      })))\\n      outputs = optional(list(object({\\n        name = string\\n        type = string\\n      })))\\n    }))\\n    results = optional(list(object({\\n      name        = string\\n      description = string\\n    })))\\n    steps = list(object({\\n      args    = optional(list(string))\\n      command = optional(list(string))\\n      env = optional(list(object({\\n        name  = string\\n        value = string\\n      })))\\n      image = string\\n      name  = string\\n      resources = optional(object({\\n        limits = optional(object({\\n          cpu    = string\\n          memory = string\\n        }))\\n        requests = optional(object({\\n          cpu    = string\\n          memory = string\\n        }))\\n      }))\\n      script     = optional(string)\\n      workingDir = string\\n    }))\\n  })\\n}\\n\\nlocals {\\n  conf = merge(\\n    defaults(var.conf, {}),\\n    { for k, v in var.conf : k => v if v != null },\\n    { resources = { for k, v in var.conf.resources : k => v if v != null } },\\n    { steps = [for step in var.conf.steps : merge(\\n      { resources = {} },\\n      { for k, v in step : k => v if v != null },\\n    )] },\\n  )\\n}\\n```\\n\\n- KCL ([\u7f16\u8bd1\u53c2\u6570](https://kusionstack.io/docs/reference/lang/lang/tour#setting-%E6%96%87%E4%BB%B6%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%8F%82%E6%95%B0)\u6dfb\u52a0 -n \u5ffd\u7565 null \u503c)\\n\\n```python\\nschema Param:\\n    default?: str\\n    name: str\\n\\nschema Resource:\\n    cpu: str\\n    memory: str\\n\\nschema Step:\\n    args?: [str]\\n    command?: [str]\\n    env?: {str:str}\\n    image: str\\n    name: str\\n    resources?: {\\"limits\\" | \\"requests\\": Resource}\\n    script?: str\\n    workingDir: str\\n\\nschema K8sManifest:\\n    name: str\\n    namespace: str\\n    params: [Param]\\n    results?: [str]\\n    steps: [Step]\\n\\nconf: K8sManifest = option(\\"conf\\")\\n```\\n\\n\u7efc\u4e0a\u53ef\u4ee5\u770b\u51fa\uff0c\u5728 KCL \u4e2d\uff0c\u901a\u8fc7 Schema \u6765\u58f0\u660e\u65b9\u5f0f\u5b9a\u4e49\u5176\u7c7b\u578b\u548c\u7ea6\u675f\uff0c\u53ef\u4ee5\u770b\u51fa\u76f8\u6bd4\u4e8e Terraform HCL, \u5728\u5b9e\u73b0\u76f8\u540c\u529f\u80fd\u7684\u60c5\u51b5\u4e0b\uff0cKCL \u7684\u7ea6\u675f\u53ef\u4ee5\u7f16\u5199\u7684\u66f4\u52a0\u7b80\u5355 (\u4e0d\u9700\u8981\u50cf Terraform \u90a3\u6837\u91cd\u590d\u5730\u4e66\u5199 validation \u548c condition \u5b57\u6bb5)\uff0c\u5e76\u4e14\u989d\u5916\u63d0\u4f9b\u4e86\u5b57\u6bb5\u8bbe\u7f6e\u4e3a option \u7684\u80fd\u529b (`?`\u8fd0\u7b97\u7b26\uff0c\u4e0d\u50cf Terraform \u914d\u7f6e\u5b57\u6bb5\u9ed8\u8ba4\u53ef\u7a7a\uff0cKCL Schema \u5b57\u6bb5\u9ed8\u8ba4\u5fc5\u9009)\uff0c\u7ed3\u6784\u66f4\u52a0\u5206\u660e\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4ee3\u7801\u5c42\u9762\u76f4\u63a5\u83b7\u5f97\u7c7b\u578b\u68c0\u67e5\u548c\u7ea6\u675f\u6821\u9a8c\u7684\u80fd\u529b\u3002\\n\\n### 3.4 vs. CUE\\n\\n#### 3.4.1 \u529f\u80fd\u5bf9\u6bd4\\n\\n|  | CUE | KCL |\\n| --- | --- | --- |\\n| \u5efa\u6a21\u80fd\u529b | \u901a\u8fc7 Struct \u8fdb\u884c\u5efa\u6a21\uff0c\u65e0\u7ee7\u627f\u7b49\u7279\u6027\uff0c\u5f53\u6a21\u578b\u5b9a\u4e49\u4e4b\u95f4\u65e0\u51b2\u7a81\u65f6\u53ef\u4ee5\u5b9e\u73b0\u8f83\u9ad8\u7684\u62bd\u8c61\u3002\u7531\u4e8e CUE \u5728\u8fd0\u884c\u65f6\u8fdb\u884c\u6240\u6709\u7684\u7ea6\u675f\u68c0\u67e5\uff0c\u5728\u5927\u89c4\u6a21\u5efa\u6a21\u573a\u666f\u53ef\u80fd\u5b58\u5728\u6027\u80fd\u74f6\u9888 | \u901a\u8fc7 KCL Schema \u8fdb\u884c\u5efa\u6a21\uff0c\u901a\u8fc7\u8bed\u8a00\u7ea7\u522b\u7684\u5de5\u7a0b\u548c\u90e8\u5206\u9762\u5411\u5bf9\u8c61\u7279\u6027\uff08\u5982\u5355\u7ee7\u627f\uff09\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8f83\u9ad8\u7684\u6a21\u578b\u62bd\u8c61\u3002 KCL \u662f\u9759\u6001\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u5bf9\u4e8e\u5927\u89c4\u6a21\u5efa\u6a21\u573a\u666f\u5f00\u9500\u8f83\u5c0f |\\n| \u7ea6\u675f\u80fd\u529b | CUE \u5c06\u7c7b\u578b\u548c\u503c\u5408\u5e76\u5230\u4e00\u4e2a\u6982\u5ff5\u4e2d\uff0c\u901a\u8fc7\u5404\u79cd\u8bed\u6cd5\u7b80\u5316\u4e86\u7ea6\u675f\u7684\u7f16\u5199\uff0c\u6bd4\u5982\u4e0d\u9700\u8981\u6cdb\u578b\u548c\u679a\u4e3e\uff0c\u6c42\u548c\u7c7b\u578b\u548c\u7a7a\u503c\u5408\u5e76\u90fd\u662f\u4e00\u56de\u4e8b | KCL \u63d0\u4f9b\u4e86\u8ddf\u66f4\u4e30\u5bcc\u7684 check \u58f0\u660e\u5f0f\u7ea6\u675f\u8bed\u6cd5\uff0c\u7f16\u5199\u8d77\u6765\u66f4\u52a0\u5bb9\u6613\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u914d\u7f6e\u5b57\u6bb5\u7ec4\u5408\u7ea6\u675f\u7f16\u5199\u66f4\u52a0\u7b80\u5355\uff08\u80fd\u529b\u4e0a\u6bd4 CUE \u591a\u4e86 if gaurd \u7ec4\u5408\u7ea6\u675f\uff0call/any/map/filter \u7b49\u96c6\u5408\u7ea6\u675f\u7f16\u5199\u65b9\u5f0f\uff0c\u7f16\u5199\u66f4\u52a0\u5bb9\u6613\uff09 |\\n| \u5206\u5757\u7f16\u5199\u80fd\u529b | \u652f\u6301\u8bed\u8a00\u5185\u90e8\u914d\u7f6e\u5408\u5e76\uff0cCUE \u7684\u914d\u7f6e\u5408\u5e76\u662f\u5b8c\u5168\u5e42\u7b49\u7684\uff0c\u5bf9\u4e8e\u6ee1\u8db3\u590d\u6742\u7684\u591a\u79df\u6237\u3001\u591a\u73af\u5883\u914d\u7f6e\u573a\u666f\u7684\u8986\u76d6\u9700\u6c42\u53ef\u80fd\u65e0\u6cd5\u6ee1\u8db3 | KCL \u53ef\u4ee5\u81ea\u5b9a\u4e49\u914d\u7f6e\u5206\u5757\u7f16\u5199\u65b9\u5f0f\u548c\u591a\u79cd\u5408\u5e76\u7b56\u7565\uff0cKCL \u540c\u65f6\u652f\u6301\u5e42\u7b49\u548c\u975e\u5e42\u7b49\u7684\u5408\u5e76\u7b56\u7565,\u53ef\u4ee5\u6ee1\u8db3\u590d\u6742\u7684\u591a\u79df\u6237\u3001\u591a\u73af\u5883\u914d\u7f6e\u573a\u666f\u9700\u6c42 |\\n| \u8bed\u8a00\u5316\u7f16\u5199\u80fd\u529b | \u5bf9\u4e8e\u590d\u6742\u7684\u5faa\u73af\u3001\u6761\u4ef6\u7ea6\u675f\u573a\u666f\u7f16\u5199\u590d\u6742\uff0c\u5bf9\u4e8e\u9700\u8981\u8fdb\u884c\u914d\u7f6e\u7cbe\u786e\u4fee\u6539\u7684\u7f16\u5199\u573a\u666f\u8f83\u4e3a\u7e41\u7410 | \u590d\u6742\u7684\u7ed3\u6784\u5b9a\u4e49\u3001\u5faa\u73af\u3001\u6761\u4ef6\u7ea6\u675f\u573a\u666f\u7f16\u5199\u7b80\u5355 |\\n\\n#### 3.4.2 \u4e3e\u4f8b\\n\\n**CUE \u7ea6\u675f\u6821\u9a8c\u7f16\u5199 v.s. KCL Schema \u58f0\u660e\u5f0f\u7ea6\u675f\u6821\u9a8c\u7f16\u5199\u53ca\u914d\u7f6e\u5206\u5757\u7f16\u5199\u80fd\u529b**\\n\\nCUE (\u6267\u884c\u547d\u4ee4 `cue export base.cue prod.cue`)\\n\\n- base.cue\\n\\n```cue\\n// base.cue\\nimport \\"list\\"\\n\\n#App: {\\n    domainType: \\"Standard\\" | \\"Customized\\" | \\"Global\\",\\n    containerPort: >=1 & <=65535,\\n    volumes: [...#Volume],\\n    services: [...#Service],\\n}\\n\\n#Service: {\\n    clusterIP: string,\\n    type: string,\\n\\n    if type == \\"ClusterIP\\" {\\n        clusterIP: \\"None\\"\\n    }\\n}\\n\\n#Volume: {\\n    container: string | *\\"*\\"  // The default value of `container` is \\"*\\"\\n    mountPath: string,\\n    _check: false & list.Contains([\\"/\\", \\"/boot\\", \\"/home\\", \\"dev\\", \\"/etc\\", \\"/root\\"], mountPath),\\n}\\n\\napp: #App & {\\n    domainType: \\"Standard\\",\\n    containerPort: 80,\\n    volumes: [\\n        {\\n            mountPath: \\"/tmp\\"\\n        }\\n    ],\\n    services: [\\n        {\\n            clusterIP: \\"None\\",\\n            type: \\"ClusterIP\\"\\n        }\\n    ]\\n}\\n\\n```\\n\\n- prod.cue\\n\\n```python\\n// prod.cue\\napp: #App & {\\n    containerPort: 8080,  // error: app.containerPort: conflicting values 8080 and 80:\\n}\\n```\\n\\nKCL (\u6267\u884c\u547d\u4ee4 `kcl base.k prod.k`)\\n\\n- base.k\\n\\n```python\\n# base.k\\nschema App:\\n    domainType: \\"Standard\\" | \\"Customized\\" | \\"Global\\"\\n    containerPort: int\\n    volumes: [Volume]\\n    services: [Service]\\n\\n    check:\\n        1 <= containerPort <= 65535\\n\\nschema Service:\\n    clusterIP: str\\n    $type: str\\n\\n    check:\\n        clusterIP == \\"None\\" if $type == \\"ClusterIP\\"\\n\\nschema Volume:\\n    container: str = \\"*\\"  # The default value of `container` is \\"*\\"\\n    mountPath: str\\n\\n    check:\\n        mountPath not in [\\"/\\", \\"/boot\\", \\"/home\\", \\"dev\\", \\"/etc\\", \\"/root\\"]\\n\\napp: App {\\n    domainType = \\"Standard\\"\\n    containerPort = 80\\n    volumes = [\\n        {\\n            mountPath = \\"/tmp\\"\\n        }\\n    ]\\n    services = [\\n        {\\n            clusterIP = \\"None\\"\\n            $type = \\"ClusterIP\\"\\n        }\\n    ]\\n}\\n\\n```\\n\\n- prod.k\\n\\n```python\\n# prod.k\\napp: App {\\n    # \u53ef\u4ee5\u4f7f\u7528 = \u5c5e\u6027\u8fd0\u7b97\u7b26\u5bf9 base app \u7684 containerPort \u8fdb\u884c\u4fee\u6539\\n    containerPort = 8080\\n    # \u53ef\u4ee5\u4f7f\u7528 += \u5c5e\u6027\u8fd0\u7b97\u7b26\u5bf9 base app \u7684 volumes \u8fdb\u884c\u6dfb\u52a0\\n    # \u6b64\u5904\u8868\u793a\u5728 prod \u73af\u5883\u589e\u52a0\u4e00\u4e2a volume, \u4e00\u5171\u4e24\u4e2a volume\\n    volumes += [\\n        {\\n            mountPath = \\"/tmp2\\"\\n        }\\n    ]\\n}\\n```\\n\\n### 3.5 Performance\\n\\n\u5728\u4ee3\u7801\u89c4\u6a21\u8f83\u5927\u6216\u8005\u8ba1\u7b97\u91cf\u8f83\u9ad8\u7684\u573a\u666f\u60c5\u51b5\u4e0b KCL \u6bd4 CUE/Jsonnet/HCL \u7b49\u8bed\u8a00\u6027\u80fd\u66f4\u597d (CUE \u7b49\u8bed\u8a00\u53d7\u9650\u4e8e\u8fd0\u884c\u65f6\u7ea6\u675f\u68c0\u67e5\u5f00\u9500\uff0c\u800c KCL \u662f\u4e00\u4e2a\u9759\u6001\u7f16\u8bd1\u578b\u8bed\u8a00)\\n\\n- CUE\\n\\n```cue\\nimport \\"list\\"\\n\\ntemp: {\\n       for i, _ in [1]*10000 {\\n               \\"a\\\\(i)\\": list.Max([1, 2])\\n       }\\n}\\n```\\n\\n- KCL\\n\\n```python\\na = lambda x: int, y: int -> int {\\n    max([x, y])\\n}\\ntemp = {\\"a${i}\\": a(1, 2) for i in range(10000)}\\n```\\n\\n- Jsonnet\\n\\n```jsonnet\\nlocal a(x, y) = std.max(x, y);\\n{\\n    temp: [a(1, 2) for i in std.range(0, 10000)],\\n}\\n```\\n\\n- Terraform HCL (\u7531\u4e8e terraform range \u51fd\u6570\u53ea\u652f\u6301\u6700\u591a 1024 \u4e2a\u8fed\u4ee3\u5668\uff0c\u5c06 range(10000) \u62c6\u5206\u4e3a 10 \u4e2a\u5b50 range)\\n\\n```python\\noutput \\"r1\\" {\\n  value = {for s in range(0, 1000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r2\\" {\\n  value = {for s in range(1000, 2000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r3\\" {\\n  value = {for s in range(1000, 2000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r4\\" {\\n  value = {for s in range(2000, 3000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r5\\" {\\n  value = {for s in range(3000, 4000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r6\\" {\\n  value = {for s in range(5000, 6000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r7\\" {\\n  value = {for s in range(6000, 7000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r8\\" {\\n  value = {for s in range(7000, 8000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r9\\" {\\n  value = {for s in range(8000, 9000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\noutput \\"r10\\" {\\n  value = {for s in range(9000, 10000) : format(\\"a%d\\", s) => max(1, 2)}\\n}\\n\\n```\\n\\n- \u8fd0\u884c\u65f6\u95f4\\n\\n| \u8bbe\u5907\u578b\u53f7 | KCL v0.4.3 \u8fd0\u884c\u65f6\u95f4 (\u5305\u542b\u7f16\u8bd1+\u8fd0\u884c\u65f6\u95f4) | CUE v0.4.2 \u8fd0\u884c\u65f6\u95f4 (\u5305\u542b\u7f16\u8bd1+\u8fd0\u884c\u65f6\u95f4) | Jsonnet v0.18.0 \u8fd0\u884c\u65f6\u95f4 (\u5305\u542b\u7f16\u8bd1+\u8fd0\u884c\u65f6\u95f4) | HCL in Terraform v1.2.9 \u8fd0\u884c\u65f6\u95f4 (\u5305\u542b\u7f16\u8bd1+\u8fd0\u884c\u65f6\u95f4) |\\n| --- | --- | --- | --- | --- |\\n| Mac 6-Core Intel Core i7\uff0c2.6 GHz | 375 ms | 6290 ms | 1890 ms | tf plan -parallelism=1 \u65f6\uff1a1774 ms; tf plan -parallelism=10 \u65f6\uff1a685 ms; parallelism \u53c2\u6570\u66f4\u5927\u65f6\u8fd0\u884c\u901f\u5ea6\u6ca1\u6709\u66f4\u660e\u663e\u63d0\u5347 |\\n\\n\u7efc\u4e0a\u53ef\u4ee5\u770b\u51fa\uff1aCUE \u548c KCL \u5747\u53ef\u4ee5\u8986\u76d6\u5230\u7edd\u5927\u591a\u6570\u914d\u7f6e\u6821\u9a8c\u573a\u666f\uff0c\u5e76\u4e14\u5747\u652f\u6301\u5c5e\u6027\u7c7b\u578b\u5b9a\u4e49\u3001\u914d\u7f6e\u9ed8\u8ba4\u503c\u3001\u7ea6\u675f\u6821\u9a8c\u7b49\u7f16\u5199\uff0c\u4f46\u662f CUE \u5bf9\u4e8e\u4e0d\u540c\u7684\u7ea6\u675f\u6761\u4ef6\u573a\u666f\u65e0\u7edf\u4e00\u7684\u5199\u6cd5\uff0c\u4e14\u4e0d\u80fd\u5f88\u597d\u5730\u900f\u51fa\u6821\u9a8c\u9519\u8bef\uff0cKCL \u4f7f\u7528 check \u5173\u952e\u5b57\u4f5c\u7edf\u4e00\u5904\u7406\uff0c\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u9519\u8bef\u8f93\u51fa\u3002\\n\\n\u6b64\u5916\u7531\u4e8e CUE \u7684\u5e42\u7b49\u5408\u5e76\u7279\u6027\uff0c\u5728\u573a\u666f\u4e0a\u5e76\u65e0\u6cd5\u4f7f\u7528\u7c7b\u4f3c kustomize \u7684 overlay \u914d\u7f6e\u8986\u76d6\u6dfb\u52a0\u80fd\u529b\uff0c\u6bd4\u5982\u4e0a\u8ff0\u7684 base.cue \u548c prod.cue \u4e00\u8d77\u7f16\u8bd1\u4f1a\u62a5\u9519\u3002\\n\\n## \u56db\u3001KCL \u6838\u5fc3\u5b9e\u73b0\u539f\u7406\\n\\n### 4.1 KCL \u6280\u672f\u67b6\u6784\\n\\n![](/img/blog/2022-09-15-declarative-config-overview/16-kcl-compiler-arch.png)\\n\u56fe 16 KCL \u7f16\u8bd1\u5668\u67b6\u6784\\n\\n\u5982\u56fe 16 \u6240\u793a\uff0cKCLVM \u7f16\u8bd1\u5668\u5b9e\u73b0\u4ee5 Spec \u4f5c\u4e3a\u9a71\u52a8\uff08\u4e3b\u8981\u5305\u542b KCL \u8bed\u8a00\u89c4\u8303\uff0cKCL \u591a\u8bed\u8a00\u96c6\u6210\u89c4\u8303\u3001KCL OpenAPI \u89c4\u8303\uff09\uff0cKCL \u662f\u4e00\u4e2a\u7f16\u8bd1\u578b\u7684\u8bed\u8a00\uff0c\u6574\u4f53\u4fdd\u6301\u4e0e\u5e38\u89c4\u8bed\u8a00\u7f16\u8bd1\u5668\u76f8\u540c\u7684\u4e09\u6bb5\u5f0f\u67b6\u6784\uff0c\u5e76\u5728\u5176\u4e2d\u501f\u52a9\u4e86 LLVM-IR \u4f5c\u4e3a KCL \u8fde\u63a5 Native/WASM \u4ee3\u7801\u7684\u4e2d\u95f4\u7ebd\u5e26\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b 3 \u4e2a\u6838\u5fc3\u5de5\u4f5c\uff1a\\n\\n- KCL AST \u5230 LLVM-IR \u7684\u7ffb\u8bd1\uff1a\u901a\u8fc7\u904d\u5386 KCL AST\uff0c\u6839\u636e KCL \u8bed\u8a00\u89c4\u8303\u751f\u6210\u76f8\u5e94\u7684 LLVM-IR \u4ee3\u7801\uff0c\u76f8\u5f53\u4e8e\u7528\u6237\u6001\u4ee3\u7801\u3002\\n- KCL Runtime Lib\uff1a\u8fd0\u884c\u65f6\u8f85\u52a9\u51fd\u6570\u5e93\uff0c\u63d0\u4f9b\u8fd0\u884c\u65f6 KCL \u7684\u503c/\u7c7b\u578b\u8ba1\u7b97\u3001\u5185\u5b58\u3001\u4e0a\u4e0b\u6587\u7ba1\u7406\u3001\u5185\u7f6e\u5e93\u548c\u63d2\u4ef6\u5e93\u652f\u6301\uff0c\u76f8\u5f53\u4e8e\u7cfb\u7edf\u6001\u4ee3\u7801\u3002\\n- \u7528\u6237\u6001\u4e0e\u7cfb\u7edf\u6001\u4ee3\u7801\u94fe\u63a5\u4e0e\u6267\u884c\uff1a\u5c06\u7528\u6237\u6001\u4ee3\u7801\u4e0e\u7cfb\u7edf\u6001\u4ee3\u7801\u94fe\u63a5\u4e3a\u4e00\u4e2a\u52a8\u6001\u94fe\u63a5\u5e93/WASM Module\uff0c\u6700\u7ec8\u901a\u8fc7\u7edf\u4e00\u7684 Runner \u6a21\u5757\u6267\u884c\u7f16\u8bd1\u540e\u7684 KCL \u4ee3\u7801\u3002\\n\\n\u6b64\u5916 KCL \u5728\u8bed\u4e49\u68c0\u67e5\u5668\u548c\u548c Plugin \u8fd9\u5757\u505a\u4e86\u589e\u5f3a\u652f\u6301\uff1a\\n\\n- Resolver\\n  - \u9759\u6001\u7c7b\u578b\u63a8\u5bfc\u4e0e\u68c0\u67e5\uff1a\u53ef\u4ee5\u5728\u7f16\u8bd1\u65f6\u8fdb\u884c\u7c7b\u578b\u63a8\u5bfc\u548c\u68c0\u67e5\uff0c\u907f\u514d\u8fd0\u884c\u65f6\u7c7b\u578b\u68c0\u67e5\u5f00\u9500\uff0c\u53ef\u4ee5\u4f5c\u4e3a IDE \u63d2\u4ef6\u8df3\u8f6c\u3001\u8865\u5168\u7b49\u529f\u80fd\u652f\u6301\u548c\u8bed\u4e49 API \u6784\u5efa(\u5982 schema \u6a21\u578b\u67e5\u8be2\u3001\u4f9d\u8d56\u5206\u6790\u7b49) \u7684\u826f\u597d\u57fa\u7840\\n  - \u914d\u7f6e\u56fe\u5408\u5e76\uff1a\u5728\u7f16\u8bd1\u8fc7\u7a0b\u5bf9\u914d\u7f6e\u6570\u636e\u4f9d\u8d56\u56fe\u8fdb\u884c\u6784\u5efa\u4e0e\u5408\u5e76\uff0c\u6700\u7ec8\u8fd0\u884c\u65f6\u4ec5\u8fdb\u884c\u5c11\u91cf\u8ba1\u7b97\u5373\u53ef\u5f97\u5230\u6700\u7ec8\u7684\u89e3\\n  - \u8bed\u4e49\u4f9d\u8d56\u56fe\uff1a\u901a\u8fc7\u5185\u5efa\u8bed\u4e49\u4f9d\u8d56\u56fe\uff0cKCL \u53ef\u4ee5\u5b8c\u6210\u914d\u7f6e\u53d8\u66f4\u7684\u4f9d\u8d56\u5206\u6790\uff0c \u5e76\u4e14\u6839\u636e\u914d\u7f6e\u53d8\u66f4\u7ed3\u679c\u8fdb\u884c\u589e\u91cf\u7f16\u8bd1\uff0c\u5bf9\u4e0d\u53d8\u7684\u914d\u7f6e\u8fdb\u884c\u7f13\u5b58\uff0c\u53ef\u4ee5\u63d0\u5347\u7aef\u5230\u7aef\u7f16\u8bd1\u6027\u80fd\\n  - Schema \u4e3a\u4e2d\u5fc3\u7684\u9762\u5411\u5bf9\u8c61\u7279\u6027\uff1aKCL \u8bed\u8a00\u53ea\u4fdd\u7559\u4e86\u5355\u7ee7\u627f\u7684\u8bed\u6cd5\u3002\u540c\u65f6 schema \u53ef\u4ee5\u901a\u8fc7 mixin \u548c proocol \u7b49\u7279\u6027\u6df7\u5165\u590d\u7528\u76f8\u540c\u7684\u4ee3\u7801\u7247\u6bb5\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684\u80fd\u529b\u914d\u5957\uff0c\u53ef\u4ee5\u901a\u8fc7 mixin \u673a\u5236\u7f16\u5199\uff0c\u5e76\u901a\u8fc7 mixin \u58f0\u660e\u7684\u65b9\u5f0f\u201c\u6df7\u5165\u201d\u5230\u4e0d\u540c\u7684\u7ed3\u6784\u4f53\u4e2d\\n- Plugin: \u53ef\u4ee5\u4f7f\u7528 Python/Go \u7f16\u5199\u6269\u5c55\u5e93\uff0c\u4e3b\u8981\u5305\u542b\u4e00\u4e9b\u9886\u57df\u80fd\u529b\uff0c\u5982\u8bbf\u95ee\u7f51\u7edc\u6216\u6570\u636e\u5e93\u7b49\u3002\\n\\n### 4.2 KCL \u914d\u7f6e\u56fe\u6a21\u578b\\n\\n![](/img/blog/2022-09-15-declarative-config-overview/17-kcl-graph-unification.png)\\n\u56fe 17 KCL \u914d\u7f6e\u56fe\u6a21\u578b\\n\\n\u56fe 17 \u793a\u51fa\u4e86 KCL \u5185\u90e8\u7684\u914d\u7f6e\u56fe\u6a21\u578b\uff0c\u9996\u5148 KCL \u4ee3\u7801\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5f62\u6210\u4e24\u5f20\u56fe\uff08\u7528\u6237\u4e0d\u540c\u914d\u7f6e\u76f4\u63a5\u7684\u5f15\u7528\u548c\u4ece\u5c5e\u5173\u7cfb\u4e00\u822c\u5f62\u5f0f\u4e00\u5f20\u6709\u5411\u65e0\u73af\u56fe\uff09\uff0c\u5206\u522b\u5bf9\u5e94\u7ed3\u6784\u4f53\u5185\u90e8\u58f0\u660e\u4ee3\u7801\u53ca\u7ed3\u6784\u4f53\u4f7f\u7528\u58f0\u660e\u4ee3\u7801\u3002\u7f16\u8bd1\u8fc7\u7a0b\u53ef\u4ee5\u7b80\u5355\u5206\u4e3a\u4e09\u6b65\u3002\\n\\n- \u9996\u5148\u5b9a\u4e49\u5e73\u53f0\u4fa7\u7684\u7ed3\u6784\u4f53\u5e76\u5f62\u6210\u7ed3\u6784\u4f53\u5185\u90e8\u58f0\u660e\u4ee3\u7801\u56fe\\n- \u5176\u6b21\u58f0\u660e\u5e76\u5408\u5e76\u4e0d\u540c\u7528\u6237\u4fa7\u914d\u7f6e\u4ee3\u7801\u56fe\\n- \u6700\u540e\u5c06\u7528\u6237\u4fa7\u914d\u7f6e\u4ee3\u7801\u56fe\u8ba1\u7b97\u7684\u7ed3\u679c\u4ee3\u5165\u5e73\u53f0\u4fa7\u7ed3\u6784\u4f53\u5185\u90e8\u58f0\u660e\u4ee3\u7801\u56fe\u6c42\u89e3\uff0c\u6700\u7ec8\u5f97\u5230\u5b8c\u6574\u914d\u7f6e\u56fe\u5b9a\u4e49\\n\\n\u901a\u8fc7\u8fd9\u6837\u7b80\u5355\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u5728\u7f16\u8bd1\u65f6\u5b8c\u6210\u5927\u90e8\u5206\u4ee3\u6362\u8fd0\u7b97\uff0c\u6700\u7ec8\u8fd0\u884c\u65f6\u4ec5\u8fdb\u884c\u5c11\u91cf\u8ba1\u7b97\u5373\u53ef\u5f97\u5230\u6700\u7ec8\u7684\u89e3\u3002\u540c\u65f6\u5728\u7f16\u8bd1\u5408\u5e76\u56fe\u8fc7\u7a0b\u4e2d\u4ecd\u7136\u80fd\u591f\u6267\u884c\u7c7b\u578b\u68c0\u67e5\u548c\u503c\u7684\u68c0\u67e5\uff0c\u533a\u522b\u662f\u7c7b\u578b\u68c0\u67e5\u662f\u505a\u6cdb\u5316\u3001\u53d6\u504f\u5e8f\u4e0a\u786e\u754c\uff08\u68c0\u67e5\u67d0\u4e2a\u53d8\u91cf\u7684\u503c\u662f\u5426\u6ee1\u8db3\u65e2\u5b9a\u7c7b\u578b\u6216\u8005\u65e2\u5b9a\u7c7b\u578b\u7684\u5b50\u7c7b\u578b\uff09\uff0c\u503c\u68c0\u67e5\u662f\u505a\u7279\u5316\u3001\u53d6\u504f\u5e8f\u4e0b\u786e\u754c\uff08\u6bd4\u5982\u5c06\u4e24\u4e2a\u5b57\u5178\u5408\u5e76\u4e3a\u4e00\u4e2a\u5b57\u5178\uff09\u3002\\n\\n## \u4e94\u3001\u5c0f\u7ed3\\n\\n\u6587\u672c\u5bf9\u58f0\u660e\u5f0f\u914d\u7f6e\u6280\u672f\u505a\u4e86\u6574\u4f53\u6982\u8ff0\uff0c\u5176\u4e2d\u91cd\u70b9\u9610\u8ff0\u4e86 KCL \u6982\u5ff5\u3001\u6838\u5fc3\u8bbe\u8ba1\u3001\u4f7f\u7528\u573a\u666f\u4ee5\u53ca\u4e0e\u5176\u4ed6\u914d\u7f6e\u8bed\u8a00\u7684\u5bf9\u6bd4\uff0c\u671f\u671b\u5e2e\u52a9\u5927\u5bb6\u66f4\u597d\u7684\u7406\u89e3\u58f0\u660e\u5f0f\u914d\u7f6e\u6280\u672f\u53ca KCL \u8bed\u8a00\u3002\u66f4\u591a KusionStack \u7684\u6982\u5ff5\u3001\u80cc\u666f\u3001\u8bbe\u8ba1\u4e0e\u7528\u6237\u6848\u4f8b\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u6b22\u8fce\u8bbf\u95ee https://kusionstack.io/\\n\\n## \u516d\u3001\u53c2\u8003\\n\\n- KusionStack Cloud Native Configuration Practice Blog: [https://kusionstack.io/blog/2021-kusion-intro](https://kusionstack.io/blog/2021-kusion-intro)\\n- Terraform Language: [https://www.terraform.io/language](https://www.terraform.io/language)\\n- Terraform Provider Kubernetes: [https://github.com/hashicorp/terraform-provider-kubernetes](https://github.com/hashicorp/terraform-provider-kubernetes)\\n- Terraform Provider AWS: [https://github.com/hashicorp/terraform-provider-aws](https://github.com/hashicorp/terraform-provider-aws)\\n- Pulumi: [https://www.pulumi.com/docs/](https://www.pulumi.com/docs/)\\n- Pulumi v.s. Terraform: [https://www.pulumi.com/docs/intro/vs/terraform/](https://www.pulumi.com/docs/intro/vs/terraform/)\\n- Google SRE Work Book Configuration Design: [https://sre.google/workbook/configuration-design/](https://sre.google/workbook/configuration-design/)\\n- Google Borg Paper: [https://storage.googleapis.com/pub-tools-public-publication-data/pdf/43438.pdf](https://storage.googleapis.com/pub-tools-public-publication-data/pdf/43438.pdf)\\n- Holistic Configuration Management at Facebook: [https://sigops.org/s/conferences/sosp/2015/current/2015-Monterey/printable/008-tang.pdf](https://sigops.org/s/conferences/sosp/2015/current/2015-Monterey/printable/008-tang.pdf)\\n- JSON Spec: [https://www.json.org/json-en.html](https://www.json.org/json-en.html)\\n- YAML Spec: [https://yaml.org/spec/](https://yaml.org/spec/)\\n- GCL: [https://github.com/rix0rrr/gcl](https://github.com/rix0rrr/gcl)\\n- HCL: [https://github.com/hashicorp/hcl](https://github.com/hashicorp/hcl)\\n- CUE: [https://github.com/cue-lang/cue](https://github.com/cue-lang/cue)\\n- Jsonnet: [https://github.com/google/jsonnet](https://github.com/google/jsonnet)\\n- Dhall: [https://github.com/dhall-lang/dhall-lang](https://github.com/dhall-lang/dhall-lang)\\n- Thrift: [https://github.com/Thriftpy/thriftpy2](https://github.com/Thriftpy/thriftpy2)\\n- Kustomize: [https://kustomize.io/](https://kustomize.io/)\\n- Kube-linter: [https://github.com/stackrox/kube-linter](https://github.com/stackrox/kube-linter)\\n- Checkov: [https://github.com/bridgecrewio/checkov](https://github.com/bridgecrewio/checkov)\\n- KCL Documents: [https://kusionstack.io/docs/reference/lang/lang/tour](https://kusionstack.io/docs/reference/lang/lang/tour)\\n- How Terraform Works: A Visual Intro: [https://betterprogramming.pub/how-terraform-works-a-visual-intro-6328cddbe067](https://betterprogramming.pub/how-terraform-works-a-visual-intro-6328cddbe067) \\n- How Terraform Works: Modules Illustrated: [https://awstip.com/terraform-modules-illustrate-26cbc48be83a](https://awstip.com/terraform-modules-illustrate-26cbc48be83a)\\n- Helm v.s. Kustomize: [https://harness.io/blog/helm-vs-kustomize](https://harness.io/blog/helm-vs-kustomize)\\n- KubeVela: [https://kubevela.io/docs/](https://kubevela.io/docs/)"},{"id":"2022-sense-of-open-day","metadata":{"permalink":"/blog/2022-sense-of-open-day","editUrl":"https://github.com/KusionStack/kusionstack.io/blob/main/blog/2022-06-07-sense-of-open-day/index.md","source":"@site/blog/2022-06-07-sense-of-open-day/index.md","title":"KusionStack \u5f00\u6e90\u6709\u611f","description":"\u5386\u65f6\u4e24\u5e74\uff0c\u6253\u7834\u201c\u9694\u884c\u5982\u9694\u5c71\u201d\u56f0\u5883","date":"2022-06-07T00:00:00.000Z","formattedDate":"June 7, 2022","tags":[{"label":"KusionStack","permalink":"/blog/tags/kusion-stack"},{"label":"Kusion","permalink":"/blog/tags/kusion"}],"readingTime":10.365,"truncated":false,"authors":[{"name":"\u6735\u6653\u4e1c","title":"Kusion \u521b\u59cb\u4eba"}],"frontMatter":{"slug":"2022-sense-of-open-day","title":"KusionStack \u5f00\u6e90\u6709\u611f","authors":{"name":"\u6735\u6653\u4e1c","title":"Kusion \u521b\u59cb\u4eba"},"tags":["KusionStack","Kusion"]},"prevItem":{"title":"\u58f0\u660e\u5f0f\u914d\u7f6e\u6280\u672f\u6982\u8ff0","permalink":"/blog/2022-declarative-config-overview"},"nextItem":{"title":"KusionStack Open Day","permalink":"/blog/2022-open-day"}},"content":"**\u5386\u65f6\u4e24\u5e74\uff0c\u6253\u7834\u201c\u9694\u884c\u5982\u9694\u5c71\u201d\u56f0\u5883**\\n\\n\u672c\u6587\u64b0\u5199\u4e8e KusionStack \u5f00\u6e90\u524d\u5915\uff0c\u4f5c\u8005\u6709\u611f\u800c\u53d1\uff0c\u56de\u987e\u4e86\u56e2\u961f\u4ece Kusion \u9879\u76ee\u5f00\u53d1\u4e4b\u521d\u5230\u73b0\u4eca\u6210\u529f\u8d70\u4e0a\u5f00\u6e90\u4e4b\u8def\u7684\u8270\u8f9b\u5386\u7a0b\u3002\u5f53\u4e2d\u65e2\u63cf\u8ff0\u4e86\u4f5c\u8005\u53ca\u5176\u56e2\u961f\u505a Kusion \u9879\u76ee\u7684\u521d\u5fc3\u548c\u9879\u76ee\u53d1\u5c55\u81f3\u4eca\u7684\u6210\u679c\uff0c\u4e5f\u8868\u8fbe\u4e86\u4f5c\u8005\u81ea\u8eab\u5bf9\u56e2\u961f\u7684\u7531\u8877\u611f\u6fc0\uff0c\u5b57\u91cc\u884c\u95f4\u90fd\u6563\u53d1\u7740\u771f\u60c5\u5b9e\u611f\u3002\\n\\n## 1. KusionStack \u662f\u4ec0\u4e48\uff1f\\n\\nKusionStack \u662f\u5f00\u6e90\u7684\u53ef\u7f16\u7a0b\u4e91\u539f\u751f\u534f\u8bae\u6808\uff01\\n\\nKusion \u4e00\u8bcd\u6765\u6e90\u4e8e fusion\uff08\u610f\u4e3a\u878d\u5408\uff09\uff0c\u5e0c\u671b\u901a\u8fc7\u4e00\u7ad9\u5f0f\u7684\u6280\u672f\u6808\u878d\u5408\u8fd0\u7ef4\u4f53\u7cfb\u7684\u591a\u4e2a\u89d2\u8272\uff0c\u63d0\u5347\u8fd0\u7ef4\u57fa\u7840\u8bbe\u65bd\u7684\u5f00\u653e\u6027\u3001\u6269\u5c55\u6027\uff0c\u4ece\u6574\u4f53\u4e0a\u964d\u672c\u589e\u6548\u3002KusionStack \u901a\u8fc7\u5b9a\u4e49\u4e91\u539f\u751f\u53ef\u7f16\u7a0b\u63a5\u5165\u5c42\uff0c\u63d0\u4f9b\u5305\u62ec\u914d\u7f6e\u8bed\u8a00 KCL\u3001\u6a21\u578b\u754c\u9762\u3001\u81ea\u52a8\u5316\u5de5\u5177\u3001\u6700\u4f73\u5b9e\u8df5\u5728\u5185\u7684\u4e00\u6574\u5957\u89e3\u51b3\u65b9\u6848\uff0c\u8fde\u901a\u4e91\u539f\u751f\u57fa\u7840\u8bbe\u65bd\u4e0e\u4e1a\u52a1\u5e94\u7528\uff0c\u8fde\u63a5\u5b9a\u4e49\u548c\u4f7f\u7528\u57fa\u7840\u8bbe\u65bd\u7684\u5404\u4e2a\u56e2\u961f\uff0c\u4e32\u8054\u5e94\u7528\u751f\u547d\u5468\u671f\u7684\u7814\u53d1\u3001\u6d4b\u8bd5\u3001\u96c6\u6210\u3001\u53d1\u5e03\u5404\u4e2a\u9636\u6bb5\uff0c\u670d\u52a1\u4e8e\u4e91\u539f\u751f\u81ea\u52a8\u5316\u7cfb\u7edf\u5efa\u8bbe\uff0c\u52a0\u901f\u4e91\u539f\u751f\u843d\u5730\u3002\\n\\n![](/img/blog/2022-06-07-sense-of-open-day/1.jpg)\\n\\n## 2. \u4e3a\u4e86\u4e00\u4e2a\u7406\u60f3\u7684\u8fd0\u7ef4\u4f53\u7cfb\\n\\n2019 \u5e74\u79cb\uff0cMOSN \u7684\u5de5\u4f5c\u5df2\u6301\u7eed\u4e86\u8fd1\u4e24\u5e74\uff0c\u671f\u95f4\u6211\u4eec\u9010\u6b65\u5b8c\u6210\u4e86\u5728\u652f\u4ed8\u5b9d\u6838\u5fc3\u94fe\u8def\u7684\u5f62\u6001\u9a8c\u8bc1\u3002\u6574\u4e2a\u8fc7\u7a0b\u4e2d\u9664\u4e86 MOSN \u672c\u8eab\u9762\u5bf9\u7684\u79cd\u79cd\u6280\u672f\u6311\u6218\u548c\u56f0\u96be\uff0c\u6240\u8c13\u7684\u4e91\u539f\u751f\u6280\u672f\u7ea2\u5229\uff0c\u5b9e\u9645\u4e0a\u4e5f\u5df2\u7ecf\u63a3\u8098\u4e8e\u8fd0\u7ef4\u7cfb\u7edf\u56fa\u5316\u6240\u9020\u6210\u7684\u6548\u7387\u5236\u7ea6\u3002\\n\\n\u6709\u4e00\u5929\u4e3b\u7ba1\u627e\u6211\u5403\u996d\uff08\u4e0b\u5957\uff09\uff0c\u671f\u95f4\u5411\u6211\u63cf\u8ff0\u4e86\u4ed6\u7406\u60f3\u4e2d\u7684\u8fd0\u7ef4\u4f53\u7cfb\uff1a\\n\\n\u4ed6\u5e0c\u671b SRE \u80fd\u901a\u8fc7\u4e00\u79cd\u4e13\u7528\u8bed\u8a00\u6765\u7f16\u5199\u9700\u6c42\uff0c\u901a\u8fc7\u5199\u4ee3\u7801\u6765\u5b9a\u4e49\u57fa\u7840\u8bbe\u65bd\u7684\u72b6\u6001\uff0c\u800c\u4e0d\u662f\u82b1\u8d39\u6781\u5927\u7684\u7cbe\u529b\u5728\u68c0\u67e5\u3001\u53d1\u73b0\u3001\u4fee\u590d\u7684\u5faa\u73af\u4e0a\u3002\u57fa\u7840\u8bbe\u65bd\u56e2\u961f\u5219\u901a\u8fc7\u63d0\u4f9b\u5f00\u653e\u7684\u53ef\u7f16\u7a0b\u8bed\u8a00\u548c\u5de5\u5177\u652f\u6491\u4e0d\u540c\u8bc9\u6c42\u7684 SRE \u56e2\u961f\uff0c\u8fbe\u5230\u66f4\u9ad8\u7684\u6574\u4f53 ROI\u3002\\n\\n\u6211\u7acb\u523b\u610f\u8bc6\u5230\u8fd9\u548c Hashicorp \u7684 Terraform \u795e\u4e4b\u76f8\u4f3c\uff08\u540e\u6765 Hashicorp \u5728 2021 \u5e74\u5e95\u4e0a\u5e02\uff0c\u4ee5\u8d85\u8fc7 150 \u4ebf\u7f8e\u5143\u7684\u5e02\u503c\u6210\u4e3a\u8fc4\u4eca\u4e3a\u6b62\u5e02\u503c\u6700\u9ad8\u7684\u4e00\u6b21\u5f00\u6e90 IPO\uff09\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u4e0d\u540c\u4e8e IaaS \u4ea4\u4ed8\u573a\u666f\uff0c\u8682\u8681\u9762\u5bf9\u7740\u5927\u91cf\u66f4\u89c4\u6a21\u5316\u3001\u590d\u6742\u5ea6\u66f4\u9ad8\u7684\u4e91\u539f\u751f PaaS \u573a\u666f\uff0c\u53c8\u8ba9\u6211\u60f3\u5230\u4e86 Google \u5185\u90e8\u8fd0\u7528\u4e13\u7528\u8bed\u8a00\u3001\u5de5\u5177\u7b49\u6280\u672f\u5f00\u653e [Borg](https://pdos.csail.mit.edu/6.824/papers/borg.pdf) \u548c\u76f8\u5173\u7684 [\u8fd0\u7ef4\u80fd\u529b\u7684\u5b9e\u8df5](https://sre.google/workbook/configuration-specifics)\uff0c\u5f53\u65f6\u611f\u89c9\u8fd9\u662f [\u4e00\u4e2a\u65e2\u6709\u610f\u601d\u53c8\u6709\u6311\u6218\u7684\u4e8b](https://queue.acm.org/detail.cfm?id=2898444)\u3002\\n\\n\u996d\u684c\u4e0a\u6211\u4eec\u804a\u4e86\u4e00\u4e9b\u601d\u8def\u4ee5\u53ca\u4e00\u4e9b\u8fd8\u4e0d\u592a\u786e\u5b9a\u7684\u6311\u6218\uff0c\u4ed6\u95ee\u6211\u60f3\u4e0d\u60f3\u641e\u4e00\u4e2a\u8bd5\u8bd5\uff0c\u641e\u4e0d\u6210\u4e5f\u6ca1\u5173\u7cfb\u3002\u5f53\u65f6\u6ca1\u60f3\u592a\u591a\uff0c\u996d\u6ca1\u5403\u5b8c\u5c31\u7b54\u5e94\u4e86\u3002\\n\\n![](/img/blog/2022-06-07-sense-of-open-day/2.jpg)\\n\\n## 3. \u6f2b\u957f\u7684\u5b66\u4e60\u3001\u63a2\u7d22\u4e0e\u5b9e\u8df5\\n\\n\u9694\u884c\u5982\u9694\u5c71\u3002\\n\\n\u6ca1\u6709\u8fc7\u8bed\u8a00\u8bbe\u8ba1\u7814\u53d1\u7684\u7ecf\u9a8c\uff0c\u4e5f\u6ca1\u6709\u8fc7\u5f00\u653e\u81ea\u52a8\u5316\u7cfb\u7edf\u8bbe\u8ba1\u7684\u7ecf\u9a8c\uff0c\u9879\u76ee\u5f00\u5c55\u4e4b\u521d\uff0c\u6211\u4eec\u5c31\u9677\u5165\u4e86\u4e3e\u6b65\u7ef4\u8270\u7684\u56f0\u5883\u3002\\n\\n\u7ecf\u5386\u4e86\u4e00\u6bb5\u6f2b\u957f\u65f6\u95f4\u7684\u5b66\u4e60\u3001\u6478\u7d22\u548c\u5b9e\u8df5\u7684\u53cd\u590d\u5faa\u73af\u4e4b\u540e\uff0c\u9879\u76ee\u4f9d\u65e7\u6ca1\u6709\u5927\u7684\u8d77\u8272\uff0c\u66f4\u56f0\u96be\u7684\u662f\u6211\u4eec\u4e0d\u4f46\u8981\u9762\u5bf9\u8682\u8681\u5185\u90e8\u590d\u6742\u53c8\u8026\u5408\u7684\u573a\u666f\u548c\u95ee\u9898\uff0c\u8fd8\u8981\u7ecf\u53d7\u300c\u8fd9\u79cd\u9ad8\u5ea6\u5de5\u7a0b\u5316\u7684\u65b9\u5f0f\u5728\u8682\u8681\u662f\u5426\u6709\u751f\u5b58\u571f\u58e4\u300d\u7684\u8d28\u7591\u3002\\n\\n\u5c4b\u6f0f\u504f\u9022\u8fde\u591c\u96e8\uff0c\u671f\u95f4\u53c8\u4ee4\u4eba\u60cb\u60dc\u4e14\u65e0\u5948\u7684\u7ecf\u5386\u4e86\u4e00\u4e9b\u4eba\u4e8b\u53d8\u5316\uff0c\u540c\u65f6\u7531\u4e8e\u79cd\u79cd\u539f\u56e0\uff0c\u9879\u76ee\u4e00\u5ea6\u9677\u5165\u4e86\u5404\u79cd\u56f0\u5883\u3002\u6574\u4e2a 2020 \u5e74\uff0c\u6211\u4eec\u5728\u672a\u77e5\u3001\u7ea0\u7ed3\u3001\u65e0\u5948\u4e2d\u5ea6\u8fc7\u2026\u2026 \\n\\n\u611f\u8c22\u74f4\u7199\u3001\u5ead\u575a\u548c\u6211\u7684\u4e3b\u7ba1\uff0c\u611f\u8c22\u4f60\u4eec\u5f53\u65f6\u6ca1\u6709\u653e\u5f03\u8fd9\u4e2a\u9879\u76ee\uff0c\u4f9d\u7136\u4e0e\u6211\u4e00\u540c\u575a\u5b88\u3002\\n\\n![](/img/blog/2022-06-07-sense-of-open-day/3.jpg)\\n\\n## 4. \u75db\u5e76\u5feb\u4e50\u7684\u5b75\u5316\u4e4b\u65c5\\n\\n\u901a\u8fc7\u6301\u7eed\u5730\u5e03\u9053\u3001\u4ea4\u6d41\u548c\u6c9f\u901a\uff0c\u6211\u4eec\u9010\u6b65\u5728\u57fa\u7840\u8bbe\u65bd\u6280\u672f\u56e2\u961f\u548c SRE \u56e2\u961f\u627e\u5230\u4e86\u66f4\u591a\u6709\u5171\u8bc6\u7684\u670b\u53cb\u3002\\n\\n\u540c\u65f6\u5728\u6280\u672f\u4e0a\uff0c\u6211\u4eec\u4ea6\u8131\u79bb\u4e86\u8ff7\u832b\uff0c\u771f\u6b63\u610f\u4e49\u4e0a\u5730\u542f\u52a8\u4e86 Kusion \u9879\u76ee\uff0c\u4e5f\u6210\u529f\u5730\u4ece PoC \u8fc7\u6e21\u5230\u4e86 MVP \u7684\u9636\u6bb5\u3002\\n\\n\u6700\u7ec8\uff0c\u6211\u4eec\u4ee5\u201c\u975e\u6807\u201d\u5e94\u7528\u4e3a\u5207\u5165\u70b9\uff0c\u5f00\u59cb\u4e86\u75db\u5e76\u5feb\u4e50\u7740\u7684\u5b75\u5316\u4e4b\u65c5\u3002\\n\\n\u611f\u8c22\u96f6\u6267\u3001\u9752\u6cb3\u3001\u5b50\u6ce2\u3001\u674e\u4e30\u3001\u6bcb\u6daf\u3001\u5411\u91ce\u3001\u8fbe\u8fdc\u2026\u2026\u5728\u8fd9\u91cc\u65e0\u6cd5\u4e00\u4e00\u5217\u4e3e\uff0c\u611f\u8c22\u4f60\u4eec\u7684\u575a\u6301\u8ba9\u8fd9\u4e2a\u60f3\u6cd5\u9010\u6b65\u6210\u4e3a\u73b0\u5b9e\u3002\\n\\n![](/img/blog/2022-06-07-sense-of-open-day/4.jpg)\\n\\n## 5. \u7a81\u7834\u4e0e\u8fdb\u5c55\\n\\n\u7565\u8fc7\u4e2d\u95f4\u7684\u79cd\u79cd\u63a2\u7d22\u548c\u5b9e\u8df5\uff0c\u56de\u987e\u8fd9\u6bb5\u5386\u7a0b\uff0c\u5728\u8fd9\u4e00\u5e74\u591a\u7684\u65f6\u95f4\u91cc\u6211\u4eec\u7ed3\u5408\u4e86\u7f16\u8bd1\u6280\u672f\u3001\u8fd0\u7ef4\u53ca\u5e73\u53f0\u6280\u672f\uff0c\u6210\u529f\u5efa\u7acb\u4e86\u4e00\u4e2a\u57fa\u4e8e Kusion \u53ef\u7f16\u7a0b\u6280\u672f\u6808\u7684\u8fd0\u7ef4\u4f53\u7cfb\u3002\\n\\n\u5728\u4e1a\u52a1\u573a\u666f\u4e0a\uff0c\u9879\u76ee\u8986\u76d6\u4e86\u4ece IaaS \u5230 SaaS \u7684\u5927\u91cf\u8fd0\u7ef4\u573a\u666f\uff0c\u622a\u81f3\u76ee\u524d\u5171\u63a5\u5165\u4e86 800+ \u5e94\u7528\uff0c\u8986\u76d6 9 \u4e2a BG\uff0c21 \u4e2a BU\uff0c\u5176\u4e2d\u5178\u578b\u6848\u4f8b\u4ea4\u4ed8\u8fd0\u7ef4\u63d0\u6548 90% \u4ee5\u4e0a\uff0c\u8fd9\u4e5f\u662f\u8682\u8681\u5185\u90e8\u7b2c\u4e00\u6b21\u5c06\u5927\u91cf\u5f02\u6784\u5e94\u7528\u7eb3\u5165\u5230\u4e00\u6574\u5957\u8fd0\u7ef4\u6280\u672f\u6808\u3002\\n\\n\u5728\u8682\u8681\u6211\u4eec\u57fa\u4e8e\u4e91\u539f\u751f\u5bb9\u5668\u548c\u5fae\u670d\u52a1\u6280\u672f\u6df1\u5165\u63a2\u7d22\u4e86 DevOps\u3001CICD \u5b9e\u8df5\uff0c\u5b8c\u5584\u4e86\u8682\u8681\u7684\u4e91\u539f\u751f\u6280\u672f\u4f53\u7cfb\uff0c\u9010\u6b65\u91ca\u653e\u4e86\u4e91\u539f\u751f\u6548\u7387\u7ea2\u5229\uff0c\u540c\u65f6\u5f62\u6210\u4e86\u4e00\u4e2a\u8fd1 300 \u4eba\u7684\u865a\u62df\u8fd0\u7ef4\u7814\u53d1\u56e2\u961f\u3002\\n\\n\u4e0d\u540c\u804c\u80fd\u4e0d\u540c\u56e2\u961f\u7684\u53c2\u4e0e\u8005\u51dd\u805a\u5728\u4e00\u8d77\u89e3\u51b3\u5404\u81ea\u6240\u9762\u5bf9\u7684\u95ee\u9898\uff0c\u8d21\u732e\u4e86 30K+ commit \u548c 350K+ \u884c\u4ee3\u7801\uff0c\u6709\u4e00\u4e9b\u53c2\u4e0e\u8005\u81ea\u53d1\u6210\u4e3a Kusion \u7684\u7814\u53d1\u8005 \u3002\u6211\u8ba4\u4e3a\u8fd9\u4e9b\u5de5\u7a0b\u5e08\u6587\u5316\u7406\u5ff5\u548c\u9886\u57df\u77e5\u8bc6\u7684\u79ef\u7d2f\u5e26\u6765\u4e86\u8fdc\u8d85\u8fd0\u7ef4\u4e1a\u52a1\u672c\u8eab\u7684\u4ef7\u503c\u3002\\n\\n![](/img/blog/2022-06-07-sense-of-open-day/5.png)\\n\\n\u6b64\u5916\uff0cKusion \u4e5f\u6210\u4e3a\u4e86\u53ef\u7f16\u7a0b\u57fa\u7ebf\u4ea7\u54c1\u3001\u4e91\u539f\u751f\u8fd0\u7ef4\u4ea7\u54c1\u3001\u591a\u4e91\u4ea4\u4ed8\u4ea7\u54c1\u7b49\u65b0\u4e00\u4ee3\u8fd0\u7ef4\u4ea7\u54c1\u7684\u57fa\u7840\u6280\u672f\uff0c\u6210\u4e3a\u8682\u8681\u8fd0\u7ef4\u4f53\u7cfb\u67b6\u6784\u5347\u7ea7\u7684\u4e00\u90e8\u5206\u3002\\n\\n\u4e0d\u5fd8\u521d\u5fc3\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u6280\u672f\u624b\u6bb5\u4fc3\u8fdb\u4e0e\u8fd0\u7ef4\u53c2\u4e0e\u65b9\u7684\u5408\u4f5c\u5173\u7cfb\u7684\u5408\u7406\u5316\u3001\u57fa\u4e8e\u5f00\u653e\u6280\u672f\u6808\u7684\u81ea\u52a8\u5316\uff0c\u4ee5\u53ca\u8fd0\u7ef4\u6570\u636e\u4e0e\u77e5\u8bc6\u7684\u6c89\u6dc0\u79ef\u7d2f\uff0c\u4ee5\u8fbe\u5230\u6574\u4f53\u534f\u4f5c\u8fd0\u7ef4\u6548\u7387\u7684\u4e0d\u65ad\u63d0\u5347\u3002\\n\\n\u540c\u65f6\uff0c\u56e0\u8682\u8681\u5185\u90e8\u8fd0\u7ef4\u573a\u666f\u8f83\u591a\u4e14\u94fe\u8def\u590d\u6742\uff0c\u6bcf\u4e2a\u73af\u8282\u90fd\u9700\u8981\u6700\u61c2\u8fd0\u7ef4\u4e1a\u52a1\u7684 SRE \u5bc6\u5207\u53c2\u4e0e\uff0c\u4e0e\u5e73\u53f0\u3001\u5e94\u7528\u7814\u53d1\u534f\u540c\u5de5\u4f5c\uff0c\u6700\u7ec8\u5404\u73af\u8282\u8054\u5408\u5728\u4e00\u8d77\u5f62\u6210\u4e86\u4e00\u5957\u5b8c\u6574\u7684\u8fd0\u7ef4\u4f53\u7cfb\uff0c\u5728\u8fd9\u6837\u7684\u601d\u8def\u4e0b\u5f00\u653e\u6280\u672f\u4e5f\u4f1a\u8d8a\u6765\u8d8a\u91cd\u8981\u3002\\n\\n\u5e73\u53f0\u7814\u53d1\u3001SRE\u3001\u5e94\u7528\u7814\u53d1\u7b49\u591a\u79cd\u89d2\u8272\u534f\u540c\u7f16\u5199\u7684\u4ee3\u7801\u662f\u4e00\u79cd\u6570\u636e\u7684\u6c89\u6dc0\uff0c\u4ea6\u662f\u4e00\u79cd\u4e1a\u52a1\u77e5\u8bc6\u7684\u6c89\u6dc0\uff0c\u57fa\u4e8e\u8fd9\u4e9b\u6570\u636e\u548c\u77e5\u8bc6\uff0c\u672a\u6765\u4f1a\u6709\u66f4\u591a\u7684\u53ef\u80fd\u6027\u3002\\n\\n## 6. \u8d70\u4e0a\u5f00\u6e90\u4e4b\u8def\\n\\n\u5728\u5386\u7ecf\u4e86\u4e00\u6bb5\u5185\u90e8\u63a2\u7d22\u4e4b\u540e\uff0c\u6211\u4eec\u5e0c\u671b\u628a KusionStack \u5f00\u6e90\u5230\u6280\u672f\u793e\u533a\u3002\u56e0\u4e3a\u6211\u4eec\u610f\u8bc6\u5230\u81ea\u8eab\u9762\u5bf9\u7684\u95ee\u9898\uff0c\u5176\u4ed6\u516c\u53f8\u3001\u56e2\u961f\u5176\u5b9e\u4e5f\u540c\u6837\u6b63\u5728\u9762\u5bf9\u3002\u501f\u52a9\u5f00\u6e90\u8fd9\u4ef6\u4e8b\uff0c\u6211\u4eec\u5e0c\u671b\u56e2\u961f\u7684\u8fd9\u4e9b\u5de5\u4f5c\u6210\u679c\u80fd\u5bf9\u66f4\u591a\u4eba\u6709\u6240\u5e2e\u52a9\u3002\\n\\n\u5f53\u7136\uff0c\u4e5f\u53d7\u9650\u4e8e\u81ea\u8eab\u80fd\u529b\u4ee5\u53ca\u7cbe\u529b\u548c\u8d44\u6e90\u7684\u6295\u5165\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u6709\u66f4\u591a\u670b\u53cb\u53c2\u4e0e\u8fdb\u6765\uff0c\u4e0e\u6211\u4eec\u5171\u540c\u53bb\u5b8c\u5584 KusionStack\uff0c\u4e0d\u8bba\u4f60\u662f\u5de5\u4f5c\u5728\u4e91\u539f\u751f\u3001\u8fd0\u7ef4\u81ea\u52a8\u5316\u3001\u7f16\u7a0b\u8bed\u8a00\u6216\u8005\u662f\u7f16\u8bd1\u5668\u4e2d\u7684\u54ea\u4e00\u4e2a\u9886\u57df\uff0c\u6211\u4eec\u90fd\u975e\u5e38\u671f\u5f85\u548c\u6b22\u8fce\u4f60\u7684\u52a0\u5165\u3002\\n\\n## 7. \u671f\u5f85\u4e0e\u4f60\u5171\u6210\u957f\\n\\n\u8fd9\u6bb5\u7ecf\u5386\u5bf9\u6211\u6765\u8bf4\u5f02\u5e38\u5b9d\u8d35\uff0c\u4e0d\u4ec5\u4ec5\u662f\u5728\u4e8e\u81ea\u8eab\u518d\u4e00\u6b21\u5728\u65b0\u7684\u6280\u672f\u9886\u57df\u548c\u8682\u8681\u7684\u6280\u672f\u5347\u7ea7\u65b9\u9762\u5c1d\u8bd5\u4e86\u65b0\u7684\u63a2\u7d22\u5e76\u5b9e\u73b0\u4e86\u7a81\u7834\uff0c\u66f4\u5b9d\u8d35\u7684\u662f\uff0c\u81ea\u5df1\u8fd8\u62e5\u6709\u4e86\u4e00\u6bb5\u4e0e\u4e00\u7fa4\u4eba\u5747 95 \u540e\u7684\u5c0f\u4f19\u4f34\u4e00\u8d77\u5c06\u60f3\u6cd5\u843d\u5730\u5b9e\u73b0\u7684\u5947\u5e7b\u5386\u7a0b\u3002\\n\\n\u5728\u672a\u6765\uff0cKusion \u7684\u670b\u53cb\u5708\u4e0d\u518d\u5c40\u9650\u4e8e\u8682\u8681\u5185\u90e8\uff0c\u9762\u5411\u5f00\u6e90\uff0c\u6211\u4eec\u671f\u5f85\u7740\u80fd\u6709\u66f4\u591a\u7684\u793e\u533a\u670b\u53cb\u5728 KusionStack \u4e0e\u6211\u4eec\u5171\u540c\u6210\u957f\uff01\\n\\n## \u53c2\u8003\u94fe\u63a5\\n\\n- [Large-scale cluster management at Google with Borg (PDF)](https://pdos.csail.mit.edu/6.824/papers/borg.pdf)\\n- [Borg, Omega, and Kubernetes (PDF)](https://queue.acm.org/detail.cfm?id=2898444)\\n- [Configuration Specifics](https://sre.google/workbook/configuration-specifics)"},{"id":"2022-open-day","metadata":{"permalink":"/blog/2022-open-day","editUrl":"https://github.com/KusionStack/kusionstack.io/blob/main/blog/2022-05-28-open-day/index.md","source":"@site/blog/2022-05-28-open-day/index.md","title":"KusionStack Open Day","description":"2022 \u5e74 5 \u6708 28 \u65e5\uff0cKusionStack Open Day \u7ebf\u4e0a\u7ebf\u4e0b\u89c6\u9891\u76f4\u64ad\u6b63\u5f0f\u5ba3\u5e03 KusionStack \u4e00\u7ad9\u5f0f\u53ef\u7f16\u7a0b\u914d\u7f6e\u6280\u672f\u6808\uff08\u5305\u542b KCL \u914d\u7f6e\u8bed\u8a00\u3001Kusion \u5f15\u64ce\u3001Konfig \u914d\u7f6e\u5927\u5e93\uff09\u5f00\u6e90\u3002","date":"2022-05-28T00:00:00.000Z","formattedDate":"May 28, 2022","tags":[{"label":"KusionStack","permalink":"/blog/tags/kusion-stack"},{"label":"Kusion","permalink":"/blog/tags/kusion"},{"label":"KCL","permalink":"/blog/tags/kcl"},{"label":"KCLVM","permalink":"/blog/tags/kclvm"}],"readingTime":7.015,"truncated":false,"authors":[{"name":"Kusion","title":"Kusion\u56e2\u961f\u6210\u5458"}],"frontMatter":{"slug":"2022-open-day","title":"KusionStack Open Day","authors":{"name":"Kusion","title":"Kusion\u56e2\u961f\u6210\u5458"},"tags":["KusionStack","Kusion","KCL","KCLVM"]},"prevItem":{"title":"KusionStack \u5f00\u6e90\u6709\u611f","permalink":"/blog/2022-sense-of-open-day"},"nextItem":{"title":"KCL\u4e91\u539f\u751f\u914d\u7f6e\u7b56\u7565\u8bed\u8a00","permalink":"/blog/2021-kcl-intro"}},"content":"2022 \u5e74 5 \u6708 28 \u65e5\uff0cKusionStack Open Day \u7ebf\u4e0a\u7ebf\u4e0b\u89c6\u9891\u76f4\u64ad\u6b63\u5f0f\u5ba3\u5e03 KusionStack \u4e00\u7ad9\u5f0f\u53ef\u7f16\u7a0b\u914d\u7f6e\u6280\u672f\u6808\uff08\u5305\u542b KCL \u914d\u7f6e\u8bed\u8a00\u3001Kusion \u5f15\u64ce\u3001Konfig \u914d\u7f6e\u5927\u5e93\uff09\u5f00\u6e90\u3002\\n\\n![](/img/blog/2022-05-28-open-day/01.jpg) \\n\\n\u4ee5\u4e0a\u662f KusionStack \u676d\u5dde\u56e2\u961f\u5408\u5f71\u3002\u81f3\u6b64\uff0c\ud83c\udf89KusionStack Open Day \u5706\u6ee1\u7ed3\u675f\ud83c\udf89\\n\\n## 1. \u7cbe\u5f69\u77ac\u95f4\\n\\n\u611f\u8c22\u5927\u5bb6\u62bd\u7a7a\u53c2\u52a0\uff0c\u6211\u4eec\u4e00\u8d77\u6765\u56de\u987e\u4e0b\ud83d\udc40\uff0c\u672c\u6b21\u6d3b\u52a8\u7684\u7cbe\u5f69\u77ac\u95f4\u5427\uff5e\ud83d\udc4f\\n\\n![](/img/blog/2022-05-28-open-day/02.jpg)\\n\\n\u8682\u8681\u96c6\u56e2\u9ad8\u7ea7\u6280\u672f\u4e13\u5bb6\u3001Kusion \u9879\u76ee\u53d1\u8d77\u4eba\u53ca\u8d1f\u8d23\u4eba\u2014\u2014\u6735\u6653\u4e1c\u4f5c\u4e3a\u6574\u573a\u6d3b\u52a8\u7684\u4e3b\u6301\u4eba\uff0c\u5e26\u9886\u5927\u5bb6\u4e00\u8d77\u56de\u987e\u4e86 Kusion \u9879\u76ee\u6f14\u8fdb\u5386\u7a0b\uff0c\u5e76\u5ba3\u5e03\u4e86 KusionStack \u6b63\u5f0f\u5f00\u6e90\u7684\u597d\u6d88\u606f\uff01\\n\\n![](/img/blog/2022-05-28-open-day/03.jpg)\\n\\n\u6d3b\u52a8\u5f00\u573a\uff0cKusion \u9879\u76ee\u7684\u4e24\u4f4d Sponsor\u2014\u2014\u8682\u8681\u96c6\u56e2\u53ef\u4fe1\u539f\u751f\u6280\u672f\u90e8\u8d1f\u8d23\u4eba\u4f55\u5f81\u5b87\u548c\u6280\u672f\u98ce\u9669\u90e8\u8d1f\u8d23\u4eba\u9648\u4eae\uff0c\u5bf9 Kusion \u4ece\u7814\u53d1\u81f3\u4eca\u7684\u53d1\u5c55\u56de\u987e\u548c\u672a\u6765\u5c55\u671b\u3002\u4e24\u4f4d Sponsor \u5728\u89c6\u9891\u4e2d\u7ed9\u4e88\u4e86 Kusion \u9879\u76ee\u6781\u5927\u7684\u8ba4\u53ef\uff0c\u5e76\u4e3a KusionStack \u7684\u5f00\u6e90\u732e\u4e0a\u4e86\u795d\u798f\u3002\\n\\n![](/img/blog/2022-05-28-open-day/04.jpg)\\n\\n\\nKata \u521b\u59cb\u4eba\u3001\u6728\u5170\u793e\u533a TOC \u2014\u2014 \u738b\u65ed\\n\\n\u738b\u65ed\u5728\u4f1a\u4e0a\u4e5f\u8868\u8fbe\u4e86\u5bf9 KusionStack \u5f00\u6e90\u7684\u559c\u60a6\u3002\u4ed6\u6307\u51fa\uff1a\u4e00\u4e2a\u9879\u76ee\u62ff\u51fa\u6765\u5f00\u6e90\u7684\u597d\u7684\u65f6\u673a\uff0c\u5e94\u5f53\u662f\u9879\u76ee\u8fd8\u5904\u5728\u672a\u5b8c\u5168\u6210\u719f\u7684\u9636\u6bb5\uff0c\u8fd9\u6837\u5728\u5f00\u6e90\u51fa\u6765\u4e4b\u540e\uff0c\u624d\u80fd\u591f\u901a\u8fc7\u5f00\u6e90\u793e\u533a\u7684\u5f00\u53d1\u8005\u4eec\uff0c\u4e00\u8d77\u63a8\u52a8\u9879\u76ee\u66f4\u597d\u7684\u53d1\u5c55\uff0c\u5f00\u6e90\u4e0d\u662f\u4e3a\u4e86\u79c0\u808c\u8089\u3002\\n\\n\u5728\u6700\u540e\uff0c\u4ed6\u518d\u6b21\u4e3a KusionStack \u7684\u5f00\u6e90\u9001\u4e0a\u4e86\u8bda\u631a\u7684\u795d\u798f\u3002\\n\\n\u63a5\u4e0b\u6765\u662f\u5404\u4f4d\u5609\u5bbe\u7684\u7cbe\u5f69\u5206\u4eab\uff0c\u4e00\u8d77\u6765\u56de\u987e\u4e00\u4e0b\u5427\uff5e\\n\\n## 2. \u300a\u6570\u5b57\u5316\u51fa\u6d77\u4e1a\u52a1\u7684 DevOps \u63a2\u7d22\u548c\u5b9e\u8df5\u300b\\n\\n![](/img/blog/2022-05-28-open-day/05.png)\\n\\n\u5f00\u573a\u6f14\u8bb2\u7684\u4f17\u5b89\u56fd\u9645\u79d1\u6280 Engineering \u8d1f\u8d23\u4eba\u674e\u6653\u857e\uff08Sherry Lee\uff09\uff0c\u4ecb\u7ecd\u4e86\u4f17\u5b89\u56fd\u9645 DevOps \u5728\u652f\u6301\u6570\u5b57\u5316\u51fa\u6d77\u4e1a\u52a1\u8fc7\u7a0b\u9047\u5230\u96be\u70b9\u548c\u5bf9\u5e94\u7684\u89e3\u51b3\u4e4b\u9053\u3002\\n\\n\u5979\u4ece\u6570\u5b57\u5316\u51fa\u6d77\u5bf9 DevOps \u5e26\u6765\u7684\u6311\u6218\u3001\u4f17\u5b89\u56fd\u9645 DevOps \u9047\u5230\u7684\u96be\u70b9\u548c\u89e3\u51b3\u65b9\u6848\u4ee5\u53ca DevOps \u5177\u4f53\u5b9e\u8df5\u6848\u4f8b\u5206\u4eab\u4e09\u4e2a\u65b9\u9762\u5c55\u5f00\u4e86\u5b9d\u8d35\u7684\u7ecf\u9a8c\u5206\u4eab\u3002\\n\\n\\n- PDF: [\u6570\u5b57\u5316\u51fa\u6d77\u4e1a\u52a1\u7684DevOps\u63a2\u7d22\u548c\u5b9e\u8df5](https://github.com/KusionStack/community/blob/main/2022/open-day/0-Sherry-Lee-\u6570\u5b57\u5316\u51fa\u6d77\u4e1a\u52a1\u7684DevOps\u63a2\u7d22\u548c\u5b9e\u8df5.pdf)\\n- Video(Bilibili): https://www.bilibili.com/video/BV1hr4y1x72a\\n- Video(YouTube): https://www.youtube.com/watch?v=tYDw__lBcYM\\n\\n## 3. \u300a\u8682\u8681\u96c6\u56e2\u89c4\u6a21\u5316 DevOps \u7684\u4ee3\u9645\u6f14\u8fdb\u63a2\u7d22\u300b\\n\\n![](/img/blog/2022-05-28-open-day/06.jpg)\\n\\n\\n\u8682\u8681\u96c6\u56e2\u9ad8\u7ea7\u6280\u672f\u4e13\u5bb6\u3001Kusion \u9879\u76ee\u53d1\u8d77\u4eba\u53ca\u8d1f\u8d23\u4eba\u2014\u2014\u6735\u6653\u4e1c\u5206\u4eab\u4e86 Kusion \u7684\u9879\u76ee\u80cc\u666f\u548c\u53d1\u5c55\u8fdb\u7a0b\uff0c\u540c\u65f6\u4ed6\u5ba3\u5e03 Kusion \u6b63\u5f0f\u5f00\u6e90\uff0c\u5e76\u5206\u4eab\u4e86\u5f00\u6e90\u8ba1\u5212\u3002\\n\\n\u76ee\u524d\uff0c\u57fa\u4e8e Kusion \u7684\u65b0\u4e00\u4ee3 PaaS \u4f53\u7cfb\u5df2\u9010\u6b65\u5e94\u7528\u5728\u8682\u8681\u4f17\u591a\u5185\u5916\u90e8\u573a\u666f\uff0c\u5728\u591a\u79cd\u8fd0\u7ef4\u573a\u666f\u8986\u76d6\u3001\u89c4\u6a21\u5316\u534f\u540c\u6548\u7387\u63d0\u5347\u3001\u591a\u4e3b\u4f53/\u7ad9\u70b9\u4ea4\u4ed8\u8fd0\u7ef4\u3001\u6280\u672f\u521b\u65b0\u8fd0\u7ef4\u6548\u7387\u63d0\u5347\u7b49\u591a\u65b9\u9762\u4f53\u7cfb\u51fa\u663e\u8457\u7684\u4f18\u52bf\u548c\u4ef7\u503c\u3002\\n\\n\\n- PDF: [\u8682\u8681\u96c6\u56e2\u89c4\u6a21\u5316 DevOps \u4ee3\u9645\u6f14\u8fdb\u63a2\u7d22](https://github.com/KusionStack/community/blob/main/2022/open-day/1-\u6735\u6653\u4e1c-\u8682\u8681\u96c6\u56e2\u89c4\u6a21\u5316DevOps\u4ee3\u9645\u6f14\u8fdb\u63a2\u7d22.pdf)\\n- Video(Bilibili): https://www.bilibili.com/video/BV1WZ4y147pC\\n- Video(YouTube): https://www.youtube.com/watch?v=T6NKkb1L1eM\\n\\n\\n## 4. \u300aKCL \u914d\u7f6e\u7b56\u7565\u8bed\u8a00\u300b\\n\\n![](/img/blog/2022-05-28-open-day/07.jpg)\\n\\n\u8682\u8681\u96c6\u56e2\u9ad8\u7ea7\u7814\u53d1\u5de5\u7a0b\u5e08\u5f90\u9e4f\u98de\u4ecb\u7ecd\u4e86 KCL \u7684\u76f8\u5173\u6838\u5fc3\u7279\u6027\uff0c\u5206\u4eab\u4e86 KCL \u6280\u672f\u6808\u7684\u601d\u8def\u3001\u67b6\u6784\u3001\u5173\u952e\u6280\u672f\uff0c\u5e76\u5c55\u5f00\u8bb2\u8ff0\u4e86 KCL \u7684\u5728\u8682\u8681\u5185\u90e8\u591a\u573a\u666f\u7684\u5b9e\u8df5\u7ecf\u5386\u3002\\n\\nKCL \u5e2e\u52a9\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\u4ee5\u7b80\u5355\u3001\u53ef\u6269\u5c55\u3001\u7a33\u5b9a\u3001\u9ad8\u6548\u3001\u5206\u800c\u6cbb\u4e4b\u7684\u65b9\u5f0f\u5b8c\u6210\u5f00\u53d1\u548c\u8fd0\u7ef4\u4efb\u52a1\uff0c\u540c\u65f6\u652f\u6301\u4e0e\u81ea\u52a8\u5316\u7cfb\u7edf\u96c6\u6210\uff0c\u5b9e\u73b0\u6781\u81f4\u7684\u6267\u884c\u6548\u7387\u3002\\n\\n- PDF: [KCL\u914d\u7f6e\u7b56\u7565\u8bed\u8a00](https://github.com/KusionStack/community/blob/main/2022/open-day/2-\u5f90\u9e4f\u98de-KCL\u914d\u7f6e\u7b56\u7565\u8bed\u8a00.pdf)\\n- Video(Bilibili): https://www.bilibili.com/video/BV1bv4y1w7ke\\n- Video(YouTube): https://www.youtube.com/watch?v=mUFFri_eRAQ\\n\\n## 5. \u4e2d\u573a\u4f11\u606f\\n\\n![](/img/blog/2022-05-28-open-day/08.jpg) \\n\\n\u4e2d\u573a\u4f11\u606f\u671f\u95f4\uff0c\u201c\u5f00\u6e90\u8001\u5175\u201d\u3001Go \u8bed\u8a00\u5927\u4f6c\u2014\u2014\u67f4\u6811\u6749\u8001\u5e08\u6d45\u8c08\u4e86\u4ed6\u53c2\u4e0e KusionStack \u7684\u5fc3\u8def\u5386\u7a0b\u548c\u4e2a\u4eba\u6536\u83b7\uff0c\u5e76\u8868\u8fbe\u4e86\u80fd\u6709\u66f4\u591a\u4f19\u4f34\u53c2\u4e0e\u5230 KusionStack \u7684\u5f00\u6e90\u5171\u5efa\u7684\u5e0c\u671b\u3002\\n\\n## 6. \u300aKusion \u6a21\u578b\u5e93\u548c\u5de5\u5177\u94fe\u7684\u5b9e\u8df5\u63a2\u7d22\u548c\u603b\u7ed3\u300b\\n\\n![](/img/blog/2022-05-28-open-day/09.jpg) \\n\\n\u8682\u8681\u96c6\u56e2\u9ad8\u7ea7\u7814\u53d1\u5de5\u7a0b\u5e08\u6768\u82f1\u660e\u4ee5\u5b9e\u9645\u7684\u6848\u4f8b\u4ecb\u7ecd\u4e86\u5982\u4f55\u901a\u8fc7 KCL \u62bd\u8c61 Kusion \u6a21\u578b\u5e93\uff0c\u4ee5\u53ca\u5982\u4f55\u7ed3\u5408 Kusion \u5de5\u5177\u94fe\u4e00\u7ad9\u5f0f\u7684\u5b8c\u6210\u914d\u7f6e\u4ee3\u7801\u7684\u7f16\u5199\u548c\u751f\u6548\uff0c\u540c\u65f6\u603b\u7ed3\u5206\u4eab\u4e86\u901a\u8fc7\u8fd9\u5957\u6a21\u5f0f\u8fdb\u884c\u5b9e\u9645\u4ea4\u4ed8\u7684\u7ecf\u9a8c\u548c\u5efa\u8bae\u3002\\n\\n\\n- PDF: [Kusion\u6a21\u578b\u5e93\u548c\u5de5\u5177\u94fe\u7684\u5b9e\u8df5\u63a2\u7d22\u548c\u603b\u7ed3](https://github.com/KusionStack/community/blob/main/2022/open-day/3-\u6768\u82f1\u660e-Kusion\u6a21\u578b\u5e93\u548c\u5de5\u5177\u94fe\u7684\u5b9e\u8df5\u63a2\u7d22\u548c\u603b\u7ed3.pdf)\\n- Video(Bilibili): https://www.bilibili.com/video/BV1Vr4y1x7Ty\\n- Video(YouTube): https://www.youtube.com/watch?v=HDUm_KrunLY\\n\\n## 7. \u300aKusion \u5728\u8682\u8681\u7684\u89c4\u6a21\u5316\u5b9e\u8df5\u300b\\n\\n![](/img/blog/2022-05-28-open-day/10.jpg) \\n\\n\u6700\u540e\uff0c\u8682\u8681\u96c6\u56e2\u6280\u672f\u4e13\u5bb6\u53f2\u8d35\u660e\u548c\u8682\u8681\u96c6\u56e2\u9ad8\u7ea7\u8fd0\u7ef4\u5de5\u7a0b\u5e08\u674e\u6cbb\u73ae\u5171\u540c\u5e26\u6765\u4e86 Kusion \u5728\u8682\u8681\u7684\u89c4\u6a21\u5316\u5b9e\u8df5\u7684\u5206\u4eab\u3002\u53f2\u8d35\u660e\u4e3b\u8981\u4ece PaaS \u914d\u7f6e\u7ba1\u7406\u7684\u7cfb\u7edf\u67b6\u6784\u89d2\u5ea6\u8bb2\u8ff0\u4e86\u8682\u8681\u76ee\u524d\u7684\u591a\u4e91\u914d\u7f6e\u7ba1\u7406\u80fd\u529b\uff0c\u674e\u6cbb\u73ae\u5219\u4ece SRE \u89c6\u89d2\u4e0b\uff0c\u5206\u4eab\u4e86\u4f7f\u7528 KCL \u89e3\u51b3\u591a\u79cd\u590d\u6742\u57fa\u7840\u8bbe\u65bd\u7684\u4ea4\u4ed8\u6548\u7387\u95ee\u9898\u548c\u4ef7\u503c\u3002\\n\\n\\n- PDF: [Kusion\u5728\u8682\u8681\u7684\u89c4\u6a21\u5316\u63a2\u7d22\u5b9e\u8df5](https://github.com/KusionStack/community/blob/main/2022/open-day/4-\u83ab\u57ce-\u534a\u5ead-Kusion\u5728\u8682\u8681\u7684\u89c4\u6a21\u5316\u63a2\u7d22\u5b9e\u8df5.pdf)\\n- Video(Bilibili): https://www.bilibili.com/video/BV1xB4y1X7sv\\n- Video(YouTube): https://www.youtube.com/watch?v=F9lZEU5GNYE\\n\\n\\n## 8. \u672a\u6765\u5c55\u671b\\n\\n\u5f00\u6e90\u5e76\u4e0d\u4ee3\u8868 KusionStack \u5df2\u7ecf\u5b8c\u6210\uff0c\u76f8\u53cd\u6211\u4eec\u8fd8\u6709\u5f88\u591a\u9700\u8981\u5b8c\u5584\u548c\u6539\u8fdb\u7684\u5730\u65b9\uff0c\u540c\u65f6\u5f00\u6e90\u793e\u533a\u548c\u6587\u5316\u4e5f\u5bf9\u6587\u6863\u548c\u4ee3\u7801\u63d0\u51fa\u4e86\u66f4\u9ad8\u7684\u8981\u6c42\u3002\u8fd9\u53ea\u662f\u4e00\u4e2a\u5f00\u59cb\uff0c\u5e0c\u671b\u66f4\u591a\u4ece\u4e8b\u76f8\u5173\u9886\u57df\u7684\u540c\u5b66\u80fd\u591f\u53c2\u4e0e\u5171\u5efa\uff0c\u4e3a\u56fd\u5185\u7684\u4e91\u539f\u751f\u3001DSL \u7b49\u65b0\u5174\u9886\u57df\u8d21\u732e\u529b\u91cf\u3002\\n\\n\u6700\u540e\uff0c\u611f\u8c22\u5927\u5bb6\u7684\u53c2\u4e0e\ud83d\ude4f"},{"id":"2021-kcl-intro","metadata":{"permalink":"/blog/2021-kcl-intro","editUrl":"https://github.com/KusionStack/kusionstack.io/blob/main/blog/2021-08-03-kcl-intro/index.md","source":"@site/blog/2021-08-03-kcl-intro/index.md","title":"KCL\u4e91\u539f\u751f\u914d\u7f6e\u7b56\u7565\u8bed\u8a00","description":"\u4ecb\u7ecdKCL\u4e91\u539f\u751f\u914d\u7f6e\u8bed\u8a00\u5728\u8682\u8681\u7684\u8bde\u751f\u80cc\u666f\u3001\u8bed\u8a00\u7279\u6027\u3001\u5b9e\u8df5\u63a2\u7d22\u548c\u672a\u6765\u7684\u53d1\u5c55\u601d\u8003\u3002","date":"2021-08-03T00:00:00.000Z","formattedDate":"August 3, 2021","tags":[{"label":"kcl","permalink":"/blog/tags/kcl"}],"readingTime":0.285,"truncated":false,"authors":[{"name":"\u67f4\u6811\u6749","title":"Kusion\u56e2\u961f\u6210\u5458"}],"frontMatter":{"slug":"2021-kcl-intro","title":"KCL\u4e91\u539f\u751f\u914d\u7f6e\u7b56\u7565\u8bed\u8a00","authors":{"name":"\u67f4\u6811\u6749","title":"Kusion\u56e2\u961f\u6210\u5458"},"tags":["kcl"]},"prevItem":{"title":"KusionStack Open Day","permalink":"/blog/2022-open-day"},"nextItem":{"title":"\u4e91\u539f\u751f\u5f00\u653e\u8fd0\u7ef4\u4f53\u7cfb\u63a2\u7d22\u5b9e\u8df5","permalink":"/blog/2021-kusion-intro"}},"content":"\u4ecb\u7ecdKCL\u4e91\u539f\u751f\u914d\u7f6e\u8bed\u8a00\u5728\u8682\u8681\u7684\u8bde\u751f\u80cc\u666f\u3001\u8bed\u8a00\u7279\u6027\u3001\u5b9e\u8df5\u63a2\u7d22\u548c\u672a\u6765\u7684\u53d1\u5c55\u601d\u8003\u3002\\n\\n- \u7b80\u4ecb\uff1ahttps://giac.msup.com.cn/course?id=15307\\n- \u5185\u5bb9\uff1ahttps://segmentfault.com/a/1190000040455559\\n- [PDF\u4e0b\u8f7d](https://gw.alipayobjects.com/os/bmw-prod/2cb0c283-5f24-485e-b635-b6efac887eba.pdf)\\n\\n[![KCL\u4e91\u539f\u751f\u914d\u7f6e\u7b56\u7565\u8bed\u8a00](/img/blog/2021-08-03-kcl-intro/talk-cover.png)](https://gw.alipayobjects.com/os/bmw-prod/2cb0c283-5f24-485e-b635-b6efac887eba.pdf)"},{"id":"2021-kusion-intro","metadata":{"permalink":"/blog/2021-kusion-intro","editUrl":"https://github.com/KusionStack/kusionstack.io/blob/main/blog/2021-05-18-kusion-intro/index.md","source":"@site/blog/2021-05-18-kusion-intro/index.md","title":"\u4e91\u539f\u751f\u5f00\u653e\u8fd0\u7ef4\u4f53\u7cfb\u63a2\u7d22\u5b9e\u8df5","description":"\u672c\u6587\u662f\u4e91\u539f\u751f\u5f00\u653e\u534f\u540c\u6280\u672f\u63a2\u7d22\u4e0e\u5b9e\u8df5\u4e00\u9636\u6bb5\u7684\u603b\u7ed3\u548c\u7efc\u8ff0\u3002","date":"2021-05-18T00:00:00.000Z","formattedDate":"May 18, 2021","tags":[{"label":"kusion","permalink":"/blog/tags/kusion"}],"readingTime":44.56,"truncated":false,"authors":[{"name":"\u6735\u6653\u4e1c","title":"Kusion \u9879\u76ee\u8d1f\u8d23\u4eba"}],"frontMatter":{"slug":"2021-kusion-intro","title":"\u4e91\u539f\u751f\u5f00\u653e\u8fd0\u7ef4\u4f53\u7cfb\u63a2\u7d22\u5b9e\u8df5","authors":{"name":"\u6735\u6653\u4e1c","title":"Kusion \u9879\u76ee\u8d1f\u8d23\u4eba"},"tags":["kusion"]},"prevItem":{"title":"KCL\u4e91\u539f\u751f\u914d\u7f6e\u7b56\u7565\u8bed\u8a00","permalink":"/blog/2021-kcl-intro"}},"content":"*\u672c\u6587\u662f\u4e91\u539f\u751f\u5f00\u653e\u534f\u540c\u6280\u672f\u63a2\u7d22\u4e0e\u5b9e\u8df5\u4e00\u9636\u6bb5\u7684\u603b\u7ed3\u548c\u7efc\u8ff0\u3002*\\n\\n\u8682\u8681\u57fa\u7840\u6280\u672f\u5728\u8fc7\u53bb3\u5e74\u591a\u4ee5\u6765\u6301\u7eed\u3001\u6df1\u5165\u63a8\u8fdb\u5168\u9762\u7684\u4e91\u539f\u751f\u5316\u6280\u672f\u6f14\u8fdb\uff0c\u6211\u4eec\u5c06\u5728\u7ebf\u3001\u79bb\u7ebf\u8ba1\u7b97\u8d44\u6e90\u88c5\u8fdb\u4e86\u4e00\u53f0\u8ba1\u7b97\u673a\uff0c\u5c06\u670d\u52a1\u4f53\u7cfb\u901a\u8fc7 mesh \u7684\u601d\u8def\u548c\u6280\u672f\u624b\u6bb5\u8fdb\u884c\u4e86\u4e0b\u6c89\u89e3\u8026\uff0c\u53ef\u4ee5\u8bf4\u6bd4\u8f83\u5145\u5206\u7684\u62e5\u62b1\u4e86\u4e91\u539f\u751f\u6280\u672f\uff0c\u5e76\u83b7\u53d6\u4e86\u5176\u5e26\u6765\u7684\u6280\u672f\u7ea2\u5229\u3002\\n\\n\u5f53\u5b8c\u6210\u4e86\u8d44\u6e90\u3001\u670d\u52a1\u7684\u4e91\u539f\u751f\u5316\uff0c\u6211\u4eec\u53d1\u73b0\u5728\u4e91\u539f\u751f\u57fa\u7840\u80fd\u529b\u4e4b\u4e0a\u7684\u8fd0\u7ef4\u4f53\u7cfb\u4e0e\u4e91\u539f\u751f\u6280\u672f\u5f00\u653e\u3001\u5171\u4eab\u7684\u601d\u8def\u6709\u8f83\u5927\u7684\u8ddd\u79bb\uff0c\u5728\u6280\u672f\u4f53\u7cfb\u4e0a\u4e5f\u4e0e\u4e91\u539f\u751f\u6280\u672f\u58f0\u660e\u5f0f\u3001\u767d\u76d2\u5316\u7684\u601d\u8def\u76f8\u6096\uff0c\u540c\u65f6\u7531\u4e8e\u7f3a\u5c11\u5339\u914d\u7684\u6280\u672f\u652f\u6491\uff0c\u5386\u53f2\u5305\u88b1\u7b49\u95ee\u9898\u4e5f\u6210\u4e3a\u4e86\u4e91\u539f\u751f\u8fd0\u7ef4\u96be\u4ee5\u771f\u6b63\u4ee3\u9645\u6f14\u8fdb\u7684\u969c\u788d\u3002\u4eca\u5929\u6211\u8981\u4ecb\u7ecd\u7684\u5c31\u662f\u8682\u8681\u5728\u8fd9\u6837\u7684\u80cc\u666f\u4e0b\u5728\u4e91\u539f\u751f\u8fd0\u7ef4\u65b9\u5411\u8fdb\u884c\u7684\u6280\u672f\u63a2\u7d22\u548c\u5b9e\u8df5\u3002\\n\\n## 1. \u89c4\u6a21\u5316\u4e91\u539f\u751f\u8fd0\u7ef4\u63a2\u7d22\\n\\n\u6211\u4eec\u5148\u6765\u56de\u987e\u4e00\u4e0b\u5728\u8682\u8681\u771f\u5b9e\u7684\u5b9e\u8df5\u65b9\u5f0f\u548c\u9762\u5bf9\u7684\u95ee\u9898\u3002\u9996\u5148\uff0c\u6211\u4eec\u6765\u770b\u770b\u8682\u8681\u8df5\u884c\u591a\u5e74\u7684\u7ecf\u5178\u8fd0\u7ef4\u4e2d\u53f0\uff0c\u8fd9\u7c7b\u8fd0\u7ef4\u5e73\u53f0\u4e00\u822c\u5305\u62ec\u4e86\u63a7\u5236\u5668\u3001\u4e1a\u52a1\u6a21\u578b\u3001\u7f16\u6392\u5f15\u64ce\u3001\u539f\u5b50\u4efb\u52a1\u53ca\u7ba1\u9053\uff0c\u5728\u8682\u8681\u8fd9\u6837\u7684\u5e73\u53f0\u662f\u4e00\u7cfb\u5217\u670d\u52a1\u7684\u96c6\u5408\uff0c\u4ed6\u4eec\u8f83\u597d\u7684\u6ee1\u8db3\u4e86\u96c6\u4e2d\u5f0f\u3001\u6807\u51c6\u5316\u3001\u4f4e\u53d8\u66f4\u9891\u7387\u7684\u5e94\u7528\u53d1\u5e03\u53ca\u8fd0\u7ef4\u9700\u6c42\u3002\u4f46\u8fd9\u79cd\u6a21\u5f0f\u5728\u5b9e\u8df5\u4e2d\u4e5f\u5b58\u5728\u7740\u660e\u663e\u7684\u4e0d\u8db3\u3002\\n\\n\u9996\u5148\u5bf9\u4e8e\u975e\u6807\u51c6\u5e94\u7528\u3001\u5e94\u7528\u4e2a\u6027\u5316\u9700\u6c42\u3001\u9ad8\u6210\u672c\u9700\u6c42\u3001\u975e\u7d27\u6025\u9700\u6c42\u3001\u6280\u6539\u7c7b\u9700\u6c42\uff0c\u5f80\u5f80\u65e0\u6cd5\u8f83\u597d\u7684\u6ee1\u8db3\u3002\u5728\u8682\u8681\u7684\u5b9e\u8df5\u4e2d\uff0c\u975e\u6807\u8fd0\u7ef4\u9700\u6c42\u3001\u5bf9\u6838\u5fc3\u5e94\u7528\u6a21\u578b\u53ca\u8fd0\u7ef4\u6a21\u578b\u51b2\u51fb\u8f83\u5927\u7684\u9ad8\u6210\u672c\u6539\u9020\u9700\u6c42\u3001\u5927\u91cf\u57fa\u7840\u80fd\u529b\u6216\u8fd0\u7ef4\u529f\u80fd\u7684\u900f\u51fa\u9700\u6c42\u7b49\u957f\u671f\u65e0\u6cd5\u5f97\u5230\u8f83\u597d\u7684\u6ee1\u8db3\uff0c\u9700\u6c42\u5f80\u5f80\u662f\u5408\u7406\u7684\uff0c\u662f\u96be\u4ee5\u83b7\u5f97\u8db3\u591f\u7684\u4f18\u5148\u7ea7\u6267\u884c\u843d\u5730\u3002\u5728\u7814\u53d1\u9636\u6bb5\uff0c\u8fd0\u7ef4\u5e73\u53f0\u957f\u671f\u79ef\u7d2f\u4e86\u9ad8\u590d\u6742\u5ea6\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u4fee\u6539\u6d4b\u8bd5\u6d89\u53ca\u8de8\u7cfb\u7edf\u7684\u957f\u6539\u9020\u94fe\u8def\uff0c\u540c\u65f6\u57fa\u7840\u80fd\u529b\u7684\u900f\u51fa\u3001\u8fd0\u7ef4\u80fd\u529b\u7684\u4ea7\u54c1\u5316\u4f9d\u8d56\u524d\u7aef\u3001\u670d\u52a1\u7aef\u7814\u53d1\u8d44\u6e90\u3002\u8fd9\u4e9b\u95ee\u9898\u4f7f\u5f97\u8fd0\u7ef4\u5e73\u53f0\u7814\u53d1\u65e5\u6e10\u5403\u529b\uff0c\u7279\u522b\u662f\u5728\u4ea7\u54c1 GUI\u3001\u4e1a\u52a1\u6a21\u578b\u3001\u7f16\u6392\u5f15\u64ce\u7b49\u53d8\u66f4\u70ed\u70b9\u4e0a\uff0c\u53d7\u9650\u4e8e\u6269\u5c55\u673a\u5236\u80fd\u529b\u4e0d\u8db3\uff0c\u5185\u90e8\u5b9e\u8df5\u4e2d\u751a\u81f3\u51fa\u73b0\u8fc7\u7ebf\u4e0a\u4e0d\u65ad\u4fee\u6539\u4ee3\u7801\u3001\u53d1\u5e03\u670d\u52a1\u4ee5\u6ee1\u8db3\u9700\u6c42\u7684\u60c5\u51b5\u3002\u5e73\u53f0\u4e0a\u7ebf\u540e\uff0c\u7edf\u4e00\u7684\u8d28\u4fdd\u548c\u7ebf\u4e0a\u5168\u94fe\u8def\u529f\u80fd\u9a8c\u8bc1\u540c\u6837\u9762\u5bf9\u8f83\u5927\u7684\u538b\u529b\u3002\u5bf9\u4e8e\u6700\u7ec8\u7684\u4f7f\u7528\u8005\uff0c\u547d\u4ee4\u5f0f\u6309\u94ae\u80cc\u540e\u7684\u9ed1\u76d2\u8ba1\u7b97\u900f\u660e\u5ea6\u4f4e\uff0c\u5ba1\u8ba1\u96be\uff0c\u7ed3\u679c\u96be\u9884\u6d4b\uff0c\u540c\u65f6\u6fc0\u60c5\u64cd\u4f5c\u3001\u64cd\u4f5c\u754c\u9762\u4e0d\u719f\u6089\u7b49\u95ee\u9898\u4e5f\u4e00\u76f4\u5f71\u54cd\u7740\u7ebf\u4e0a\u7684\u7a33\u5b9a\u6027\u3002\u8fd9\u4e9b\u95ee\u9898\u957f\u671f\u5b58\u5728\uff0c\u6211\u4eec\u5bc4\u5e0c\u671b\u4e8e\u4ee3\u9645\u7684\u6280\u672f\u6f14\u8fdb\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/01.png)\\n\\n\u5f53\u4e91\u539f\u751f\u57fa\u7840\u670d\u52a1\u9010\u6e10\u7a33\u5b9a\u540e\uff0c\u5bf9\u4e8e\u81ea\u8eab\u573a\u666f\u4e0d\u5728\u8fd0\u7ef4\u5e73\u53f0\u7ba1\u7406\u8303\u56f4\u5185\u7684\u5e94\u7528\uff0c\u7814\u53d1\u540c\u5b66\u81ea\u53d1\u7684\u501f\u52a9\u4e91\u539f\u751f\u793e\u533a\u5de5\u5177\u94fe\u89e3\u51b3\u95ee\u9898\u3002\u57fa\u4e8e Kubernetes \u751f\u6001\u9ad8\u5ea6\u5f00\u653e\u3001\u9ad8\u5ea6\u53ef\u914d\u7f6e\u7684\u7279\u70b9\uff0c\u7814\u53d1\u8005\u53ef\u4ee5\u81ea\u52a9\u3001\u7075\u6d3b\u3001\u900f\u660e\u7684\u58f0\u660e\u5f0f\u5e94\u7528\u8fd0\u884c\u3001\u8fd0\u7ef4\u9700\u6c42\uff0c\u4ee5\u5e94\u7528\u7c92\u5ea6\u5b8c\u6210\u53d1\u5e03\u3001\u8fd0\u7ef4\u64cd\u4f5c\u3002\\n\\n\u7528\u6237\u901a\u8fc7 kustomize \u7b49\u793e\u533a\u6280\u672f\u7f29\u77ed\u4e86\u5bf9\u63a5\u57fa\u7840\u8bbe\u65bd\u7684\u8def\u5f84\uff0c\u5e76\u901a\u8fc7\u5982 velocity \u7b49\u6587\u672c\u6a21\u677f\u6280\u672f\u90e8\u5206\u89e3\u51b3\u4e86\u9759\u6001 YAML \u6587\u4ef6\u5728\u8f83\u591a\u53d8\u91cf\u65f6\u7ef4\u5ea6\u7206\u70b8\u7684\u95ee\u9898\uff0c\u89e3\u51b3\u4e86\u9ed8\u8ba4\u503c\u8bbe\u5b9a\u7684\u95ee\u9898\uff0c\u540c\u65f6\u901a\u8fc7 code review \u7684\u65b9\u5f0f\u8fdb\u884c\u591a\u56e0\u5b50\u53d8\u66f4\u53ca\u8bc4\u5ba1\u3002\u7531\u4e8e Kubernetes \u53ca\u5176\u751f\u6001\u63d0\u4f9b\u4e86\u9762\u5411\u8d44\u6e90\u3001\u670d\u52a1\u3001\u8fd0\u7ef4\u3001\u5b89\u5168\u7684\u6a2a\u5411\u80fd\u529b\uff0c\u4f7f\u5f97\u8fd9\u79cd\u7b80\u5355\u7684\u65b9\u5f0f\u53ef\u6709\u5f88\u597d\u7684\u666e\u904d\u6027\u548c\u9002\u7528\u6027\uff0c\u901a\u8fc7\u5bf9\u4e0d\u540c\u7684 Kubernetes \u96c6\u7fa4 \u201c\u64ad\u653e\u201d \u8fd9\u4e9b\u6570\u636e\u5373\u53ef\u5b8c\u6210\u5bf9\u57fa\u7840\u8bbe\u65bd\u7684\u53d8\u66f4\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u58f0\u660e\u6570\u636e\u7684\u6d41\u8f6c\u3002\u9762\u5411 git \u4ed3\u5e93\u7684\u7814\u53d1\u65b9\u5f0f\u548c gitops \u6d41\u7a0b\u652f\u6301\u5bf9\u8fd0\u7ef4\u4ea7\u54c1\u7814\u53d1\u8d44\u6e90\u7684\u8bc9\u6c42\u8f83\u4f4e\uff0c\u5f80\u5f80\u53ef\u4ee5\u6bd4\u8f83\u7b80\u5355\u7684\u642d\u5efa\u8d77\u6765\uff0c\u4e0d\u5f3a\u4f9d\u8d56\u4ea7\u54c1\u7814\u53d1\u8d44\u6e90\u6295\u5165\u3002\u76f8\u6bd4\u7ecf\u5178\u8fd0\u7ef4\u4e2d\u53f0\uff0c\u8fd9\u4e9b\u597d\u5904\u6e05\u6670\u660e\u786e\uff0c\u4f46\u4ece\u5de5\u7a0b\u89c6\u89d2\u7f3a\u70b9\u4e5f\u975e\u5e38\u660e\u663e\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/02.png)\\n\\n\\n\u9996\u5148 Kubernetes API \u7684\u8bbe\u8ba1\u8f83\u4e3a\u590d\u6742\uff0c\u4ec5\u662f Kubernetes \u539f\u751f\u63d0\u4f9b\u7684 low level API \u5c31\u66b4\u9732\u4e86 500 \u591a\u79cd\u6a21\u578b\uff0c2000 \u591a\u5b57\u6bb5\uff0c\u573a\u666f\u4e0a\u51e0\u4e4e\u6db5\u76d6\u4e86\u57fa\u7840\u8bbe\u65bd\u5e94\u7528\u5c42\u7684\u65b9\u65b9\u9762\u9762\uff0c\u5373\u4f7f\u662f\u4e13\u4e1a\u540c\u5b66\u4e5f\u5f88\u96be\u7406\u89e3\u6240\u6709\u7ec6\u8282\u3002\u5176\u6b21\u8fd9\u79cd\u65b9\u5f0f\u7684\u5de5\u7a0b\u5316\u7a0b\u5ea6\u5f88\u4f4e\uff0c\u8fdd\u53cd DRY \u539f\u5219\uff0c\u8fdd\u53cd\u5404\u56e2\u961f\u804c\u8d23\u80fd\u529b\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u7684\u539f\u5219\uff0c\u5373\u4f7f\u5728\u6709\u4e00\u5b9a\u7684\u5de5\u5177\u652f\u6301\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u5185\u90e8\u7684\u5178\u578b\u6848\u4f8b\u4e2d\u4e00\u4e2a\u591a\u5e94\u7528\u7684 infra \u9879\u76ee\u4ecd\u7136\u7ef4\u62a4\u4e86\u591a\u8fbe 5 \u4e07\u591a\u884c YAML\uff0c\u540c\u65f6\u7531\u4e8e\u56e2\u961f\u8fb9\u754c\u9020\u6210\u7684\u591a\u4e2a\u5272\u88c2\u7684\u5e73\u53f0\uff0c\u7528\u6237\u9700\u5728\u591a\u4e2a\u5e73\u53f0\u95f4\u5207\u6362\uff0c\u6bcf\u4e2a\u5e73\u53f0\u7684\u64cd\u4f5c\u65b9\u5f0f\u5404\u5f02\uff0c\u52a0\u4e0a\u8df3\u677f\u673a\u9ed1\u5c4f\u547d\u4ee4\uff0c\u5b8c\u6210\u4e00\u6b21\u5b8c\u6574\u7684\u53d1\u5e03\u9700\u8981 2 \u5929\u65f6\u95f4\u3002\\n\\n\u7531\u4e8e\u4f4e\u5de5\u7a0b\u5316\u7a0b\u5ea6\u7684\u95ee\u9898\uff0c\u5404\u56e2\u961f\u95f4\u534f\u540c\u4f9d\u8d56\u4eba\u8089\u62c9\u7fa4\u540c\u6b65\uff0c\u6700\u7ec8 YAML \u7531\u591a\u4e2a\u56e2\u961f\u5b9a\u4e49\u7684\u90e8\u5206\u7ec4\u5408\u800c\u6210\uff0c\u5176\u4e2d\u4e00\u5927\u90e8\u5206\u5c5e\u4e8e Kubernetes \u53ca\u8fd0\u7ef4\u5e73\u53f0\u56e2\u961f\u7684\u5b9a\u4e49\uff0c\u8fd9\u4e9b\u5185\u5bb9\u9700\u8981\u6301\u7eed\u8ddf\u8e2a\u540c\u6b65\u907f\u514d\u8150\u5316\uff0c\u957f\u671f\u7ef4\u62a4\u6210\u672c\u9ad8\u3002\\n\\n## 2. KUSION: \u4e91\u539f\u751f\u5f00\u653e\u534f\u540c\u6280\u672f\u6808\\n\\n\u4ee5\u4e0a\u4e24\u79cd\u6a21\u5f0f\u5404\u6709\u5229\u5f0a\uff0c\u4f18\u52bf\u548c\u95ee\u9898\u90fd\u6bd4\u8f83\u6e05\u6670\u3002\u90a3\u4e48\u80fd\u4e0d\u80fd\u65e2\u8981\u4e5f\u8981\u5462\uff0c\u80fd\u4e0d\u80fd\u5728\u7ee7\u627f\u7ecf\u5178\u8fd0\u7ef4\u5e73\u53f0\u4f18\u52bf\u7684\u60c5\u51b5\u4e0b\uff0c\u5145\u5206\u5229\u7528\u4e91\u539f\u751f\u6280\u672f\u5e26\u6765\u7684\u7ea2\u5229\uff0c\u6253\u9020\u4e00\u4e2a\u5f00\u653e\u3001\u900f\u660e\u3001\u53ef\u534f\u540c\u7684\u8fd0\u7ef4\u4f53\u7cfb\uff1f\\n\\n\u5e26\u7740\u8fd9\u6837\u7684\u95ee\u9898\uff0c\u6211\u4eec\u8fdb\u884c\u4e86\u63a2\u7d22\u548c\u5b9e\u8df5\uff0c\u5e76\u521b\u5efa\u4e86\u57fa\u4e8e\u57fa\u7840\u8bbe\u65bd\u4ee3\u7801\u5316\u601d\u8def\u7684\u4e91\u539f\u751f\u53ef\u7f16\u7a0b\u6280\u672f\u6808 Kusion\u3002\\n\\n\u5927\u5bb6\u90fd\u77e5\u9053 Kubernetes \u63d0\u4f9b\u4e86\u58f0\u660e\u5f0f\u7684 low level API\uff0c\u63d0\u5021\u5176\u4e0a\u751f\u6001\u80fd\u529b\u901a\u8fc7 CRD \u6269\u5c55\u7684\u65b9\u5f0f\u5b9a\u4e49\u5e76\u63d0\u4f9b\u670d\u52a1\uff0c\u6574\u4e2a\u751f\u6001\u9075\u5faa\u7edf\u4e00\u7684 API \u89c4\u8303\u7ea6\u675f\uff0c\u590d\u7528 API \u6280\u672f\u548c\u5de5\u5177\u3002Kubernetes API \u89c4\u8303\u63d0\u5021 low level API \u5bf9\u8c61\u677e\u8026\u5408\u3001\u53ef\u590d\u7528\uff0c\u4ee5\u652f\u6301 high level API \u7531 low level API \u201c\u7ec4\u5408\u201d \u800c\u6210\u3002Kubernetes \u81ea\u8eab\u63d0\u4f9b\u4e86\u5229\u4e8e\u5f00\u6e90\u4f20\u64ad\u7684\u6781\u7b80\u65b9\u6848\uff0c\u5e76\u4e0d\u5305\u62ec API \u4e4b\u4e0a\u7684\u6280\u672f\u548c\u65b9\u6848\u3002\\n\\n\u56de\u5230\u4e91\u539f\u751f\u6280\u672f\u7684\u672c\u6e90\uff0c\u6211\u4eec\u56de\u770b\u4e86 Kubernetes \u524d\u8eab Borg \u7684\u5e94\u7528\u6280\u672f\u751f\u6001\u3002\u5982\u4e0b\u56fe\u793a\uff0c\u5728 BorgMaster \u4e4b\u4e0a\uff0cBorg \u56e2\u961f\u7814\u53d1\u4e86 Borg \u63a5\u5165\u4e09\u4ef6\u5957\uff0c\u5373 BCL\uff08Borg Configuration Language\uff09\uff0cCommand-line tools\uff0c\u4ee5\u53ca\u76f8\u5e94\u7684 web service\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 BCL \u58f0\u660e\u5f0f\u7f16\u5199\u9700\u6c42\uff0c\u901a\u8fc7 Command-line tools \u5c06 BCL \u6587\u4ef6\u6267\u884c\u5230 Borg \u96c6\u7fa4\uff0c\u5e76\u901a\u8fc7 web GUI \u89c6\u56fe\u67e5\u770b\u4efb\u52a1\u7ec6\u8282\u3002\u7ecf\u8fc7\u5927\u91cf\u7684\u8c03\u7814\uff0c\u6211\u4eec\u4e86\u89e3\u5230 Google \u5185\u90e8\u7684\u8fd0\u7ef4\u80fd\u529b\u53ca\u4ea7\u54c1\u751f\u6001\u3001\u8d28\u91cf\u6280\u672f\u751f\u6001\u90fd\u4f9d\u8d56\u8fd9\u4e09\u4ef6\u5957\u6784\u5efa\u800c\u6210\uff0c\u5728\u5185\u90e8\u4e5f\u8fdb\u884c\u4e86\u591a\u5e74\u7684\u8fed\u4ee3\u6f14\u8fdb\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/03.png)\\n\\n\\n\u8fd9\u7ed9\u4e86\u6211\u4eec\u542f\u53d1\uff0c\u4eca\u5929\u6211\u4eec\u6709\u4e86\u5bb9\u5668\u6280\u672f\u3001\u670d\u52a1\u4f53\u7cfb\uff0c\u6709\u4e86\u5927\u91cf\u7528\u6237\u548c\u5dee\u5f02\u5316\u7684\u9700\u6c42\uff0c\u6709\u4e86\u4e00\u5b9a\u6570\u91cf\u7684\u81ea\u52a8\u5316\u8fd0\u7ef4\u5e73\u53f0\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u901a\u8fc7\u4e91\u539f\u751f\u4e13\u7528\u7684\u8bed\u8a00\u548c\u5de5\u5177\u6765\u94fe\u63a5 Kubernetes \u751f\u6001\u3001\u5404\u4e2a\u8fd0\u7ef4\u5e73\u53f0\u4ee5\u53ca\u5927\u91cf\u7684\u7528\u6237\uff0c\u901a\u8fc7\u552f\u4e00\u4e8b\u5b9e\u5b9a\u4e49\u6d88\u9664\u8fd0\u7ef4\u5e73\u53f0\u5b64\u5c9b\uff0c\u5b8c\u6210\u4e91\u539f\u751f\u57fa\u7840\u8bbe\u65bd\u5728\u5e94\u7528\u3001\u8fd0\u7ef4\u5c42\u9762\u7684\u4ee3\u9645\u6f14\u8fdb\uff0c\u8fbe\u5230 \u201cFusion on Kubernetes\u201d \u7684\u76ee\u6807\u3002\\n\\n\u5e26\u7740\u8fd9\u6837\u7684\u76ee\u6807\uff0c\u6211\u4eec\u6301\u7eed\u5730\u8fdb\u884c\u505a\u6280\u672f\u63a2\u7d22\u548c\u5b9e\u8df5\uff0c\u76ee\u524d\u5df2\u7ecf\u5f62\u6210\u4e86 Kusion \u6280\u672f\u6808\uff0c\u5e76\u5728\u8682\u8681\u7684\u751f\u4ea7\u5b9e\u8df5\u4e2d\u8fdb\u884c\u5e94\u7528\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/04.png)\\n\\nKusion \u6280\u672f\u6808\u57fa\u4e8e\u8fd9\u6837\u7684\u57fa\u7840\u80fd\u529b\u800c\u5de5\u4f5c\uff0c\u5305\u62ec\u5982\u4e0b\u7ec4\u6210\u90e8\u5206\uff1a\\n\\n- \u4e91\u539f\u751f\u914d\u7f6e\u7b56\u7565\u4e13\u7528\u8bed\u8a00 KCL (Kusion Configuration Language)\\n- KCL \u89e3\u91ca\u5668\u53ca\u5176 Plugin \u6269\u5c55\u673a\u5236\\n- KCL \u7814\u53d1\u5de5\u5177\u96c6: Lint, Format, Doc-Gen\uff0cIDE Plugin(IDEA, VsCode)\\n- Kusion Kubernetes \u751f\u6001\u5de5\u5177: OpenAPI-tool, KusionCtl(Srv)\\n- Konfig \u914d\u7f6e\u4ee3\u7801\u5e93\uff0c\u5176\u4e2d\u5305\u62ec\u5e73\u53f0\u4fa7\u53ca\u7528\u6237\u4fa7\u4ee3\u7801\\n- OCMP (Open CloudNative Management Practice) \u5b9e\u8df5\u8bf4\u660e\u4e66\\n\\n![](/img/blog/2021-05-18-kusion-intro/05.png)\\n\\n\\nKusion \u5de5\u4f5c\u5728\u57fa\u7840\u8bbe\u65bd\u4e4b\u4e0a\uff0c\u4f5c\u4e3a\u62bd\u8c61\u53ca\u7ba1\u7406\u5c42\u7684\u6280\u672f\u652f\u6491\u670d\u52a1\u4e0a\u5c42\u5e94\u7528\u3002\u4e0d\u540c\u89d2\u8272\u7684\u7528\u6237\u534f\u540c\u4f7f\u7528 Kubernetes \u751f\u6001\u63d0\u4f9b\u7684\u6a2a\u5411\u80fd\u529b\uff0c\u901a\u8fc7\u58f0\u660e\u5f0f\u3001\u610f\u56fe\u5bfc\u5411\u7684\u5b9a\u4e49\u65b9\u5f0f\u4f7f\u7528\u57fa\u7840\u8bbe\u65bd\uff0c\u5728\u573a\u666f\u4e0a\u652f\u6301\u5178\u578b\u7684\u4e91\u539f\u751f\u573a\u666f\uff0c\u4e5f\u670d\u52a1\u4e86\u4e00\u4e9b\u7ecf\u5178\u8fd0\u7ef4\u573a\u666f\uff0c\u5b8c\u6210\u4e86\u4e00\u9636\u6bb5\u7684\u5efa\u8bbe\u5de5\u4f5c\u3002\u76ee\u524d\u63a5\u5165 Kusion \u7684\u4ea7\u54c1\u5305\u62ec IaC \u53d1\u5e03\u3001\u8fd0\u7ef4\u4ea7\u54c1 InfraForm\u3001\u5efa\u7ad9\u4ea7\u54c1 SiteBuilder\u3001\u5feb\u6062\u5e73\u53f0\u7b49\u3002\u901a\u8fc7\u5c06 Kusion \u96c6\u6210\u5728\u81ea\u52a8\u5316\u7cfb\u7edf\u4e2d\uff0c\u6211\u4eec\u5c3d\u53ef\u80fd\u7684\u8c03\u548c\u9ed1\u76d2\u547d\u4ee4\u5f0f\u81ea\u52a8\u5316\u7cfb\u7edf\u4e0e\u5f00\u653e\u58f0\u660e\u5f0f\u914d\u7f6e\u7cfb\u7edf\uff0c\u4f7f\u5176\u53d1\u6325\u5404\u81ea\u7684\u4f18\u52bf\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/06.png)\\n\\n\\n## 3. \u96c6\u6210 & \u843d\u5730\\n\\n\u65b0\u7684\u6280\u672f\u4f53\u7cfb\u9996\u5148\u9762\u4e34\u7740\u843d\u5730\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5148\u6765\u770b\u770b Kusion \u5728\u96c6\u6210\u843d\u5730\u65b9\u9762\u7684\u601d\u8003\u548c\u505a\u6cd5\u3002\\n\\n\u4ece\u6574\u4f53\u601d\u8def\u4e0a\uff0c\u6211\u4eec\u4ece\u7ecf\u5178\u8fd0\u7ef4\u7cfb\u7edf\u4e2d\u7684\u53d8\u66f4\u70ed\u70b9\u4e1a\u52a1\u5c42\u3001\u7f16\u6392\u5c42\u7740\u624b\uff0c\u4ee5 KCL \u58f0\u660e\u5f0f\u914d\u7f6e\u5757\u7684\u65b9\u5f0f\u5916\u7f6e\u7f16\u5199\u5bf9\u5e94\u903b\u8f91\uff0c\u5e76\u88ab\u63a7\u5236\u5668\u81ea\u52a8\u5316\u96c6\u6210\u3002\\n\\n\u8fd9\u79cd\u601d\u8def\u662f\u6709\u8ff9\u53ef\u5faa\u7684\uff0c\u6211\u4eec\u6765\u770b\u770b\u540c\u884c\u7684\u7ecf\u9a8c\uff0c\u4ee5\u96f7\u795e\u5c71\u533b\u9662\u7684\u5efa\u8bbe\u73b0\u573a\u4e3a\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u73b0\u573a\u5927\u91cf\u7684\u7ec4\u4ef6\u662f\u9884\u5236\u54c1\uff0c\u7ecf\u8fc7\u4e86\u6d4b\u8bd5\u3001\u9a8c\u8bc1\u3001\u4ea4\u4ed8\u540e\u7531\u73b0\u573a\u7684\u5854\u540a\u8d1f\u8d23\u7ec4\u88c5\u3002\u8fd9\u4e9b\u7ec4\u4ef6\u9700\u8981\u826f\u597d\u7684\u54c1\u63a7\uff0c\u9700\u8981\u5185\u7f6e\u6c34\u7ba1\u3001\u7535\u7ebf\u7b49\u201c\u80fd\u529b\u201d\uff0c\u5426\u5219\u5373\u4f7f\u7ec4\u88c5\u4e5f\u65e0\u6cd5\u6709\u6548\u5de5\u4f5c\uff0c\u540c\u65f6\u9700\u8981\u7ed9\u4e1a\u52a1\u4fa7\u4e00\u5b9a\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e\u7a7a\u95f4\uff0c\u8fd8\u8981\u6613\u4e8e\u7ec4\u88c5\u53ca\u81ea\u52a8\u5316\u4ee5\u63d0\u5347\u73b0\u573a\u88c5\u914d\u6548\u7387\u3002\u5b9e\u9645\u4e0a\u6211\u4eec\u9762\u5bf9\u7684\u5927\u89c4\u6a21\u8fd0\u7ef4\u6d3b\u52a8\u4e0e\u8fd9\u6837\u7684\u73b0\u573a\u6709\u7c7b\u4f3c\u4e4b\u5904\uff0c\u73b0\u4ee3\u57fa\u5efa\u7684\u9ad8\u6548\u624b\u6bb5\u975e\u5e38\u503c\u5f97\u6211\u4eec\u5b66\u4e60\u501f\u9274\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/07.png)\\n\\n\\n\u5bf9\u5e94\u6211\u4eec\u7684\u5b9e\u9645\u573a\u666f\uff0c\u6211\u4eec\u57fa\u4e8e KCL \u7684\u5de5\u4f5c\u65b9\u5f0f\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a\\n\\n- **\u53ef\u5206\u5de5\u3001\u53ef\u534f\u540c\uff1a**\u7ec4\u4ef6\u5236\u4f5c\u3001\u9a8c\u6536\u3001\u4ea4\u4ed8\u3001\u4f7f\u7528\u53ef\u4ee5\u57fa\u4e8e\u89d2\u8272\u9700\u8981\u5408\u7406\u5206\u5de5\u534f\u540c\uff0c\u6ee1\u8db3\u8f6f\u4ef6\u4f9b\u5e94\u94fe\u7684\u9700\u6c42\\n- **\u5916\u7f6e\u3001\u9884\u5236\u7684\u7ec4\u4ef6\uff1a**\u7ec4\u4ef6\u72ec\u7acb\u4e8e\u81ea\u52a8\u5316\u7cfb\u7edf\u5b58\u5728\uff0c\u9884\u5236\u7684\u7ec4\u4ef6\u5728\u4ea4\u4ed8\u524d\u9700\u8981\u7ecf\u8fc7\u5145\u5206\u7684\u6d4b\u8bd5\u9a8c\u8bc1\\n- **\u5185\u7f6e\u8d44\u6e90\u3001\u670d\u52a1\u3001\u8eab\u4efd\u7b49\u8981\u7d20\uff1a**\u7ec4\u4ef6\u4ec5\u5411\u7528\u6237\u66b4\u9732\u6709\u6548\u7684\u4e1a\u52a1\u4fe1\u606f\uff0c\u540c\u65f6\u5185\u7f6e\u4e91\u539f\u751f\u3001\u53ef\u4fe1\u7684\u903b\u8f91\\n- **\u6613\u4e8e\u4e1a\u52a1\u5b9a\u4e49\uff1a**\u7ec4\u4ef6\u9700\u8981\u63d0\u4f9b\u4e00\u5b9a\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e\u80fd\u529b\\n- **\u6613\u4e8e\u81ea\u52a8\u5316\uff1a**\u652f\u6301\u81ea\u52a8\u5316\u7ec4\u88c5\uff0c\u81ea\u52a8\u5316\u5bf9\u7ec4\u4ef6\u8fdb\u884c\u201c\u589e\u5220\u6539\u67e5\u201d\\n\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u770b\u770b\u57fa\u4e8e Kusion \u5de5\u4f5c\u7684\u5178\u578b\u6d41\u7a0b\uff0c\u6b64\u5904\u6709\u4e00\u5b9a\u7684\u62bd\u8c61\u548c\u7b80\u5316\u3002\\n\\n\u524d\u6587\u63d0\u5230 Kubernetes API \u63d0\u4f9b\u4e86\u57fa\u4e8e OpenAPI \u7684 low level API \u53ca\u6269\u5c55\u673a\u5236\uff0c\u57fa\u4e8e\u9ad8\u5185\u805a\u3001\u4f4e\u8026\u5408\u3001\u6613\u590d\u7528\u3001\u6613\u7ec4\u88c5\u7684\u539f\u5219\u8bbe\u8ba1\uff0c\u4ee5 Resource\u3001Custome Resource \u7684\u65b9\u5f0f\u5b58\u5728\u3002\u6b64\u5916\uff0cKubernetes API \u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u547d\u4ee4\u4ee5\u64cd\u4f5c\u5bb9\u5668\u3001Pod \u7b49\u8d44\u6e90\u3002\u5bf9\u4e8e SDN\u3001Mesh\uff0c\u6216\u662f\u5176\u4ed6\u7684\u80fd\u529b\u6269\u5c55\u90fd\u662f\u57fa\u4e8e\u8fd9\u6837\u7684\u6574\u4f53\u7ea6\u675f\u548c\u65b9\u5f0f\uff0c\u5927\u90fd\u63d0\u4f9b\u4e86\u8d44\u6e90\u5b9a\u4e49\u6216\u547d\u4ee4\u64cd\u4f5c\u3002\\n\\n\u57fa\u4e8e\u8fd9\u6837\u7684\u57fa\u7840\uff0c\u5728\u8682\u8681\u7684\u5b9e\u8df5\u4e2d\u6211\u4eec\u5c06\u6574\u4f53\u7684\u5de5\u4f5c\u6d41\u7a0b\u5206\u4e3a 4 \u4e2a\u6b65\u9aa4\uff1a\\n\\n- **\u4ee3\u7801\u5316:** \u5bf9\u4e8e\u8d44\u6e90\u5b9a\u4e49\uff0c\u57fa\u4e8e OpenAPI Model/CRD \u5b9a\u4e49\u751f\u6210 KCL \u7ed3\u6784\u4f53\uff1b\u5bf9\u4e8e\u547d\u4ee4\u64cd\u4f5c\uff0c\u7f16\u5199\u5bf9\u5e94\u7684\u58f0\u660e\u5f0f KCL \u7ed3\u6784\u4f53\u3002\u8fd9\u4e9b\u7ed3\u6784\u4f53\u5bf9\u5e94\u5230\u5e73\u53f0\u4fa7\u539f\u5b50\u80fd\u529b\u5b9a\u4e49\u3002\\n- **\u62bd\u8c61\u5316:** \u5e73\u53f0\u4fa7 PaaS \u5e73\u53f0\u540c\u5b66\u57fa\u4e8e\u8fd9\u4e9b\u539f\u5b50\u58f0\u660e\u5f0f\u7f16\u5199\u62bd\u8c61\u3001\u7ec4\u88c5\uff0c\u5e76\u5b9a\u4e49\u51fa\u9762\u5411\u7528\u6237\u7684\u524d\u7aef\u7ed3\u6784\u4f53\uff0c\u4ece\u529f\u80fd\u573a\u666f\u4e0a\u6db5\u76d6\u4e86 AppConfiguration, Action / Ops, Locality / Topology, SA / RBAC, Node / Quota \u7b49\u573a\u666f\uff0c\u5e76\u63d0\u4f9b\u4e86\u7b80\u5316\u7f16\u5199\u7684 Template \u96c6\u5408\u3002\u4ee5 AppConfiguration \u4e3a\u4f8b\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86SigmaAppConfiguration\u3001SigmaJobConfiguration \u5206\u522b\u5bf9\u5e94\u4e8e\u670d\u52a1\u578b\u548c\u4efb\u52a1\u578b\u5e94\u7528\u5b9a\u4e49\uff0c\u6b64\u5916\u9488\u5bf9 SOFA \u5e94\u7528\u7684\u7279\u5f81\u63d0\u4f9b\u4e86 SofaAppConfiguration\u3002\u8fd9\u4e9b\u524d\u7aef\u7ed3\u6784\u4f53\u4f5c\u4e3a Kusion Models \u7684\u201c\u63a5\u53e3\u5c42\u201d\u5b58\u5728\uff0c\u53d7\u9650\u4e8e\u4e1a\u52a1\u8fdb\u5ea6\u7b49\u539f\u56e0\u5404\u573a\u666f\u79ef\u7d2f\u7684\u6c34\u4f4d\u4e0d\u540c\uff0c\u4ecd\u9700\u8981\u957f\u671f\u7684\u79ef\u7d2f\u6253\u78e8\u3002\\n- **\u914d\u7f6e\u5316:** \u5e94\u7528\u4fa7\u7814\u53d1\u6216 SRE \u540c\u5b66\u57fa\u4e8e\u8fd9\u4e9b\u524d\u7aef\u7ed3\u6784\u4f53\u63cf\u8ff0\u5e94\u7528\u9700\u6c42\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u7ed3\u6784\u4f53\u58f0\u660e\u7684\u65b9\u5f0f\u4e3a\u5e94\u7528\u5b9a\u4e49\u914d\u7f6e\u57fa\u7ebf\u53ca\u4e0d\u540c\u73af\u5883\u7684\u914d\u7f6e\u3002\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u4ec5\u9700\u8981\u8fdb\u884c\u7ed3\u6784\u4f53\u58f0\u660e\uff0c\u5373\u4e00\u4e9b key-value \u5bf9\u3002\u5bf9\u4e8e\u6709\u590d\u6742\u9700\u6c42\u7684\u573a\u666f\uff0c\u7528\u6237\u53ef\u4ee5\u8fdb\u884c\u903b\u8f91\u7f16\u5199\u6216\u901a\u8fc7\u7ee7\u627f\u7ed3\u6784\u4f53\u7684\u65b9\u5f0f\u7ec4\u7ec7\u4ee3\u7801\u903b\u8f91\\n- **\u81ea\u52a8\u5316:** \u5f53\u5e94\u7528\u4fa7\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u5b9e\u9645\u4e0a\u5df2\u7ecf\u5b9a\u4e49\u597d\u4e86\u53ef\u7528\u7684\u201c\u7ec4\u4ef6\u201d\uff0c\u5177\u5907\u4e86\u81ea\u52a8\u5316\u7684\u6761\u4ef6\u3002\u5e73\u53f0\u4fa7\u63a7\u5236\u5668\u53ef\u4ee5\u901a\u8fc7 KCL CLI \u6216 GPL binding API \u5b8c\u6210\u7f16\u8bd1\u3001\u6267\u884c\u3001\u8f93\u51fa\u3001\u4ee3\u7801\u4fee\u6539\u3001\u5143\u7d20\u67e5\u8be2\u7b49\u81ea\u52a8\u5316\u96c6\u6210\u5de5\u4f5c\uff0c\u7528\u6237\u5219\u53ef\u4ee5\u901a\u8fc7 KusionCtl \u5de5\u5177\u6267\u884c KCL \u4ee3\u7801\u6620\u5c04\u6267\u884c\u5230 Kubernetes \u96c6\u7fa4\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/08.png)\\n\\n\u901a\u8fc7\u8fd9\u6837\u7edf\u4e00\u7684\u5de5\u4f5c\u6d41\u7a0b\uff0c\u6211\u4eec\u8f7b\u91cf\u7ea7\u5730\u5b8c\u6210\u4e86\u5bf9 Kubernetes \u751f\u6001\u5927\u91cf\u57fa\u7840\u80fd\u529b\u7684\u900f\u51fa\uff0c\u57fa\u4e8e\u539f\u5b50\u80fd\u529b\u58f0\u660e\u5f0f\u5730\u5c01\u88c5\u3001\u62bd\u8c61\u51fa\u9762\u5411\u5e94\u7528\u7684\u914d\u7f6e\u3001\u8fd0\u7ef4\u80fd\u529b\uff0c\u5e76\u5b8c\u6210\u4e86\u4e00\u5b9a\u573a\u666f\u7684\u843d\u5730\u5e94\u7528\u3002Kusion \u63d0\u4f9b\u4e86\u7814\u53d1\u5de5\u5177\u534f\u52a9\u4f7f\u7528\u8005\u5b8c\u6210\u5176\u5de5\u4f5c\u3002\u6211\u4eec\u53ef\u4ee5\u5bf9\u5e73\u53f0\u4fa7\u3001\u7528\u6237\u4fa7\u5206\u5c42\u534f\u540c\u6a21\u5f0f\u4e0b\u7684\u5b9e\u8df5\u505a\u8fdb\u4e00\u6b65\u7684\u63a2\u8ba8\u3002\u5e73\u53f0\u4fa7\u540c\u5b66\u62bd\u8c61\u5e76\u5b9a\u4e49\u51fa\u524d\u7aef\u7ed3\u6784\u4f53\uff0c\u4f8b\u5982 SofaAppConfiguration \uff0c\u5176\u4e2d\u5b9a\u4e49\u4e86\u4e1a\u52a1\u955c\u50cf\u3001\u6240\u9700\u8d44\u6e90\u3001config\u3001secrect\u3001sidecar\u3001LB\u3001DNS\u3001\u526f\u672c\u6570\u3001\u903b\u8f91\u8d44\u6e90\u6c60\u3001\u53d1\u5e03\u7b56\u7565\u3001\u662f\u5426\u8d85\u5356\u3001\u662f\u5426\u8bbf\u95ee\u516c\u7f51\u7b49\u7b49\u3002\\n\\n\u524d\u7aef\u7ed3\u6784\u4f53\u65e0\u6cd5\u72ec\u7acb\u5de5\u4f5c\uff0c\u5b9e\u9645\u4e0a\u5b58\u5728\u7740\u4e0e\u524d\u7aef\u7ed3\u6784\u4f53\u5bf9\u5e94\u7684\u540e\u7aef\u7ed3\u6784\u4f53\uff0c\u540e\u7aef\u5bf9\u524d\u7aef\u900f\u660e\uff0c\u524d-\u540e\u7aef\u7ed3\u6784\u4f53\u5206\u79bb\u89e3\u8026\u3002\u540e\u7aef\u7ed3\u6784\u4f53\u5728\u8fd0\u884c\u65f6\u5c06\u524d\u7aef\u7ed3\u6784\u4f53\u4ea7\u751f\u7684\u6570\u636e\u201c\u7ffb\u8bd1\u201d\u6210\u5bf9\u5e94\u7684 low level API \uff0c\u8fd9\u79cd\u53cd\u5411\u4f9d\u8d56\u7684\u65b9\u5f0f\u4f9d\u8d56\u4e8e KCL \u8bed\u8a00\u80fd\u529b\u3002\\n\\n\u4ece\u5de5\u7a0b\u89d2\u5ea6\u770b\u5e73\u53f0\u4fa7\u540c\u5b66\u5b9e\u9645\u4e0a\u5b8c\u6210\u4e86\u4e00\u6b21\u8f7b\u91cf\u7ea7\u3001\u58f0\u660e\u5f0f\u7684\u5e94\u7528\u7ea7 API \u5b9a\u4e49\u3002\u8fd9\u79cd\u524d\u540e\u7aef\u5206\u79bb\u7684\u8bbe\u8ba1\u6709\u8bf8\u591a\u597d\u5904\u3002\u9996\u5148\u5e94\u7528\u4fa7\u4f7f\u7528\u7684\u524d\u7aef\u7ed3\u6784\u4f53\u53ef\u4ee5\u4fdd\u6301\u7b80\u5355\u5e72\u51c0\u3001\u4e1a\u52a1\u5bfc\u5411\u3001\u5b9e\u73b0\u7ec6\u8282\u65e0\u5173\uff1b\u5176\u6b21\u53ef\u4ee5\u901a\u8fc7\u7f16\u8bd1\u65f6\u6307\u5411\u4e0d\u540c\u7684\u540e\u7aef\u6587\u4ef6\u52a8\u6001\u5207\u6362\u5230\u4e0d\u540c\u7684\u540e\u7aef\u7ed3\u6784\u4f53\u5b9e\u73b0\uff0c\u4ee5\u5b8c\u6210\u5e73\u53f0\u7248\u672c\u5207\u6362\u3001\u5b9e\u73b0\u5207\u6362\u7b49\u76ee\u7684\uff1b\u6700\u540e\u8fd9\u6837\u5206\u79bb\u7684\u505a\u6cd5\u53ef\u4ee5\u5728\u7edf\u4e00\u6a21\u5f0f\u7684\u524d\u63d0\u4e0b\u4fdd\u8bc1\u5145\u5206\u7684\u7075\u6d3b\u6027\uff0c\u4f8b\u5982\u5e73\u53f0\u53ef\u4ee5\u901a\u8fc7 kcl base.k prod.k backend.k \u591a\u6587\u4ef6\u7f16\u8bd1\u5b8c\u6210\u4e00\u6b21\u5305\u542b\u57fa\u7ebf\u3001\u73af\u5883\u914d\u7f6e\u3001\u540e\u7aef\u7ed3\u6784\u4f53\u7684\u7ec4\u5408\u7f16\u8bd1\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6240\u6709\u573a\u666f\u89c4\u7ea6\u4e3a kcl user_0.k \u2026 user_n.k platform_0.k \u2026 platform_n.k \u7684\u8303\u5f0f\uff0c\u5176\u4e2d user.k \u4ee3\u8868\u7528\u6237\u4fa7\u4ee3\u7801\uff0cplatform.k \u4ee3\u8868\u5e73\u53f0\u4fa7\u4ee3\u7801\u3002\u6211\u4eec\u4ece\u53e6\u4e00\u4e2a\u89d2\u5ea6\u6765\u770b\u591a\u56e2\u961f\u534f\u540c\u7684\u65b9\u5f0f\u3002\u7531\u5404\u56e2\u961f\u81ea\u4e0b\u800c\u4e0a\u5b9a\u4e49\u5e73\u53f0\u80fd\u529b\u53ca\u7ea6\u675f\uff0c\u5e76\u5b8c\u6210\u5e94\u7528\u7ea7\u7684\u914d\u7f6e\u57fa\u7ebf\u53ca\u914d\u7f6e\u73af\u5883\u7279\u5f81\uff0c\u5b8c\u6210\u6700\u540e\u4e00\u516c\u91cc\u7684\u5b9a\u4e49\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/09.png)\\n\\n\\n\u5728\u7406\u6e05\u5de5\u4f5c\u6d41\u7a0b\u540e\uff0c\u6211\u4eec\u6765\u770b KCL \u901a\u8fc7 Konfig \u5927\u5e93\u843d\u5730\u7684\u5b9e\u8df5\u3002\u6211\u4eec\u5728 Konfig \u4ee3\u7801\u4ed3\u5e93\u4e2d\u5b9a\u4e49\u4e86\u5e73\u53f0\u4fa7\u53ca\u7528\u6237\u4fa7\u7684\u4ee3\u7801\u7a7a\u95f4\uff0c\u901a\u8fc7\u7edf\u4e00\u914d\u7f6e\u4ee3\u7801\u5e93\u5b8c\u6210\u5bf9\u4ee3\u7801\u7684\u5171\u4eab\u548c\u590d\u7528\uff0c\u4fdd\u8bc1\u4e86\u5bf9\u6574\u4f53\u57fa\u7840\u8bbe\u65bd\u4ee3\u7801\u5b9a\u4e49\u7684\u53ef\u89c1\u6027\u3002\u5728\u7528\u6237\u4fa7\uff0c\u901a\u8fc7 project\u3001stack\u3001component(\u5bf9\u5e94\u8682\u8681\u5185\u90e8\u5e94\u7528) \u4e09\u7ea7\u76ee\u5f55\u7684\u65b9\u5f0f\u7ec4\u7ec7\u4ee3\u7801\u3002\u4ee5 cloudmesh \u4e3a\u4f8b\uff0c\u5728 tnt/middleware/cloudmesh \u7684 project \u76ee\u5f55\u4e0b\u542b\u591a\u4e2a stack\uff0c\u5982 dev\u3001prod\uff0c\u6bcf\u4e2a stack \u4e2d\u542b\u591a\u4e2a component\u3002\u4ee3\u7801\u5728\u8fd9\u4e09\u4e2a\u7ef4\u5ea6\u5f97\u4ee5\u9694\u79bb\uff0c\u5e76\u5171\u4eab\u4e0a\u4e0b\u6587\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/10.png)\\n\\n\\n\u5728\u4ee3\u7801\u8d28\u4fdd\u65b9\u9762\uff0c\u6211\u4eec\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\u7b49\u624b\u6bb5\u4fdd\u8bc1\u5bf9\u5e73\u53f0\u4fa7\u3001\u7528\u6237\u4fa7\u4ee3\u7801\u7684\u8d28\u91cf\uff0c\u6211\u4eec\u6b63\u5728\u5f15\u5165\u4ee3\u7801\u626b\u63cf\u3001\u914d\u7f6e\u56de\u653e\u3001\u914d\u7f6e\u6821\u9a8c\u3001dry-run \u7b49\u9a8c\u8bc1\u624b\u6bb5\u4fdd\u8bc1\u4ee3\u7801\u53d8\u66f4\u7684\u53ef\u9760\u6027\u3002\u5728\u7814\u53d1\u65b9\u9762\uff0c\u6211\u4eec\u901a\u8fc7\u4e3b\u5e72\u5f00\u53d1\u3001\u5206\u652f\u53d1\u5e03\u7684\u65b9\u5f0f\u4fdd\u8bc1\u4e0d\u540c\u5e94\u7528\u5e76\u884c\u7814\u53d1\u7684\u524d\u63d0\u4e0b\u5c3d\u53ef\u80fd\u4e0d\u4ea7\u751f\u4ee3\u7801\u8150\u5316\u7684\u60c5\u51b5\uff0c\u5e76\u901a\u8fc7 tag \u4fdd\u62a4\u7a33\u5b9a\u5206\u652f\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/11.png)\\n\\n\\n\u5728 IaC \u4ea7\u54c1\u843d\u5730\u573a\u666f\u4e2d\uff0c\u901a\u8fc7\u6807\u51c6\u5316\u7684\u7ed3\u6784\u4f53\u3001\u4ee3\u7801\u7248\u672c\u5316\u3001\u591a\u73af\u5883\u4ee3\u7801\u9694\u79bb\u3001CI pipeline \u7b49\u624b\u6bb5\u7ba1\u7406\u57fa\u7840\u8bbe\u65bd\u63cf\u8ff0\u4ee3\u7801\uff0c\u901a\u8fc7\u4ee3\u7801\u53d8\u66f4\u7684\u9759\u6001\u3001\u52a8\u6001 diff\u3001\u6a21\u62df\u3001\u5f02\u5e38\u63d0\u793a\u3001\u98ce\u9669\u7ba1\u63a7\u63a5\u5165\u4fdd\u8bc1\u57fa\u7840\u8bbe\u65bd\u53d8\u66f4\u53ef\u63a7\uff0c\u901a\u8fc7\u4ee3\u7801 Pull Request \u505a\u53d8\u66f4\u5ba1\u8ba1\u53ca\u5bf9\u53d8\u66f4\u4eba\u5458\u7684\u8ffd\u8e2a\u3002\u4e0b\u56fe\u4ee5\u4e1a\u52a1\u53d1\u5e03\u573a\u666f\u4e3a\u4f8b\u5c55\u793a\u4e86\u5173\u952e\u6b65\u9aa4\uff0c\u5728\u4e1a\u52a1\u4ee3\u7801\u901a\u8fc7\u8d28\u4fdd\u6d41\u7a0b\u5e76\u5b8c\u6210\u955c\u50cf\u6784\u5efa\u540e\uff0cCI \u6d41\u7a0b\u63a7\u5236\u5668\u901a\u8fc7 KCL API \u5bf9 Konfig \u4ed3\u5e93\u4e2d\u5bf9\u5e94 KCL \u6587\u4ef6\u4e2d\u7684 image \u5b57\u6bb5\u8fdb\u884c\u81ea\u52a8\u66f4\u65b0\uff0c\u5e76\u53d1\u8d77 Pull Request\uff0c\u7531\u6b64\u89e6\u53d1\u53d1\u5e03\u6d41\u7a0b\u3002\\n\\nIaC \u63d0\u4f9b\u4e86\u7f16\u8bd1\u6d4b\u8bd5\u3001live-diff\u3001dry-run\u3001\u98ce\u9669\u7ba1\u63a7\u63a5\u5165\u7b49\u9a8c\u8bc1\u65b9\u5f0f\uff0c\u5e76\u652f\u6301\u6267\u884c\u8fc7\u7a0b\u7684\u53ef\u89c6\u5316\uff0c\u4ea7\u54c1\u57fa\u4e8e KCL \u8bed\u8a00\u80fd\u529b\u53ca\u5de5\u5177\u5efa\u8bbe\uff0c\u5c3d\u53ef\u80fd\u7684\u51cf\u5c11\u4e1a\u52a1\u5b9a\u5236\u3002\u6574\u4e2a\u6d41\u7a0b\u4ee5 Konfig \u4ee3\u7801\u7684\u81ea\u52a8\u4fee\u6539\u4e3a\u8d77\u70b9\uff0c\u5e73\u53f0\u65b9\u3001\u5e94\u7528\u65b9\u3001SRE \u57fa\u4e8e\u4ee3\u7801\u534f\u540c\uff0c\u901a\u8fc7\u4ea7\u54c1\u754c\u9762\u8fdb\u884c\u7ebf\u4e0a\u53d1\u5e03\uff0c\u652f\u6301\u5206\u6279\u5206\u6b65\u3001\u56de\u6eda\u7b49\u8fd0\u7ef4\u80fd\u529b\u3002Konfig \u4e2d\u7684\u4ee3\u7801\u201c\u7ec4\u4ef6\u201d\u53ef\u4ee5\u88ab\u591a\u4e2a\u573a\u666f\u96c6\u6210\u4f7f\u7528\uff0c\u4f8b\u5982\u6b64\u5904\u88ab\u53d1\u5e03\u63a7\u5236\u5668\u96c6\u6210\u7684\u7ec4\u4ef6\u8fd8\u53ef\u4ee5\u88ab\u5efa\u7ad9\u63a7\u5236\u5668\u96c6\u6210\uff0c\u63a7\u5236\u5668\u53ea\u9700\u5173\u6ce8\u81ea\u52a8\u5316\u903b\u8f91\uff0c\u65e0\u9700\u5173\u5fc3\u88ab\u96c6\u6210\u7ec4\u4ef6\u7684\u5185\u90e8\u7ec6\u8282\u3002\u4ee5\u6587\u7ae0\u5f00\u5934\u7684\u5178\u578b\u5efa\u7ad9\u573a\u666f\u4e3a\u4f8b\uff0c\u5728\u63a5\u5165 Kusion \u540e\uff0c\u7528\u6237\u4fa7\u914d\u7f6e\u4ee3\u7801\u51cf\u5c11\u5230 5.5%\uff0c\u7528\u6237\u9762\u5bf9\u7684 4 \u4e2a\u5e73\u53f0\u901a\u8fc7\u63a5\u5165\u7edf\u4e00\u4ee3\u7801\u5e93\u800c\u6d88\u51cf\uff0c\u5728\u65e0\u5176\u4ed6\u5f02\u5e38\u7684\u60c5\u51b5\u4e0b\u4ea4\u4ed8\u65f6\u95f4\u4ece 2 \u5929\u4e0b\u964d\u5230 2 \u5c0f\u65f6\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/12.png)\\n\\n\\n\u6211\u4eec\u518d\u6765\u770b\u66f4\u52a0\u52a8\u6001\u6027\u7684\u5927\u89c4\u6a21\u5feb\u901f\u6062\u590d\u573a\u666f\u3002\u5feb\u6062\u5e73\u53f0\u5728\u63a5\u5230\u76d1\u63a7\u544a\u8b66\u8f93\u5165\u540e\u51b3\u7b56\u4ea7\u751f\u5f02\u5e38\u5bb9\u5668 hostname \u5217\u8868\uff0c\u5e76\u9700\u8981\u5bf9\u5bb9\u5668\u8fdb\u884c\u91cd\u542f\u7b49\u6062\u590d\u64cd\u4f5c\u3002\\n\\n\u6211\u4eec\u901a\u8fc7 KCL \u7f16\u5199\u58f0\u660e\u5f0f\u7684\u5e94\u7528\u6062\u590d\u8fd0\u7ef4\u4ee3\u7801\uff0c\u5176\u4e2d\u901a\u8fc7 KCL Plugin \u6269\u5c55\u5b8c\u6210\u5bf9\u5728\u7ebf CMDB \u7684\u67e5\u8be2\uff0c\u5c06 hostname \u5217\u8868\u8f6c\u6362\u4e3a\u591a\u96c6\u7fa4 Pod \u5217\u8868\uff0c\u5e76\u58f0\u660e\u5f0f\u5b9a\u4e49 Pod \u6062\u590d\u64cd\u4f5c\u3002\u5feb\u6062\u5e73\u53f0\u6267\u884c KusionCtl run AppRecovery.k \u5b8c\u6210\u8de8\u591a\u96c6\u7fa4\u7684 Pod \u6062\u590d\u64cd\u4f5c\u3002\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\uff0c\u5feb\u6062\u63a7\u5236\u5668\u65e0\u9700\u7406\u89e3\u5bb9\u5668\u6062\u590d\u7ec6\u8282\u3001Kubernetes \u591a\u96c6\u7fa4\u6620\u5c04\u6267\u884c\u7ec6\u8282\u7b49\uff0c\u53ef\u4ee5\u66f4\u4e13\u6ce8\u4e8e\u81ea\u8eab\u5f02\u5e38\u5224\u65ad\u53ca\u51b3\u7b56\u903b\u8f91\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/13.png)\\n\\n\\n\u5728\u9879\u76ee\u843d\u5730\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4e5f\u53d1\u73b0\u5230\u4e86\u4e0d\u5c11\u56e0\u4e3a\u8fdb\u5ea6\u7b49\u539f\u56e0\u9020\u6210\u7684\u5e73\u53f0\u4fa7\u8bbe\u8ba1\u95ee\u9898\u3002\u4f8b\u5982\u5e73\u53f0\u4fa7\u64cd\u4f5c\u5b9a\u4e49\u4e0d\u591f\u89c4\u8303\uff0c\u5e94\u7528\u4f9d\u8d56\u7b49\u5171\u6027\u5b9a\u4e49\u8fc7\u4e8e\u5206\u6563\u7b49\u95ee\u9898\uff0c\u8fd9\u9700\u8981\u6211\u4eec\u5728\u540e\u7eed\u7684\u843d\u5730\u8fc7\u7a0b\u4e2d\u6301\u7eed\u53bb\u6c89\u6dc0\u63d0\u9ad8\u3002\u5f00\u653e\u914d\u7f6e\u7ed9\u4e86\u7528\u6237\u66f4\u5927\u7684\u7075\u6d3b\u6027\u548c\u7a7a\u95f4\uff0c\u4f46\u76f8\u6bd4\u9ed1\u76d2\u7684\u65b9\u5f0f\u9700\u8981\u66f4\u591a\u7684\u5b89\u5168\u6027\u4fdd\u969c\u3002\u5728\u5f00\u653e\u534f\u540c\u63a8\u8fdb\u7684\u540c\u65f6\uff0c\u53ef\u4fe1\u539f\u751f\u6280\u672f\u90e8\u5728\u5e76\u884c\u63a8\u8fdb\u4e91\u539f\u751f\u53ef\u4fe1\u5e73\u53f0\u7684\u5efa\u8bbe\uff0c\u53ef\u4fe1\u5e73\u53f0\u901a\u8fc7\u5c06\u8eab\u4efd\u4e0e Kubernetes \u6280\u672f\u7d27\u5bc6\u7ed3\u5408\u63d0\u4f9b\u76f8\u6bd4\u793e\u533a\u65b9\u6848\u80fd\u529b\u66f4\u5f3a\u7684\u6280\u672f\u652f\u6491\u3002\\n\\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u901a\u8fc7\u5f00\u653e\u914d\u7f6e\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u901a\u8fc7 mount \u8bc1\u4e66\u7684\u65b9\u5f0f\u4f7f\u5f97\u4e0d\u53ef\u4fe1\u4e0d\u5b89\u5168\u7684\u670d\u52a1\u83b7\u5f97\u8bbf\u95ee\u76ee\u6807\u670d\u52a1\u7684\u6743\u9650\u4ece\u800c\u83b7\u53d6\u5230\u5173\u952e\u6570\u636e\uff1f\u4e8b\u5b9e\u4e0a\u5728\u6ca1\u6709\u8eab\u4efd\u4f20\u9012\u53ca\u9ad8\u6c34\u4f4d Pod \u5b89\u5168\u4fdd\u969c\u7684\u524d\u63d0\u4e0b\u8fd9\u662f\u5b8c\u5168\u53ef\u80fd\u3002\u901a\u8fc7\u53ef\u4fe1\u5e73\u53f0\u5bf9 PSP\uff08Pod Security Policy\uff09\u3001\u670d\u52a1\u9a8c\u8bc1\u3001\u670d\u52a1\u9274\u6743\u7b49\u573a\u666f\u7684\u52a0\u56fa\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u6309\u9700\u589e\u5f3a\u5173\u952e\u94fe\u8def\u7684\u5b89\u5168\u7b56\u7565\u3002\u76f8\u6bd4\u4e0e\u793e\u533a\u65b9\u6848\uff0c\u53ef\u4fe1\u5e73\u53f0\u5b9a\u4e49\u4e86\u66f4\u5b8c\u6574\u7684 spiffe \u8eab\u4efd\u6807\u8bc6\uff0c\u5e76\u4f7f\u5f97\u8eab\u4efd\u4f5c\u7528\u4e8e\u8d44\u6e90\u3001\u7f51\u7edc\u3001\u670d\u52a1\u7684\u5404\u4e2a\u73af\u8282\uff0c\u53ef\u4ee5\u8bf4\u53ef\u4fe1\u662f\u5f00\u653e\u7684\u5fc5\u8981\u524d\u63d0\u3002\u540c\u65f6\u53ef\u4fe1\u63d0\u4f9b\u7684\u9274\u6743\u80fd\u529b\u3001\u9694\u79bb\u80fd\u529b\u4e5f\u9700\u8981\u88ab\u7528\u6237\u4f7f\u7528\uff0c\u5c06\u539f\u5b50\u80fd\u529b\u5c01\u88c5\u5e76\u5728\u5e94\u7528\u914d\u7f6e\u5c42\u9762\u900f\u51fa\u4f9d\u8d56\u4e8e Kusion \u7684\u63a8\u8fdb\uff0c\u4f7f\u5f97\u63a5\u5165 Kusion \u7684\u5e94\u7528\u53ef\u4ee5\u66f4\u7b80\u5355\u7684\u4f7f\u7528\u53ef\u4fe1\u80fd\u529b\u3002\u53ef\u4ee5\u8bf4\u5f00\u653e\u534f\u540c\u6280\u672f\u6808\u4e0e\u53ef\u4fe1\u5e73\u53f0\u662f\u80fd\u529b\u6b63\u4ea4\uff0c\u76f8\u8f85\u76f8\u6210\u7684\u4e91\u539f\u751f\u5e94\u7528\u5c42\u6280\u672f\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/14.png)\\n\\n\\n**\u6700\u540e\uff0c\u6211\u4eec\u5bf9\u96c6\u6210\u843d\u5730\u505a\u4e00\u4e2a\u5c0f\u7ed3\uff1a**\\n\\n\u5e73\u53f0\u4fa7\u7f16\u5199 80% \u5185\u5bb9\uff0c\u901a\u8fc7\u9762\u5411\u5e94\u7528\u7684\u524d\u7aef\u7ed3\u6784\u4f53\u63d0\u4f9b\u89c4\u8303\u7684\u914d\u7f6e\u5757\uff0c\u518d\u901a\u8fc7\u540e\u7aef\u7ed3\u6784\u4f53\u5b9a\u4e49\u5c4f\u853d low level API \u8d44\u6e90\u53ca\u64cd\u4f5c\uff0c\u6700\u7ec8\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\u63cf\u8ff0\u5e94\u7528\u5bf9 workload\u3001\u7f16\u6392\u3001\u8fd0\u7ef4\u7b49\u65b9\u9762\u7684\u9700\u6c42\uff0c\u91cd\u70b9\u5728\u4e8e\u53ef\u4ee5\u5b9a\u4e49\u4ec0\u4e48\u3001\u9ed8\u8ba4\u6709\u4ec0\u4e48\u53ca\u7ea6\u675f\u96c6\u5408\uff0c\u5e76\u901a\u8fc7 Konfig \u4ed3\u5e93\u5171\u4eab\u590d\u7528\u3002\u5e73\u53f0\u4fa7\u8d8b\u5411\u5f15\u64ce\u5316\uff0c\u4e13\u6ce8\u81ea\u52a8\u5316\u63a7\u5236\u903b\u8f91\uff0c\u7531 KCL \u4ee3\u7801\u4f5c\u4e3a\u6269\u5c55\u6280\u672f\u5916\u7f6e\u7f16\u5199\u4e1a\u52a1\u903b\u8f91\u3002\u6211\u4eec\u5e0c\u671b\u9762\u5bf9\u590d\u6742\u7684\u8fd0\u7ef4\u4e1a\u52a1\u8bc9\u6c42\uff0c\u5e73\u53f0\u4fa7\u63a7\u5236\u5668\u9010\u6b65\u6f14\u8fdb\u5230\u4f4e\u9891\u53d8\u66f4\uff0c\u751a\u81f3\u96f6\u53d8\u66f4\u3002\\n\\n\u5e94\u7528\u4fa7\u8f93\u5165 20% \u5185\u5bb9\uff0c\u4ee5\u5e73\u53f0\u4fa7\u524d\u7aef\u7ed3\u6784\u4f53\u4e3a\u754c\u9762\u58f0\u660e\u5e94\u7528\u4fa7\u8bc9\u6c42\uff0c\u91cd\u70b9\u5728\u4e8e\u8981\u4ec0\u4e48\u3001\u8981\u505a\u4ec0\u4e48\uff0c\u6240\u5199\u5373\u6240\u5f97\u3002\u5e94\u7528\u4fa7\u901a\u8fc7\u9762\u5411\u591a\u9879\u76ee\u3001\u591a\u79df\u6237\u3001\u591a\u73af\u5883\u3001\u591a\u5e94\u7528\u7684\u4ee3\u7801\u5de5\u7a0b\u7ed3\u6784\u7ec4\u7ec7\u4ee3\u7801\uff0c\u901a\u8fc7 Pull Request \u53d1\u8d77\u53d8\u66f4\uff0c\u901a\u8fc7 CICD pipeline \u5b8c\u6210\u767d\u76d2\u5316\u7684\u7ebf\u4e0a\u53d8\u66f4\u3002\u540c\u65f6\uff0c\u5e94\u7528\u4fa7\u6709\u5bf9\u5355\u5e94\u7528\u7f16\u8bd1\u3001\u6d4b\u8bd5\u3001\u9a8c\u8bc1\u3001\u6a21\u62df\u7684\u81ea\u7531\u5ea6\uff0c\u5728\u5145\u5206\u9a8c\u8bc1\u540e\u4ea4\u4ed8\u4f7f\u7528\uff1b\u5bf9\u591a\u5e94\u7528\u53ef\u901a\u8fc7 KCL \u8bed\u8a00\u80fd\u529b\u6309\u9700\u7075\u6d3b\u7ec4\u5408\u3002\u5c06\u5927\u89c4\u6a21\u7684\u590d\u6742\u95ee\u9898\u62c6\u5206\u7f29\u5c0f\u5230\u5e94\u7528\u7c92\u5ea6\uff0c\u5f97\u5230\u5145\u5206\u9a8c\u8bc1\u540e\u6309\u9700\u5408\u5e76\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u5206\u6cbb\u601d\u8def\u7684\u5b9e\u8df5\u3002\u9488\u5bf9\u8682\u8681\u7684\u5b9e\u9645\u60c5\u51b5\uff0c\u6211\u4eec\u901a\u8fc7 KusionCtl \u5de5\u5177\u652f\u6301\u7814\u53d1\u6d4b\u8bd5\u73af\u5883\u7684\u6267\u884c\u53ca\u53ef\u89c6\u5316\uff0c\u901a\u8fc7 InfraForm \u4ea7\u54c1\u3001SiteBuilder \u4ea7\u54c1\u7b49\u63a8\u52a8\u7ebf\u4e0a\u7684\u90e8\u7f72\u8fc7\u7a0b\u3002\\n\\n## 4. \u534f\u540c\u914d\u7f6e\u95ee\u9898\u6a21\u578b\\n\\n\u7406\u89e3\u4e86\u843d\u5730\u601d\u8def\u548c\u573a\u666f\u5b9e\u8df5\u65b9\u5f0f\uff0c\u6211\u4eec\u5c06\u8fdb\u4e00\u6b65\u4e0b\u94bb\u62c6\u89e3\u5177\u4f53\u7684\u534f\u540c\u573a\u666f\uff0c\u540c\u65f6\u5206\u6790 KCL \u8bed\u8a00\u5728\u914d\u7f6e\u573a\u666f\u7684\u8bbe\u8ba1\u548c\u5e94\u7528\u3002\\n\\n\u6211\u4eec\u5148\u6765\u770b\u5e73\u53f0\u4fa7\u7f16\u5199\u8f7b\u91cf\u7ea7\u5e94\u7528\u7ea7 API \u7684\u4e00\u4e9b\u8981\u70b9\u3002\u5e73\u53f0\u4fa7\u540c\u5b66\u53ef\u4ee5\u901a\u8fc7\u5355\u7ee7\u627f\u7684\u65b9\u5f0f\u6269\u5c55\u7ed3\u6784\u4f53\uff0c\u901a\u8fc7 mixin \u673a\u5236\u5b9a\u4e49\u7ed3\u6784\u4f53\u5185\u5c5e\u6027\u7684\u4f9d\u8d56\u5173\u7cfb\u53ca\u503c\u5185\u5bb9\uff0c\u901a\u8fc7\u7ed3\u6784\u4f53\u5185\u987a\u5e8f\u65e0\u5173\u7684\u7f16\u5199\u65b9\u5f0f\u5b8c\u6210\u58f0\u660e\u5f0f\u7684\u7ed3\u6784\u4f53\u5b9a\u4e49\uff0c\u6b64\u5916\u8fd8\u652f\u6301\u5982\u903b\u8f91\u5224\u65ad\u3001\u9ed8\u8ba4\u503c\u7b49\u5e38\u7528\u529f\u80fd\u3002\\n\\n\u5bf9\u4e8e\u58f0\u660e\u5f0f\u4e0e\u547d\u4ee4\u5f0f\u7684\u5dee\u5f02\u505a\u7b80\u5355\u7684\u5206\u6790\uff0c\u6211\u4eec\u4ee5\u6590\u6ce2\u90a3\u5951\u6570\u5217\u4e3a\u4f8b\uff0c\u53ef\u4ee5\u628a\u4e00\u7ec4\u58f0\u660e\u5f0f\u4ee3\u7801\u770b\u4f5c\u4e00\u4e2a\u65b9\u7a0b\u7ec4\uff0c\u65b9\u7a0b\u5f0f\u7684\u7f16\u5199\u987a\u5e8f\u672c\u8d28\u4e0a\u4e0d\u5f71\u54cd\u6c42\u89e3\uff0c\u800c\u201c\u6c42\u89e3\u201d\u7684\u8fc7\u7a0b\u7531 KCL \u89e3\u91ca\u5668\u5b8c\u6210\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u5927\u91cf\u547d\u4ee4\u5f0f\u62fc\u88c5\u8fc7\u7a0b\u53ca\u987a\u5e8f\u5224\u65ad\u4ee3\u7801\uff0c\u5bf9\u4e8e\u5b58\u5728\u590d\u6742\u4f9d\u8d56\u7684\u7ed3\u6784\u4f53\u800c\u8a00\u4f18\u5316\u5c24\u4e3a\u660e\u663e\u3002\\n\\n\u5bf9\u4e8e\u590d\u6742\u7ed3\u6784\uff0c\u547d\u4ee4\u5f0f\u62fc\u88c5\u7684\u5199\u6cd5\u591a\u51fa\u4e00\u500d\u4ee5\u4e0a\u7684\u4ee3\u7801\u91cf\uff0c\u8865\u4e01\u4ee3\u7801\u4f7f\u5f97\u7ed3\u679c\u96be\u4ee5\u9884\u6d4b\uff0c\u540c\u65f6\u9700\u8981\u8003\u8651\u6267\u884c\u987a\u5e8f\u95ee\u9898\uff0c\u7279\u522b\u662f\u5728\u6a21\u5757\u5316\u8fc7\u7a0b\u4e2d\u8c03\u6574\u5b58\u5728\u4f9d\u8d56\u7684\u6a21\u5757\u987a\u5e8f\u975e\u5e38\u7e41\u7410\u4e14\u6613\u51fa\u9519\u3002\u5bf9\u4e8e\u5404\u79cd\u914d\u5957\u80fd\u529b\uff0c\u6211\u4eec\u901a\u8fc7 mixin \u673a\u5236\u7f16\u5199\uff0c\u5e76\u901a\u8fc7 mixin \u58f0\u660e\u7684\u65b9\u5f0f\u201c\u6df7\u5165\u201d\u5230\u4e0d\u540c\u7684\u7ed3\u6784\u4f53\u4e2d\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/15.png)\\n\\n\\n\u5bf9\u4e8e\u5e73\u53f0\u4fa7\u6765\u8bf4\uff0c\u7a33\u5b9a\u6027\u4fdd\u8bc1\u5c24\u4e3a\u91cd\u8981\u3002\\n\\n\u5f53\u914d\u7f6e\u6570\u636e\u91cf\u9010\u6b65\u589e\u5927\u65f6\uff0c\u826f\u6784\u7c7b\u578b\u662f\u4fdd\u8bc1\u7f16\u8bd1\u65f6\u95ee\u9898\u53d1\u73b0\u7684\u6709\u6548\u624b\u6bb5\uff0cKCL spec \u5305\u62ec\u4e86\u5b8c\u5907\u7684\u7c7b\u578b\u7cfb\u7edf\u8bbe\u8ba1\uff0c\u6211\u4eec\u6b63\u5728\u5b9e\u8df5\u9759\u6001\u7c7b\u578b\u68c0\u67e5\u548c\u63a8\u5bfc\uff0c\u9010\u6b65\u589e\u5f3a\u7c7b\u578b\u7684\u5b8c\u5907\u6027\u3002\\n\\n\u540c\u65f6 KCL \u5f15\u5165\u4e86\u591a\u79cd\u4e0d\u53ef\u53d8\u624b\u6bb5\uff0c\u652f\u6301\u7528\u6237\u6309\u9700\u5b9a\u4e49\u7ed3\u6784\u4f53\u5185\u5c5e\u6027\u7684\u4e0d\u53ef\u53d8\u6027\u3002\u901a\u8fc7\u8fd9\u4e24\u79cd\u57fa\u7840\u800c\u91cd\u8981\u7684\u6280\u672f\u624b\u6bb5\u4f7f\u5f97\u5927\u91cf\u8fdd\u53cd\u7f16\u5199\u7ea6\u675f\u7684\u60c5\u51b5\u53ef\u4ee5\u5728\u7f16\u8bd1\u65f6\u88ab\u68c0\u67e5\u53d1\u73b0\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/16.png)\\n\\n\u5bf9\u4e8e\u4e1a\u52a1\u5411\u7684\u5185\u5bb9\uff0cKCL \u652f\u6301\u901a\u8fc7\u7ed3\u6784\u4f53\u5185\u7f6e\u7684\u6821\u9a8c\u89c4\u5219\u53ca\u5355\u5143\u6d4b\u8bd5\u7684\u65b9\u5f0f\u652f\u6301\u3002\u4ee5\u4e0b\u56fe\u6240\u793a\u4ee3\u7801\u4e3a\u4f8b\uff0c\u6211\u4eec\u5728 AppBase \u4e2d\u5b9a\u4e49\u5bf9 containerPort\u3001services\u3001volumes \u7684\u6821\u9a8c\u89c4\u5219\uff0c\u540c\u65f6\u5728 MyProdApp \u4e2d\u5b9a\u4e49\u53e0\u52a0\u7684\u73af\u5883\u76f8\u5173\u7684\u6821\u9a8c\u89c4\u5219\u3002\u76ee\u524d\u6821\u9a8c\u89c4\u5219\u5728\u8fd0\u884c\u65f6\u6267\u884c\u5224\u65ad\uff0c\u6211\u4eec\u6b63\u5728\u5c1d\u8bd5\u901a\u8fc7\u7f16\u8bd1\u65f6\u7684\u9759\u6001\u5206\u6790\u5bf9\u89c4\u5219\u8fdb\u884c\u5224\u65ad\u4ece\u800c\u53d1\u73b0\u95ee\u9898\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/17.png)\\n\\n\\n\u6b64\u5916\u5bf9\u4e8e\u5e73\u53f0\u4fa7\u6765\u8bf4\uff0c\u5347\u7ea7\u63a8\u8fdb\u662f\u5fc5\u987b\u9762\u5bf9\u7684\u95ee\u9898\u3002\u6211\u4eec\u9996\u5148\u9700\u8981\u8003\u8651\u6700\u574f\u60c5\u51b5\uff0c\u5373\u63d0\u4f9b\u7ed9\u7528\u6237\u7684\u524d\u7aef\u7ed3\u6784\u4f53\u9700\u8981\u505a\u4e0d\u517c\u5bb9\u7684\u8c03\u6574\uff0c\u6309\u7167\u65b0\u589e\u914d\u7f6e\u9879\u5e76\u4e0b\u7ebf\u8001\u914d\u7f6e\u9879\u7684\u601d\u8def\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5f85\u4e0b\u7ebf\u5b57\u6bb5\u8fdb\u884c\u7981\u7528\uff0c\u5e76\u4ee5\u5408\u7406\u7684\u65b9\u5f0f\u544a\u77e5\u7528\u6237\u3002\\n\\n\u5f53\u5e73\u53f0\u81ea\u8eab\u51fa\u73b0\u4e0d\u517c\u5bb9\u66f4\u65b0\u65f6\u95ee\u9898\u76f8\u4f3c\uff0c\u53ea\u662f\u9700\u8981\u5e73\u53f0\u4fa7\u540e\u7aef\u7ed3\u6784\u4f53\u8fdb\u884c\u8c03\u6574\uff0c\u5e94\u7528\u4fa7\u7528\u6237\u4e0d\u76f4\u63a5\u611f\u77e5\u3002KCL \u9488\u5bf9\u8fd9\u7c7b\u95ee\u9898\u63d0\u4f9b\u4e86\u5b57\u6bb5\u7981\u7528\u7684\u529f\u80fd\uff0c\u4f7f\u7528\u88ab\u7981\u7528\u5b57\u6bb5\u5c06\u5728\u7f16\u8bd1\u9636\u6bb5\u901a\u8fc7\u8b66\u544a\u6216\u9519\u8bef\u7684\u65b9\u5f0f\u63d0\u793a\uff0c\u7f16\u8bd1\u9519\u8bef\u5c06 block \u7f16\u8bd1\uff0c\u4ece\u800c\u8feb\u4f7f\u7528\u6237\u5728\u7f16\u8bd1\u9636\u6bb5\u8fdb\u884c\u4fee\u6539\uff0c\u907f\u514d\u5c06\u95ee\u9898\u5e26\u5165\u8fd0\u884c\u65f6\u9020\u6210\u5f71\u54cd\u3002\\n\\n\u5bf9\u4e8e\u517c\u5bb9\u7684\u5e73\u53f0\u4fa7\u8c03\u6574\uff0c\u901a\u5e38\u5728\u540e\u7aef\u7ed3\u6784\u4f53\u4fee\u6539\u5bfc\u5165\u7684\u539f\u5b50\u5b9a\u4e49\u6587\u4ef6\u5373\u53ef\u3002\u5bf9\u4e8e KCL \u89e3\u91ca\u5668\u81ea\u8eab\u7684\u53d8\u5316\uff0c\u6211\u4eec\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\u3001\u6a21\u7cca\u6d4b\u8bd5\u7b49\u8fdb\u884c\u9a8c\u8bc1\uff0c\u5bf9\u4e8e plugin \u7684\u53d8\u66f4\u901a\u8fc7 plugin \u81ea\u8eab\u7684\u6d4b\u8bd5\u9a8c\u8bc1\u3002KCL \u89e3\u91ca\u5668\u53ca plugin \u7684\u53d8\u5316\u901a\u8fc7\u9700\u8981 Konfig \u4ee3\u7801\u5e93\u7684 UT\u3001IT \u8fdb\u884c\u6d4b\u8bd5\u9a8c\u8bc1\uff0c\u4fdd\u969c\u5df2\u6709\u4ee3\u7801\u6b63\u5e38\u5de5\u4f5c\u3002\u5728\u7ecf\u8fc7\u6d4b\u8bd5\u9a8c\u8bc1\u540e\uff0c\u53d1\u8d77 Pull Request \u901a\u8fc7 code review \u8bc4\u5ba1\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/18.png)\\n\\n\\n\u6211\u4eec\u518d\u6765\u7b80\u5355\u68b3\u7406\u5e94\u7528\u4fa7\u534f\u540c\u7684\u573a\u666f\u3002\u5047\u8bbe\u5b58\u5728\u57fa\u7ebf\u914d\u7f6e\u53ca\u751f\u4ea7\u73af\u5883\u914d\u7f6e\uff0c\u5728\u6211\u4eec\u7684\u5b9e\u8df5\u4e2d\u5b58\u5728\u4e09\u79cd\u5178\u578b\u573a\u666f\u3002\\n\\n\u7b2c\u4e00\u79cd\u573a\u666f\u4e2d\uff0c\u57fa\u7ebf\u4e0e\u751f\u4ea7\u914d\u7f6e\u4e2d\u5404\u5b9a\u4e49\u4e86\u540c\u540d\u914d\u7f6e\u7684\u4e00\u90e8\u5206\uff0c\u7531 KCL \u81ea\u52a8\u5408\u5e76\u751f\u6210\u6700\u7ec8\u914d\u7f6e\u5757\uff0c\u8fd9\u9002\u7528\u4e8e\u5bf9\u79f0\u914d\u7f6e\u7684\u573a\u666f\u975e\u5e38\u6709\u6548\uff0c\u5982\u679c\u51fa\u73b0\u51b2\u7a81\u5219\u4f1a\u8fdb\u884c\u51b2\u7a81\u62a5\u9519\u3002\\n\\n\u7b2c\u4e8c\u79cd\u573a\u666f\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u5728\u751f\u4ea7\u914d\u7f6e\u4e2d\u8986\u76d6\u57fa\u7ebf\u914d\u7f6e\u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\u9879\uff0c\u7c7b\u4f3c Kustomize \u7684 overlay \u8986\u76d6\u529f\u80fd\uff0c\u4e8b\u5b9e\u4e0a\u8fd9\u662f\u5927\u591a\u6570\u719f\u6089 Kubernetes \u4f7f\u7528\u8005\u7684\u8bc9\u6c42\u3002\\n\\n\u5bf9\u4e8e\u7b2c\u4e09\u79cd\u573a\u666f\uff0c\u7f16\u5199\u8005\u5e0c\u671b\u914d\u7f6e\u5757\u5168\u5c40\u552f\u4e00\uff0c\u4e0d\u80fd\u8fdb\u884c\u4efb\u4f55\u5f62\u5f0f\u7684\u4fee\u6539\uff0c\u82e5\u51fa\u73b0\u540c\u540d\u914d\u7f6e\u5219\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u62a5\u9519\u3002\u5728\u771f\u5b9e\u7684\u573a\u666f\u4e2d\uff0c\u57fa\u7ebf\u4e0e\u5404\u73af\u5883\u914d\u7f6e\u53ef\u7531\u7814\u53d1\u4e0e SRE \u914d\u5408\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u7531 Dev \u72ec\u7acb\u5b8c\u6210\uff0cKusion \u672c\u8eab\u4e0d\u9650\u5236\u4f7f\u7528\u8005\u804c\u80fd\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/19.png)\\n\\n\\n\u901a\u8fc7\u573a\u666f\u5206\u6790\u6211\u4eec\u5bf9 KCL \u6709\u4e86\u521d\u6b65\u7684\u4e86\u89e3\uff0c\u6211\u4eec\u4ee5\u7f16\u7a0b\u8bed\u8a00\u7684\u7406\u8bba\u3001\u6280\u672f\uff0c\u4e91\u539f\u751f\u5e94\u7528\u573a\u666f\u4e09\u65b9\u9762\u4e3a\u8f93\u5165\u8bbe\u8ba1 KCL\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u7b80\u5355\u6709\u6548\u7684\u6280\u672f\u624b\u6bb5\u652f\u6491\u5e73\u53f0\u4fa7\u3001\u5e94\u7528\u4fa7\u5b8c\u6210\u57fa\u7840\u8bbe\u65bd\u63cf\u8ff0\uff0c\u5c06\u95ee\u9898\u5c3d\u53ef\u80fd\u66b4\u9732\u5728 KCL \u7f16\u8bd1\u3001\u6d4b\u8bd5\u9636\u6bb5\uff0c\u4ee5\u51cf\u5c11\u7ebf\u4e0a\u8fd0\u884c\u65f6\u7684\u95ee\u9898\u9891\u6b21\u3002\u6b64\u5916\u6211\u4eec\u63d0\u4f9b\u4e86\u4fbf\u5229\u7684\u8bed\u8a00\u80fd\u529b\u548c\u5de5\u5177\u5e2e\u52a9\u4e0d\u540c\u7684\u4f7f\u7528\u7fa4\u4f53\u66f4\u9ad8\u6548\u7684\u5b8c\u6210\u5176\u5de5\u4f5c\uff0c\u5e76\u901a\u8fc7\u5de5\u7a0b\u5316\u7684\u65b9\u5f0f\u7ec4\u7ec7\u3001\u5171\u4eab\u4ee3\u7801\uff0c\u5bf9\u63a5 Kubernetes API \u751f\u6001\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/20.png)\\n\\n\\n## 5. \u62bd\u8c61\u6a21\u578b\\n\\n\u901a\u8fc7\u5bf9 Kusion \u843d\u5730\u96c6\u6210\u3001\u534f\u540c\u7f16\u7a0b\u573a\u666f\u7684\u5206\u6790\uff0c\u6211\u4eec\u4e86\u89e3\u5230 Kusion \u6280\u672f\u7684\u7ec4\u6210\u573a\u666f\u53ca\u4f7f\u7528\u65b9\u5f0f\u3002\u6211\u4eec\u518d\u6765\u770b\u770b Kusion \u5173\u952e\u62bd\u8c61\u6a21\u578b\u3002\\n\\n\u6211\u4eec\u5148\u6765\u770b KCL \u4ee3\u7801\u7684\u62bd\u8c61\u6a21\u578b\u3002\u4ee5\u4e0b\u56fe\u4e3a\u4f8b\uff0c\u9996\u5148 KCL \u4ee3\u7801\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5f62\u6210\u4e24\u5f20\u6709\u5411\u65e0\u73af\u56fe\uff0c\u5206\u522b\u5bf9\u5e94\u7ed3\u6784\u4f53\u5185\u90e8\u58f0\u660e\u4ee3\u7801\u53ca\u7ed3\u6784\u4f53\u4f7f\u7528\u58f0\u660e\u3002\u7f16\u8bd1\u8fc7\u7a0b\u53ef\u4ee5\u7b80\u5355\u5206\u4e3a\u5c55\u5f00\u3001\u5408\u5e76\u3001\u4ee3\u6362\u4e09\u6b65\u3002\u901a\u8fc7\u8fd9\u6837\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u5728\u7f16\u8bd1\u65f6\u5b8c\u6210\u4e86\u5927\u90e8\u5206\u4ee3\u6362\u8fd0\u7b97\uff0c\u6700\u7ec8\u8fd0\u884c\u65f6\u8fdb\u884c\u5c11\u91cf\u8ba1\u7b97\u5373\u53ef\u5f97\u5230\u6700\u7ec8\u7684\u89e3\u3002\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u540c\u6b65\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u548c\u503c\u7684\u68c0\u67e5\uff0c\u4ed6\u4eec\u7684\u533a\u522b\u662f\u7c7b\u578b\u68c0\u67e5\u662f\u505a\u6cdb\u5316\uff0c\u53d6\u504f\u5e8f\u4e0a\u786e\u754c\uff0c\u503c\u68c0\u67e5\u662f\u505a\u7279\u5316\uff0c\u53d6\u504f\u5e8f\u4e0b\u786e\u754c\u3002 >\\n\\n![](/img/blog/2021-05-18-kusion-intro/21.png)\\n\\n\u5bf9\u4e8e KCLVM \u7684\u89e3\u91ca\u5668\uff0c\u6211\u4eec\u91c7\u7528\u4e86\u6807\u51c6\u7684\u5206\u5c42\u89e3\u8026\u7684\u8bbe\u8ba1\u65b9\u5f0f\uff0c\u7531 parser\u3001compiler\u3001VM \u4e09\u90e8\u5206\u7ec4\u6210\u3002\u6211\u4eec\u5e0c\u671b\u5c3d\u53ef\u80fd\u7684\u5728\u7f16\u8bd1\u65f6\u5b8c\u6210\u5de5\u4f5c\uff0c\u4f8b\u5982\u56fe\u7684\u5c55\u5f00\u3001\u4ee3\u6362\uff0c\u7c7b\u578b\u7684\u68c0\u67e5\u3001\u63a8\u5bfc\u7b49\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u6301 VM \u90e8\u5206\u5c3d\u53ef\u80fd\u7b80\u5355\u3002\u540e\u7eed\u6211\u4eec\u5c06\u5728 KCLVM compiler \u4e2d\u652f\u6301\u5bf9 WASM \u4e2d\u95f4\u8868\u793a\u7684\u7f16\u8bd1\u652f\u6301\u3002\u6b64\u5916\u6211\u4eec\u901a\u8fc7 plugin \u673a\u5236\u652f\u6301\u5bf9 VM \u8fd0\u884c\u65f6\u80fd\u529b\u7684\u6269\u5c55\uff0c\u5e76\u8003\u8651\u4e86\u5bf9 LSP Server \u7684\u652f\u6301\u4ee5\u964d\u4f4e IDE\u3001\u7f16\u8f91\u5668\u652f\u6301\u6210\u672c\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/22.png)\\n\\n\\n\u5728\u5de5\u7a0b\u5316\u65b9\u9762\uff0c\u6211\u4eec\u901a\u8fc7 project\u3001stack\u3001component \u4e09\u7ea7\u65b9\u5f0f\u7ec4\u7ec7 KCL \u4ee3\u7801\u3002\u5f53\u4ee3\u7801\u6620\u5c04\u5230 Kubernetes \u96c6\u7fa4\u65f6\uff0cKusion \u652f\u6301\u4e24\u79cd\u6620\u5c04\u65b9\u5f0f\u3002\\n\\n\u7b2c\u4e00\u79cd\u65b9\u5f0f\u652f\u6301\u5c06 stack \u6620\u5c04\u4e3a namespace\uff0ccomponent \u5728 namespace \u5185\u5b58\u5728\uff0c\u5373 stack \u5185\u5171\u4eab\u8d44\u6e90\u914d\u989d\uff0ccomponent \u95f4\u901a\u8fc7 SDN \u53ca Mesh \u80fd\u529b\u505a\u9694\u79bb\uff0c\u8fd9\u662f\u793e\u533a\u6bd4\u8f83\u5e38\u89c1\u7684\u4e00\u79cd\u5b9e\u8df5\u65b9\u5f0f\u3002\\n\\n\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u5c06 component \u6620\u5c04\u4e3a namespace\uff0cstack \u901a\u8fc7 label \u6807\u8bc6\uff0c\u901a\u8fc7 SA \u7ba1\u7406\u6743\u9650\uff0c\u8d44\u6e90\u914d\u989d\u5b9a\u4e49\u5728 component \u7ef4\u5ea6\uff0ccomponent \u95f4\u901a\u8fc7 namespace \u7684\u9694\u79bb\u80fd\u529b\u505a\u9694\u79bb\uff0c\u8fd9\u662f\u8682\u8681\u76ee\u524d\u7ebf\u4e0a\u73af\u5883\u7684\u5b9e\u8df5\u65b9\u5f0f\u3002\u65e0\u8bba\u5982\u4f55\u6620\u5c04\uff0c\u7528\u6237\u65e0\u9700\u611f\u77e5\u7269\u7406\u96c6\u7fa4\u5bf9\u63a5\u53ca\u5207\u6362\u7ec6\u8282\u3002\u6b64\u5916\uff0cKCL \u4ee3\u7801\u4e2d\u8d44\u6e90\u5b9a\u4e49\u90fd\u53ef\u4ee5\u901a\u8fc7\u552f\u4e00\u7684\u8d44\u6e90 ID \u5b9a\u4f4d\uff0c\u8fd9\u4e5f\u662f\u5bf9\u4ee3\u7801\u8fdb\u884c\u201c\u589e\u5220\u6539\u67e5\u201d\u7684\u57fa\u7840\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/23.png)\\n\\n\\n\u4e3a\u4e86\u652f\u6301\u4e0a\u8ff0\u7684\u9694\u79bb\u53ca\u6620\u5c04\u903b\u8f91\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86 KusionCtl \u5de5\u5177\u5e2e\u52a9\u7528\u6237\u5b8c\u6210\u9879\u76ee\u7ed3\u6784\u521d\u59cb\u5316\u3001Kubernetes \u96c6\u7fa4\u6620\u5c04\u3001\u6267\u884c\u72b6\u6001\u8ddf\u8e2a\u53ca\u5c55\u793a\u3001Identity \u6743\u9650\u96c6\u6210\u7b49\u5e38\u7528\u529f\u80fd\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 KusionCtl \u5b8c\u6210\u7814\u53d1\u3001\u6d4b\u8bd5\u73af\u5883\u7684\u6267\u884c\u548c\u9a8c\u8bc1\u5de5\u4f5c\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/24.png)\\n\\n\\n\u5bf9\u4e8e\u7ebf\u4e0a\u73af\u5883\uff0c\u6211\u4eec\u66f4\u63a8\u8350\u4f7f\u7528\u57fa\u4e8e Kusion \u7684\u8fd0\u7ef4\u4ea7\u54c1\u8fdb\u884c\u53d8\u66f4\u64cd\u4f5c\u3002\u6211\u4eec\u5e0c\u671b\u901a\u8fc7 KCL \u4ee3\u7801\u5f00\u653e\u3001\u900f\u660e\u3001\u58f0\u660e\u5f0f\u3001\u610f\u56fe\u5bfc\u5411\u3001\u5206\u5c42\u89e3\u8026\u7684\u5b9a\u4e49\u57fa\u7840\u8bbe\u65bd\uff0c\u672c\u8d28\u4e0a\u662f\u9762\u5411\u6570\u636e\u53ca\u5176\u7ea6\u675f\u7684\u4e00\u79cd\u534f\u540c\u5de5\u4f5c\uff0c\u53d8\u66f4\u662f\u4e00\u79cd\u6570\u636e\u7684\u6d41\u52a8\u3002\u6211\u4eec\u901a\u8fc7\u524d\u7f6e\u7684\u9884\u7f16\u8bd1\u3001\u8ba1\u7b97\u3001\u9a8c\u8bc1\uff0c\u6700\u7ec8\u5c06\u6570\u636e\u4ea4\u4ed8\u5230\u5404\u73af\u5883\u7684\u8fd0\u884c\u65f6\uff0c\u76f8\u6bd4\u4e8e\u7ecf\u5178\u547d\u4ee4\u5f0f\u7cfb\u7edf\u4e2d\u8ba1\u7b97\u903b\u8f91\u6d41\u52a8\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u6700\u5927\u7a0b\u5ea6\u907f\u514d\u590d\u6742\u547d\u4ee4\u5f0f\u8ba1\u7b97\u9020\u6210\u7684\u8fd0\u884c\u65f6\u6570\u636e\u9519\u8bef\uff0c\u7279\u522b\u662f\u5f53\u8ba1\u7b97\u903b\u8f91\u53d1\u751f\u53d8\u66f4\u65f6\uff0c\u8fd9\u79cd\u8fd0\u884c\u65f6\u8ba1\u7b97\u9519\u8bef\u7684\u7ed3\u679c\u901a\u5e38\u90fd\u662f\u4e00\u6b21\u7ebf\u4e0a\u6545\u969c\u3002\\n\\n\u6700\u540e\uff0c\u6211\u4eec\u6765\u770b\u4e00\u79cd Kusion \u601d\u8def\u7684\u6280\u672f\u67b6\u6784\uff0c\u6211\u4eec\u4ecd\u7136\u4ee5\u63a7\u5236\u5668\u3001\u4e1a\u52a1\u5c42\u3001\u7f16\u6392\u5c42\u3001\u4efb\u52a1\u53ca\u7ba1\u9053\u7684\u5206\u5c42\u903b\u8f91\u6765\u770b\u3002\u81ea\u4e0b\u800c\u4e0a\u7684\uff0c\u7531 Kubernetes API Server \u6536\u655b\u4e86\u7ba1\u9053\u5e76\u63d0\u4f9b\u4e86\u539f\u751f\u8d44\u6e90\u5b9a\u4e49\uff0c\u5e76\u901a\u8fc7 CRD & Operator \u8fdb\u884c\u6269\u5c55\u63d0\u4f9b\u7a33\u5b9a\u7684\u539f\u5b50\u4efb\u52a1\u5b9a\u4e49\u3002\u4ece\u6211\u4e2a\u4eba\u7684\u89d2\u5ea6\u770b\uff0cOperator \u5982\u5176\u540d\u7ea6\u201c\u64cd\u4f5c\u5458\u201d\uff0c\u91cd\u590d\u7740\u63a5\u6536\u8ba2\u5355\u3001\u6267\u884c\u64cd\u4f5c\u7684\u7b80\u5355\u5faa\u73af\uff0c\u8ba2\u5355\u672a\u5b8c\u6210\u5219\u6301\u7eed\u64cd\u4f5c\u3002\\n\\nOperator \u5e94\u5c3d\u53ef\u80fd\u4fdd\u6301\u7b80\u5355\uff0c\u907f\u514d\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\u62c6\u89e3\u3001\u63a7\u5236\u903b\u8f91\u3001\u72b6\u6001\u673a\uff0c\u540c\u65f6\u907f\u514d\u56e0\u4e3a\u5fae\u5c0f\u7684\u5dee\u5f02\u521b\u5efa\u65b0\u7684 Operator \u6216\u901a\u8fc7 Operator \u505a\u5355\u7eaf\u7684\u6570\u636e\u3001YAML \u8f6c\u6362\u3002Operator \u4f5c\u4e3a\u6536\u655b\u57fa\u7840\u8bbe\u65bd\u539f\u5b50\u80fd\u529b\u7684\u5b58\u5728\uff0c\u5e94\u5c3d\u91cf\u5185\u805a\u3001\u7a33\u5b9a\u3002\u5728\u4e1a\u52a1\u5c42\u3001\u7f16\u6392\u5c42\uff0c\u6211\u4eec\u901a\u8fc7 KCL \u4ee3\u7801\u5728 Konfig \u4ed3\u5e93\u4e2d\u7f16\u5199\uff0c\u5e76\u7ed3\u5408 GitOps \u652f\u6301\u5e94\u7528\u7c92\u5ea6\u7684\u53d8\u66f4\u3001\u7f16\u8bd1\u3001\u6d4b\u8bd5\u3001\u9a8c\u8bc1\u3002\u63a7\u5236\u5668\u5c42\u9ad8\u5ea6\u5f15\u64ce\u5316\uff0c\u805a\u7126\u81ea\u52a8\u5316\u903b\u8f91\uff0c\u6839\u636e\u4e1a\u52a1\u573a\u666f\u9700\u8981\u5b9a\u5236\u63a7\u5236\u5668\u53ca GUI \u4ea7\u54c1\u754c\u9762\u3002\u5e94\u7528\u7684\u914d\u7f6e\u4ee3\u7801\u201c\u7ec4\u4ef6\u201d\u7531\u591a\u4e2a\u63a7\u5236\u5668\u5171\u4eab\u590d\u7528\uff0c\u4f8b\u5982\u5efa\u7ad9\u3001\u53d1\u5e03\u3001\u90e8\u5206\u8fd0\u7ef4\u90fd\u5c06\u4f9d\u8d56\u5e94\u7528 AppConfiguration \u914d\u7f6e\u4ee3\u7801\u5757\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/25.png)\\n\\n\\n## 6. \u603b\u7ed3 & \u5c55\u671b\\n\\n\u6700\u540e\uff0c\u6211\u4eec\u5bf9\u5f00\u653e\u534f\u540c\u6280\u672f\u5de5\u4f5c\u505a\u4e00\u4e2a\u603b\u7ed3\u3002\\n\\n\u6211\u4eec\u5e38\u8bf4 Kubernetes \u662f\u4e91\u8ba1\u7b97\u7684 Linux/Unix\uff0c\u76f8\u6bd4\u4e8e Unix \u4e30\u5bcc\u7684\u5916\u56f4\u914d\u5957\u751f\u6001\uff0cKubernetes \u5728\u914d\u5957\u6280\u672f\u80fd\u529b\u4e0a\u8fd8\u6709\u5f88\u957f\u7684\u8def\u5f84\u3002\u5bf9\u6bd4\u4e8e\u4f7f\u7528\u4fbf\u5229\u7684 Shell\u3001Tools\uff0c\u6211\u4eec\u8fd8\u7f3a\u5c11\u4e00\u79cd\u7b26\u5408 Kubernetes \u58f0\u660e\u5f0f\u3001\u5f00\u653e\u3001\u5171\u4eab\u8bbe\u8ba1\u7406\u5ff5\u7684\u8bed\u8a00\u53ca\u5de5\u5177\uff0cKusion \u5e0c\u671b\u80fd\u5728\u8fd9\u4e00\u9886\u57df\u6709\u6240\u5e2e\u52a9\uff0c\u63d0\u5347\u57fa\u7840\u8bbe\u65bd\u7684\u5f00\u653e\u7a0b\u5ea6\u53ca\u4f7f\u7528\u6548\u7387\uff0c\u6613\u4e8e\u5171\u4eab\u3001\u534f\u540c\uff0c\u63d0\u5347\u7a33\u5b9a\u6027\uff0c\u7b80\u5316\u4e91\u539f\u751f\u6280\u672f\u8bbe\u65bd\u7684\u63a5\u5165\u65b9\u5f0f\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/26.png)\\n\\n\\n\u6211\u4eec\u7684\u63a2\u7d22\u548c\u5b9e\u8df5\u4ecd\u7136\u5728\u4e00\u4e2a\u521d\u7ea7\u9636\u6bb5\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7 Kusion \u7684\u6280\u672f\u548c\u670d\u52a1\u80fd\u529b\u5728\u8fd0\u7ef4\u3001\u53ef\u4fe1\u3001\u4e91\u539f\u751f\u67b6\u6784\u6f14\u8fdb\u65b9\u9762\u8d77\u5230\u79ef\u6781\u7684\u4f5c\u7528\u3002\\n\\n\u6211\u4eec\u5e0c\u671b\u63a8\u8fdb\u771f\u6b63\u7684\u57fa\u7840\u8bbe\u65bd\u4ee3\u7801\u5316\uff0c\u4fc3\u6210\u8de8\u56e2\u961f\u7684 DevOps\uff0c\u6210\u4e3a\u6301\u7eed\u90e8\u7f72\u4e0e\u8fd0\u7ef4\u7684\u6280\u672f\u652f\u6491\u3002\u5728\u53ef\u4fe1\u65b9\u9762\uff0c\u7b56\u7565\u53ca\u4ee3\u7801\u3001\u53ef\u4fe1\u96c6\u6210\u3001\u6807\u51c6\u5316\u7684\u652f\u6491\u662f\u6211\u4eec\u540e\u7eed\u7684\u5de5\u4f5c\u91cd\u70b9\u4e4b\u4e00\uff0c\u7279\u522b\u662f\u4e0e\u7b56\u7565\u5f15\u64ce\u7684\u7ed3\u5408\uff0c\u662f\u5f00\u653e\u53ef\u4fe1\u6280\u672f\u80fd\u529b\u7684\u5173\u952e\u6b65\u9aa4\u3002\\n\\n\u5728\u4e91\u539f\u751f\u67b6\u6784\u65b9\u9762\uff0c\u6211\u4eec\u5c06\u6301\u7eed\u63a8\u8fdb\u67b6\u6784\u73b0\u4ee3\u5316\u7684\u6f14\u8fdb\uff0c\u901a\u8fc7\u6280\u672f\u624b\u6bb5\u652f\u6301\u66f4\u591a\u4e0a\u5c42\u81ea\u52a8\u5316\u4ea7\u54c1\u4e1a\u52a1\u7684\u5feb\u901f\u521b\u65b0\uff0c\u540c\u65f6\u901a\u8fc7\u7edf\u4e00\u7684\u6d41\u7a0b\u3001\u4f01\u4e1a\u7ea7\u7684\u6280\u672f\u80fd\u529b\u652f\u6301\u670d\u52a1\u597d\u57fa\u7840\u8bbe\u65bd\u5e94\u7528\u573a\u666f\u3002\\n\\n![](/img/blog/2021-05-18-kusion-intro/27.png)\\n\\n\\n\u7eb5\u89c2\u5386\u53f2\uff0c\u6280\u672f\u603b\u662f\u671d\u7740\u63d0\u9ad8\u6574\u4f53\u793e\u4f1a\u534f\u4f5c\u6548\u80fd\u6f14\u8fdb\u3002 Kusion \u5e26\u6765\u7684\u4e91\u539f\u751f\u5f00\u653e\u534f\u540c\u65e0\u7591\u662f\u8fd9\u6761\u6734\u7d20\u89c4\u5f8b\u518d\u6b21\u53d1\u6325\u6548\u529b\u7684\u6ce8\u811a\u3002"}]}')}}]);