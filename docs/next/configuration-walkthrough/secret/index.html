<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-docs docs-doc-id-configuration-walkthrough/secret" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Secrets | Transform Your Internal Developer Platform with KusionStack</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kusionstack.io/docs/next/configuration-walkthrough/secret"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="Secrets | Transform Your Internal Developer Platform with KusionStack"><meta data-rh="true" name="description" content="Secrets are used to store sensitive data like passwords, API keys, TLS certificates, tokens, or other credentials. Kusion provides multiple secret types, and makes it easy to be consumed in containers."><meta data-rh="true" property="og:description" content="Secrets are used to store sensitive data like passwords, API keys, TLS certificates, tokens, or other credentials. Kusion provides multiple secret types, and makes it easy to be consumed in containers."><link data-rh="true" rel="icon" href="/img/kusionstack-icon-square.png"><link data-rh="true" rel="canonical" href="https://kusionstack.io/docs/next/configuration-walkthrough/secret"><link data-rh="true" rel="alternate" href="https://kusionstack.io/docs/next/configuration-walkthrough/secret" hreflang="en"><link data-rh="true" rel="alternate" href="https://kusionstack.io/zh/docs/next/configuration-walkthrough/secret" hreflang="zh"><link data-rh="true" rel="alternate" href="https://kusionstack.io/docs/next/configuration-walkthrough/secret" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Transform Your Internal Developer Platform with KusionStack RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Transform Your Internal Developer Platform with KusionStack Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XC4Z27TLBR"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XC4Z27TLBR",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Transform Your Internal Developer Platform with KusionStack" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f3805d8a.css">
<link rel="preload" href="/assets/js/runtime~main.e46b86c6.js" as="script">
<link rel="preload" href="/assets/js/main.be76d7cc.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">‚≠êÔ∏è If you like KusionStack, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/KusionStack/kusion">Github</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kusionstack-icon.png" alt="KusionStack Icon" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/kusionstack-icon-white.png" alt="KusionStack Icon" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">KusionStack</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/next/">Kusion</a><a class="navbar__item navbar__link" href="/karpor/">Karpor</a><a class="navbar__item navbar__link" href="/kuperator/introduction/">Kuperator</a><a class="navbar__item navbar__link" href="/ctrlmesh/intro/">Ctrlmesh</a><a class="navbar__item navbar__link" href="/community/intro/">Community</a><a href="https://blog.kusionstack.io" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/">v0.13 üöß</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/configuration-walkthrough/secret">v0.13 üöß</a></li><li><a class="dropdown__link" href="/docs/configuration-walkthrough/secret">v0.12</a></li><li><a class="dropdown__link" href="/docs/v0.11/configuration-walkthrough/secret">v0.11</a></li><li><a class="dropdown__link" href="/docs/v0.10/configuration-walkthrough/secret">v0.10</a></li><li><a class="dropdown__link" href="/docs/v0.9/">v0.9</a></li></ul></div><a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-docs-current,docs-kuperator-v0.6,docs-ctrlmesh-v0.1,docs-community-current,docs-karpor-v0.4"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/">What is Kusion?</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/getting-started/install-kusion">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/concepts/overview">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/next/configuration-walkthrough/overview">Configuration Walkthrough</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/configuration-walkthrough/overview">Configuration File Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/configuration-walkthrough/kcl-basics">KCL Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/configuration-walkthrough/base-override">Base and Override</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/configuration-walkthrough/workload">Workload</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/configuration-walkthrough/networking">Application Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/configuration-walkthrough/databse">Managed Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/configuration-walkthrough/secret">Secrets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/configuration-walkthrough/monitoring">Application Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/configuration-walkthrough/operational-rules">Operational Rules</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/user-guides/cloud-resources/database">User Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/reference/commands/">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/faq/install-error">FAQ</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Transform Your Internal Developer Platform with KusionStack<!-- --> <b>v0.13 üöß</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/configuration-walkthrough/secret">latest version</a></b> (<!-- -->v0.12<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Configuration Walkthrough</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Secrets</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v0.13 üöß</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Secrets</h1><p>Secrets are used to store sensitive data like passwords, API keys, TLS certificates, tokens, or other credentials. Kusion provides multiple secret types, and makes it easy to be consumed in containers.</p><p>For application dependent cloud resources that are managed by Kusion, their credentials are automatically managed by Kusion (generated and injected into application runtime environment variable). You shouldn&#x27;t have to manually create those.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-secrets-in-workload">Using secrets in workload<a href="#using-secrets-in-workload" class="hash-link" aria-label="Direct link to Using secrets in workload" title="Direct link to Using secrets in workload">‚Äã</a></h2><p>Secrets must be defined in AppConfiguration. The values can be generated by Kusion or reference existing secrets stored in third-party vault. Secrets can be consumed in containers by referencing them through the <code>secret://&lt;secret_name&gt;/&lt;key&gt;</code> URI syntax.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consume-secret-in-an-environment-variable">Consume secret in an environment variable<a href="#consume-secret-in-an-environment-variable" class="hash-link" aria-label="Direct link to Consume secret in an environment variable" title="Direct link to Consume secret in an environment variable">‚Äã</a></h3><p>You can consume the data in Secrets as environment variable in your container. For example the db container uses an environment variable to set the root password.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import kam.v1.app_configuration as ac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.container as c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.secret as sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sampledb: ac.AppConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workload: service.Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        containers: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;db&quot;: c.Container {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image: &quot;mysql&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                env: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # Consume db-root-password secret in environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;ROOT_PASSWORD&quot;: &quot;secret://db-root-password/token&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # Secrets used to generate token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secrets: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;init-info&quot;: sec.Secret {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: &quot;token&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The example shows the secret <code>root-password</code> being consumed as an environment variable in the db container. The secret is of type token and will automatically be generated at runtime by Kusion.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="consume-all-secret-keys-as-environment-variables">Consume all secret keys as environment variables<a href="#consume-all-secret-keys-as-environment-variables" class="hash-link" aria-label="Direct link to Consume all secret keys as environment variables" title="Direct link to Consume all secret keys as environment variables">‚Äã</a></h3><p>Sometimes your secret contains multiple data that need to be consumed as environment variables. The example below shows how to consume all the values in a secret as environment variables named after the keys.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import kam.v1.app_configuration as ac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.container as c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.secret as sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sampledb: ac.AppConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workload: service.Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        containers: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;db&quot;: c.Container {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image: &quot;mysql&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                env: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # Consume all init-info secret keys as environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;secret://init-info&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # Secrets used to init mysql instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secrets: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;init-info&quot;: sec.Secret {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: &quot;opaque&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;ROOT_PASSWORD&quot;: &quot;admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will set the environment variable &quot;ROOT_PASSWORD&quot; to the value &quot;admin&quot; in the db container.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-secrets">Types of secrets<a href="#types-of-secrets" class="hash-link" aria-label="Direct link to Types of secrets" title="Direct link to Types of secrets">‚Äã</a></h2><p>Kusion provides multiple types of secrets to application developers.</p><ol><li>Basic: Used to generate and/or store usernames and passwords.</li><li>Token: Used to generate and/or store secret strings for password.</li><li>Opaque: A generic secret that can store arbitrary user-defined data.</li><li>Certificate: Used to store a certificate and its associated key that are typically used for TLS.</li><li>External: Used to retrieve secret form third-party vault.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-secrets">Basic secrets<a href="#basic-secrets" class="hash-link" aria-label="Direct link to Basic secrets" title="Direct link to Basic secrets">‚Äã</a></h3><p>Basic secrets are defined in the secrets block with the type &quot;basic&quot;.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import kam.v1.app_configuration as ac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.container as c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.secret as sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sampleapp: ac.AppConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workload: service.Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secrets: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;auth-info&quot;: sec.Secret {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: &quot;basic&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;username&quot;: &quot;admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;password&quot;: &quot;******&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The basic secret type is typically used for basic authentication. The key names must be username and password. If one or both of the fields are defined with a non-empty string, those values will be used. If the empty string, the default value, is used Acorn will generate random values for one or both.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="token-secrets">Token secrets<a href="#token-secrets" class="hash-link" aria-label="Direct link to Token secrets" title="Direct link to Token secrets">‚Äã</a></h3><p>Token secrets are useful for generating a password or secure string used for passwords when the user is already known or not required.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import kam.v1.app_configuration as ac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.container as c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.secret as sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sampleapp: ac.AppConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workload: service.Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secrets: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;api-token&quot;: sec.Secret {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: &quot;token&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;token&quot;: &quot;&lt;the_api_token&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The token secret type must be defined. The <code>token</code> field in the data object is optional and if left empty Kusion will generate the token, which is 54 characters in length by default. If the <code>token</code> is defined that value will always be used.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="opaque-secrets">Opaque secrets<a href="#opaque-secrets" class="hash-link" aria-label="Direct link to Opaque secrets" title="Direct link to Opaque secrets">‚Äã</a></h3><p>Opaque secrets have no defined structure and can have arbitrary key value pairs. </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import kam.v1.app_configuration as ac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.container as c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.secret as sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sampleapp: ac.AppConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workload: service.Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secrets: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;my-secret&quot;: sec.Secret {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: &quot;opaque&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="certificate-secrets">Certificate secrets<a href="#certificate-secrets" class="hash-link" aria-label="Direct link to Certificate secrets" title="Direct link to Certificate secrets">‚Äã</a></h3><p>Certificate secrets are useful for storing a certificate and its associated key. One common use for TLS Secrets is to configure encryption in transit for an Ingress, but you can also use it with other resources or directly in your workload.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import kam.v1.app_configuration as ac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.container as c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.secret as sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sampleapp: ac.AppConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workload: service.Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secrets: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;server-cert&quot;: sec.Secret {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: &quot;certificate&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # Please do not put private keys in configuration files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;tls.crt&quot;: &quot;The cert file content&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;tls.key&quot;: &quot;The key file content&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-secrets">External secrets<a href="#external-secrets" class="hash-link" aria-label="Direct link to External secrets" title="Direct link to External secrets">‚Äã</a></h3><p>As a general principle, storing secrets in a plain text configuration file is highly discouraged, keeping secrets outside of Git is especially important for future-proofing, even encrypted secrets are not recommended to check into Git. The most common approach is to store secrets in a third-party vault (such as Hashicorp Vault, AWS Secrets Manager and Azure Key Vault, etc) and retrieve the secret in the runtime only. External secrets are used to retrieve sensitive data from external secret store to make it easy to be consumed in containers.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import kam.v1.app_configuration as ac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.container as c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.secret as sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sampleapp: ac.AppConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workload: service.Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secrets: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;api-access-token&quot;: sec.Secret {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: &quot;external&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    # Please do not put private keys in configuration files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;accessToken&quot;: &quot;ref://api-auth-info/accessToken?version=1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The value field in data object follow <code>ref://PATH[?version=&lt;VERSION&gt;]</code> URI syntax. <code>PATH</code> is the provider-specific path for the secret to be retried. Kusion provides out-of-the-box integration with <code>Hashicorp Vault</code>, <code>AWS Secrets Manager</code>, <code>Azure Key Vault</code> and <code>Alicloud Secrets Manager</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="immutable-secrets">Immutable secrets<a href="#immutable-secrets" class="hash-link" aria-label="Direct link to Immutable secrets" title="Direct link to Immutable secrets">‚Äã</a></h2><p>You can also declare a secret as immutable to prevent it from being changed accidentally.</p><p>To declare a secret as immutable:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import kam.v1.app_configuration as ac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.container as c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import service.secret as sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sampleapp: ac.AppConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workload: service.Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        secrets: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;my-secret&quot;: sec.Secret {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                # ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                immutable: True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can change a secret from mutable to immutable but not the other way around. That is because the Kubelet will stop watching secrets that are immutable. As the name suggests, you can only delete and re-create immutable secrets but you cannot change them.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/KusionStack/kusionstack.io/blob/main/docs/kusion/4-configuration-walkthrough/7-secret.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-09-29T06:47:53.000Z">Sep 29, 2024</time></b> by <b>ruquanzhao</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/configuration-walkthrough/databse"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Managed Databases</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/configuration-walkthrough/monitoring"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Application Monitoring</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#using-secrets-in-workload" class="table-of-contents__link toc-highlight">Using secrets in workload</a><ul><li><a href="#consume-secret-in-an-environment-variable" class="table-of-contents__link toc-highlight">Consume secret in an environment variable</a></li><li><a href="#consume-all-secret-keys-as-environment-variables" class="table-of-contents__link toc-highlight">Consume all secret keys as environment variables</a></li></ul></li><li><a href="#types-of-secrets" class="table-of-contents__link toc-highlight">Types of secrets</a><ul><li><a href="#basic-secrets" class="table-of-contents__link toc-highlight">Basic secrets</a></li><li><a href="#token-secrets" class="table-of-contents__link toc-highlight">Token secrets</a></li><li><a href="#opaque-secrets" class="table-of-contents__link toc-highlight">Opaque secrets</a></li><li><a href="#certificate-secrets" class="table-of-contents__link toc-highlight">Certificate secrets</a></li><li><a href="#external-secrets" class="table-of-contents__link toc-highlight">External secrets</a></li></ul></li><li><a href="#immutable-secrets" class="table-of-contents__link toc-highlight">Immutable secrets</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Document</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Kusion</a></li><li class="footer__item"><a class="footer__link-item" href="/karpor/">Karpor</a></li><li class="footer__item"><a class="footer__link-item" href="/kuperator/introduction/">Kuperator</a></li><li class="footer__item"><a class="footer__link-item" href="/ctrlmesh/intro/">CtrlMesh</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resource</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.kusionstack.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/kusionstack/shared_invite/zt-19lqcc3a9-_kTNwagaT5qwBE~my5Lnxg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">KCL</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.antgroup.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="160" height="51"><img src="/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="160" height="51"></a></div><div class="footer__copyright">Copyright ¬© 2024 KusionStack Authors</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e46b86c6.js"></script>
<script src="/assets/js/main.be76d7cc.js"></script>
</body>
</html>