<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-operating/manuals/resourceconsist">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">ResourceConsist | Evolve your Internal Developer Platform with KusionStack</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kusionstack.io/docs/operating/manuals/resourceconsist"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ResourceConsist | Evolve your Internal Developer Platform with KusionStack"><meta data-rh="true" name="description" content="Motivation"><meta data-rh="true" property="og:description" content="Motivation"><link data-rh="true" rel="icon" href="/img/kusionstack-icon-square.png"><link data-rh="true" rel="canonical" href="https://kusionstack.io/docs/operating/manuals/resourceconsist"><link data-rh="true" rel="alternate" href="https://kusionstack.io/docs/operating/manuals/resourceconsist" hreflang="en"><link data-rh="true" rel="alternate" href="https://kusionstack.io/docs/operating/manuals/resourceconsist" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RE5E6BQUZV-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Evolve your Internal Developer Platform with KusionStack RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Evolve your Internal Developer Platform with KusionStack Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Evolve your Internal Developer Platform with KusionStack" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.3d8f6753.css">
<link rel="preload" href="/assets/js/runtime~main.1a6637d0.js" as="script">
<link rel="preload" href="/assets/js/main.9b449ecc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like KusionStack, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/KusionStack/kusion">Github</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kusionstack-icon.png" alt="KusionStack Icon" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/kusionstack-icon-white.png" alt="KusionStack Icon" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">KusionStack</b></a><a class="navbar__item navbar__link" docid="intro/kusion-intro" href="/docs/user_docs/intro/overview">Kusion</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/operating/introduction/">Operating</a><a class="navbar__item navbar__link" href="/docs/ctrlmesh/intro/">ControllerMesh</a><a href="https://medium.com/@kusionstack" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/operating/introduction/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/operating/started/install">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/operating/concepts/podopslifecycle">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/operating/manuals/collaset">Manuals</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/operating/manuals/collaset">CollaSet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/operating/manuals/resourceconsist">ResourceConsist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/operating/manuals/podtransitionrule">PodTransitionRule</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Manuals</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ResourceConsist</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>ResourceConsist</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="goals">Goals<a href="#goals" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Making a customized controller can be realized easily, and offering the ability of controllers following PodOpsLifecycle.</p><p>The only thing users need to do to realize a customized controller is writing an adapter implementing ReconcileAdapter.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="non-goals">Non-Goals<a href="#non-goals" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Making resource consist as a pkg like controller-runtime.</p><p>A customized controller can be started by command like &quot;resource-consist enable&quot;.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="proposal">Proposal<a href="#proposal" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-concepts">Key Concepts<a href="#key-concepts" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="employer">Employer<a href="#employer" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><strong>Employer</strong> is the entity responsible for managing and coordinating the utilization of another resource, similar to how a service selects and controls pods.</p><p>Employer can be any kind, and CRD is of course can be used as Employer.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="employee">Employee<a href="#employee" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><strong>Employee</strong> is the resource managed by another resource, like pods selected by service.</p><p>Same with Employer, Employee can be any kind, and CRD is of course can be used as Employee.</p><p>If an adapter implementing ReconcileAdapter and following PodOpsLifecycle, the Employee should be Pod.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-interfacestruct-definitions">Key Interface/Struct Definitions<a href="#key-interfacestruct-definitions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reconcileadapter">ReconcileAdapter<a href="#reconcileadapter" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><strong>ReconcileAdapter</strong> is an interface specifying a set of methods as follows.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ReconcileOptions includes max concurrent reconciles and rate limiter,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// max concurrent reconcile: 5 and DefaultControllerRateLimiter() will be used if ReconcileOptions not implemented.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type ReconcileOptions interface {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetRateLimiter() ratelimiter.RateLimiter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetMaxConcurrentReconciles() int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ReconcileWatchOptions defines what employer and employee is and how controller watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// default employer: Service, default employee: Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type ReconcileWatchOptions interface {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NewEmployer() client.Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NewEmployee() client.Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployerEventHandler() handler.EventHandler</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployeeEventHandler() handler.EventHandler</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployerPredicates() predicate.Funcs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployeePredicates() predicate.Funcs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ReconcileAdapter is the interface that customized controllers should implement.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type ReconcileAdapter interface {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetControllerName() string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NotFollowPodOpsLifeCycle() bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetSelectedEmployeeNames(ctx context.Context, employer client.Object) ([]string, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // GetExpectEmployer and GetCurrentEmployer return expect/current status of employer from related backend provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetExpectEmployer(ctx context.Context, employer client.Object) ([]IEmployer, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetCurrentEmployer(ctx context.Context, employer client.Object) ([]IEmployer, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CreateEmployer(ctx context.Context, employer client.Object, toCreate []IEmployer) ([]IEmployer, []IEmployer, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UpdateEmployer(ctx context.Context, employer client.Object, toUpdate []IEmployer) ([]IEmployer, []IEmployer, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DeleteEmployer(ctx context.Context, employer client.Object, toDelete []IEmployer) ([]IEmployer, []IEmployer, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // GetExpectEmployee and GetCurrentEmployee return expect/current status of employees from related backend provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetExpectEmployee(ctx context.Context, employer client.Object) ([]IEmployee, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetCurrentEmployee(ctx context.Context, employer client.Object) ([]IEmployee, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CreateEmployees(ctx context.Context, employer client.Object, toCreate []IEmployee) ([]IEmployee, []IEmployee, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    UpdateEmployees(ctx context.Context, employer client.Object, toUpdate []IEmployee) ([]IEmployee, []IEmployee, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DeleteEmployees(ctx context.Context, employer client.Object, toDelete []IEmployee) ([]IEmployee, []IEmployee, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A customized controller should realize an adapter implementing the ReconcileAdapter.</p><p>ReconcileOptions and ReconcileWatchOptions Interfaces can be optional implemented, dependent on whether customized controllers need specify some reconcile options like rate limiter.</p><p>Service/Pod will be default Employer/Employee, if ReconcileWatchOptions not implemented. And there is a default Predicate which filters out Services without <strong>Label &quot;kusionstack.io/control&quot;: &quot;true&quot;</strong>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="iemployeriemployee">IEmployer/IEmployee<a href="#iemployeriemployee" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><strong>IEmployer/IEmployee</strong> are interfaces defined as follows.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type IEmployer interface {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetEmployerId() string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetEmployerStatuses() interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployerEqual(employer IEmployer) (bool, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type IEmployee interface {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetEmployeeId() string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetEmployeeName() string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GetEmployeeStatuses() interface{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployeeEqual(employee IEmployee) (bool, error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="podemployeestatuses">PodEmployeeStatuses<a href="#podemployeestatuses" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><strong>PodEmployeeStatuses</strong> is a built-in struct implementing EmployeeStatus.EmployeeStatuses.
ExtraStatus in PodEmployeeStatuses is an interface so that adapters can implement it as they wished. Normally, ExtraStatus is extra info beyond basic pod status related to backend provider, like the traffic status of backend server(pod) under load balancer.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">type PodEmployeeStatuses struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // can be set by calling SetCommonPodEmployeeStatus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ip             string `json:&quot;ip,omitempty&quot;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ipv6           string `json:&quot;ipv6,omitempty&quot;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LifecycleReady bool   `json:&quot;lifecycleReady,omitempty&quot;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // extra info related to backend provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ExtraStatus interface{} `json:&quot;extraStatus,omitempty&quot;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="podavailableconditions">PodAvailableConditions<a href="#podavailableconditions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Used if PodOpsLifecycle followed.</p><p><strong>PodAvailableConditions</strong> is an annotation on pod, indicating what finalizer should be added to achieve service-available state.</p><p>For a pod employed by multiple employers, there will be multiple LifecycleFinalizer should be added, and PodAvailableConditions annotation will record what employers and what finalizers are.</p><p>Webhook will also record PodAvailableConditions in case of Pod creation to avoid Pod reaching service-available state if ResourceConsist controller not record PodAvailableConditions before Pod ready.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const PodAvailableConditionsAnnotation = &quot;pod.kusionstack.io/available-conditions&quot; // indicate the available conditions of a pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type PodAvailableConditions struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ExpectedFinalizers map[string]string `json:&quot;expectedFinalizers,omitempty&quot;` // indicate the expected finalizers of a pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func GenerateLifecycleFinalizerKey(employer client.Object) string {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return fmt.Sprintf(&quot;%s/%s/%s&quot;, employer.GetObjectKind().GroupVersionKind().Kind,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        employer.GetNamespace(), employer.GetName())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func GenerateLifecycleFinalizer(employerName string) string {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b := md5.Sum([]byte(employerName))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return v1alpha1.PodOperationProtectionFinalizerPrefix + &quot;/&quot; + hex.EncodeToString(b[:])[8:24]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-finalizers">Key Finalizers<a href="#key-finalizers" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="lifecyclefinalizer">LifecycleFinalizer<a href="#lifecyclefinalizer" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><strong>LifecycleFinalizer</strong> prefixed with <mark>&quot;prot.podopslifecycle.kusionstack.io&quot;</mark>, is a finalizer on Employee used to following PodOpsLifecycle, removed in preparing period of PodOpsLifecycle and added in completing period of PodOpsLifecycle</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PodOperationProtectionFinalizerPrefix = &quot;prot.podopslifecycle.kusionstack.io&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func GenerateLifecycleFinalizerKey(employer client.Object) string {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return fmt.Sprintf(&quot;%s/%s/%s&quot;, employer.GetObjectKind().GroupVersionKind().Kind,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        employer.GetNamespace(), employer.GetName())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func GenerateLifecycleFinalizer(employerName string) string {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b := md5.Sum([]byte(employerName))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return v1alpha1.PodOperationProtectionFinalizerPrefix + &quot;/&quot; + hex.EncodeToString(b[:])[8:24]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cleanfinalizer">CleanFinalizer<a href="#cleanfinalizer" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p><strong>CleanFinalizer</strong> is a finalizer on Employer, used to bind Employer and Employee.</p><p>CleanFinalizer should be added in the first Reconcile of the resource, and be removed only when there is no more relation between Employer and Employee and during deletion.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    cleanFinalizerPrefix = &quot;resource-consist.kusionstack.io/clean-&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cleanFlz := cleanFinalizerPrefix + employer.GetName()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-logic-of-reconcile-in-resourceconsist-controller">Main Logic of Reconcile in ResourceConsist Controller<a href="#main-logic-of-reconcile-in-resourceconsist-controller" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ensure-clean-finalizer-of-employer">Ensure clean finalizer of Employer<a href="#ensure-clean-finalizer-of-employer" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Clean finalizer will be added to Employer before everything, and all resources related to Employer will be cleaned before clean finalizer removed, so that nothing related to Employer will be remained.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ensure-podavailableconditions-if-podopslifecycle-followed">Ensure PodAvailableConditions if PodOpsLifecycle followed<a href="#ensure-podavailableconditions-if-podopslifecycle-followed" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>An expected LifecycleFinalizer related to Employer will be added into PodAvailableConditions.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-expectcurrent-employeremployee-make-diff-and-do-sync">Get Expect/Current Employer/Employee, make diff, and do sync<a href="#get-expectcurrent-employeremployee-make-diff-and-do-sync" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Adapters should implement these methods, and Resource Consist Controller will call it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tutorials">Tutorials<a href="#tutorials" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p><code>pkg/controllers/alibabacloudslb</code> is an adapter that implements ReconcileAdapter. It follows <strong>PodOpsLifecycle</strong> to handle various scenarios during pod operations, such as creating a new pod, deleting an existing pod, or handling changes to pod configurations. This adapter ensures minimal traffic loss and provides a seamless experience for users accessing services load balanced by Alibaba Cloud SLB.</p><p>In <code>pkg/controllers/alibabacloudslb</code>, the real server is removed from SLB before pod operation in ACK. The LB management and real server management are handled by CCM in ACK. If the cluster is not in ACK or CCM is not working in the cluster, the alibabacloudslb controller should implement additional methods of ReconcileAdapter.</p><p>A demo is implemented in <code>resource_controller_suite_test.go</code>. In the demo controller, the employer is represented as a service and is expected to have the following <strong>DemoServiceStatus</strong>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DemoServiceStatus{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployerId: employer.GetName(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployerStatuses: DemoServiceDetails{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RemoteVIP:    &quot;demo-remote-VIP&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RemoteVIPQPS: 100,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The employee is represented as a pod and is expected to have the following <strong>DemoPodStatus</strong>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DemoPodStatus{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployeeId:   pod.Name,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployeeName: pod.Name,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EmployeeStatuses: PodEmployeeStatuses{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ip: string,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ipv6: string,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        LifecycleReady: bool,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ExtraStatus: PodExtraStatus{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TrafficOn: bool,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TrafficWeight: int,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The DemoResourceProviderClient is a fake client that handles backend provider resources related to the employer/employee (service/pods). In the Demo Controller, <code>demoResourceVipStatusInProvider</code> and <code>demoResourceRsStatusInProvider</code> are mocked as resources in the backend provider.</p><p>These two adapters can be referred to for implementing customized controllers.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/KusionStack/kusionstack.io/blob/main/docs/operating/manuals/resourceconsist.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-10-10T12:22:46.000Z">Oct 10, 2023</time></b> by <b>TonyAdo</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/operating/manuals/collaset"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CollaSet</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/operating/manuals/podtransitionrule"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PodTransitionRule</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#motivation" class="table-of-contents__link toc-highlight">Motivation</a><ul><li><a href="#goals" class="table-of-contents__link toc-highlight">Goals</a></li><li><a href="#non-goals" class="table-of-contents__link toc-highlight">Non-Goals</a></li></ul></li><li><a href="#proposal" class="table-of-contents__link toc-highlight">Proposal</a><ul><li><a href="#key-concepts" class="table-of-contents__link toc-highlight">Key Concepts</a></li><li><a href="#key-interfacestruct-definitions" class="table-of-contents__link toc-highlight">Key Interface/Struct Definitions</a></li><li><a href="#key-finalizers" class="table-of-contents__link toc-highlight">Key Finalizers</a></li><li><a href="#main-logic-of-reconcile-in-resourceconsist-controller" class="table-of-contents__link toc-highlight">Main Logic of Reconcile in ResourceConsist Controller</a></li></ul></li><li><a href="#tutorials" class="table-of-contents__link toc-highlight">Tutorials</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Document</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/user_docs/intro/overview">Kusion</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ctrlmesh/intro/">ControllerMesh</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user_docs/support">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resource</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/kusionstack/shared_invite/zt-19lqcc3a9-_kTNwagaT5qwBE~my5Lnxg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">KCL</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.antgroup.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="160" height="51"><img src="/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="160" height="51"></a></div><div class="footer__copyright">Copyright © 2022 KusionStack Authors</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1a6637d0.js"></script>
<script src="/assets/js/main.9b449ecc.js"></script>
</body>
</html>