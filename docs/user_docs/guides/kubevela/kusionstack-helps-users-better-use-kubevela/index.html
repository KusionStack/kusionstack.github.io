<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">KusionStack Helps Users Better Use KubeVela | Evolve your Internal Developer Platform with KusionStack</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kusionstack.io/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="KusionStack Helps Users Better Use KubeVela | Evolve your Internal Developer Platform with KusionStack"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/kusionstack-icon-square.png"><link data-rh="true" rel="canonical" href="https://kusionstack.io/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela"><link data-rh="true" rel="alternate" href="https://kusionstack.io/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela" hreflang="en"><link data-rh="true" rel="alternate" href="https://kusionstack.io/zh-CN/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://kusionstack.io/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RE5E6BQUZV-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Evolve your Internal Developer Platform with KusionStack RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Evolve your Internal Developer Platform with KusionStack Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Evolve your Internal Developer Platform with KusionStack" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.0b864830.css">
<link rel="preload" href="/assets/js/runtime~main.c394a5fe.js" as="script">
<link rel="preload" href="/assets/js/main.864bd818.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like KusionStack, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/KusionStack/kusion">Github</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kusionstack-icon.png" alt="KusionStack Icon" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/kusionstack-icon-white.png" alt="KusionStack Icon" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">KusionStack</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" docid="intro/kusion-intro" href="/docs/user_docs/intro/">Documentation</a><a class="navbar__item navbar__link" href="/docs/reference/cli/">Reference</a><a class="navbar__item navbar__link" href="/docs/governance/intro/">Governance</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh-CN/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中文（中国）</a></li><li><a href="https://github.com/KusionStack/kusionstack.io/issues/25" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/user_docs/intro/">Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/user_docs/getting-started/">Get Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Get Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/user_docs/concepts/">Architecture &amp; Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture &amp; Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/user_docs/guides/">User Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/user_docs/guides/github-actions/ensure-configuration-code-quality-of-konfig-via-github-actions">GitHub Actions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/user_docs/guides/working-with-k8s/">Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela">KubeVela</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela">KusionStack Helps Users Better Use KubeVela</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/user_docs/guides/prometheus/recording-and-alerting">Prometheus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/user_docs/guides/sensitive-data-solution/hosting-and-retrieving-secrets">Secret as Code</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/user_docs/support/">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/user_docs/guides/"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">KubeVela</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">KusionStack Helps Users Better Use KubeVela</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>KusionStack Helps Users Better Use KubeVela</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>In recent years, Kubernetes has gradually become the de facto standard for cloud-native technology infrastructure, unifying the orchestration and scheduling of infrastructure resources. However, Kubernetes does not provide an operational model from an application-centric perspective, which results in a higher cognitive cost for application developers, impacts the application management experience, and ultimately reduces development efficiency. To address this issue, the <strong>KubeVela</strong> platform and the <strong>KusionStack</strong> technology stack have emerged. </p><p>KubeVela is an excellent application delivery server solution that can serve as a highly available control plane for the centralized management of scalable applications. As a CNCF (Cloud Native Computing Foundation) incubating project, KubeVela has garnered significant attention and participation from a large number of users and developers due to its novel technical concepts and relatively high completion. </p><p>KusionStack is an <strong>application-centric</strong> delivery and operation technology stack that acts as a client entry point for writing and applying application configurations. It enables configuration model abstraction and complexity reduction, configuration field type checking and validation, as well as unified orchestration of Kubernetes and cloud resources. As a result, KubeVela users can benefit from a better experience in areas like hybrid resource operation, team collaboration, and shift-left security. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubevela">KubeVela<a href="#kubevela" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>KubeVela is an out-of-the-box modern application delivery and management platform built on top of Kubernetes clusters, various cloud platforms, and diverse IoT devices. It achieves application delivery and management in hybrid and multi-cloud environments through the <strong>Open Application Model (OAM)</strong>, a modular, scalable, and portable cloud-native application abstraction standard. </p><p><img loading="lazy" alt="KubeVela usage example" src="/assets/images/kubevela_usage_example-af6dca403fb61ab705e5389200d09f99.png" width="1080" height="495" class="img_ev3q"></p><p>KubeVela translates all the components required for application deployment and various operational traits into an infrastructure-agnostic deployment plan. As a control plane application delivery engine, KubeVela is primarily integrated into PaaS (Platform as a Service) platforms in the form of a Kubernetes Custom Resource Definition (CRD) controller. Users can achieve standardized application delivery by writing <strong>KubeVela Application</strong> resource YAML files. A typical KubeVela Application is shown below. </p><p><img loading="lazy" alt="KubeVela application example" src="/assets/images/kubevela_application_example-300b5f259861b1602049e59a758dfad9.png" width="1080" height="571" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kusionstack">KusionStack<a href="#kusionstack" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>KusionStack is an open-source programmable engineering stack to facilitate app-centric development and unified operation, inspired by the phrase <strong>&#x27;Fusion on the Kubernetes&#x27;</strong>. The main motivation is to help platform and app developers to develop and deliver in a self-serviceable, fast, reliable, and collaborative way. </p><p>KusionStack consists of a series of tools and products. Among them, KCL provides programmability similar to modern programming languages, Kusion turns blueprints into reality with powerful engines and orchestration capabilities, and Konfig holds app delivery models and components. Users can choose to use one of them, such as KCL, or use them in combination.</p><ul><li><strong>KCL</strong>: Configuration and policy programming language for application developers, along with its protocols, toolchains, and IDE plugins</li><li><strong>Kusion</strong>: Operation engine, toolchains, service, IDE workspace</li><li><strong>Konfig</strong>: Shared repository of application models and components, and CI suite for GitOps workflows (such as GitHub Actions suite)</li></ul><p><img loading="lazy" alt="KusionStack workflow example" src="/assets/images/kusionstack_workflow_example-3ee073b8ca02fa5f7b20f3e87dd84d18.png" width="1764" height="704" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kusionstack-helps-users-better-use-kubevela-1">KusionStack Helps Users Better Use KubeVela<a href="#kusionstack-helps-users-better-use-kubevela-1" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>In enterprise-level scenarios such as <strong>large-scale application configuration management</strong>, different teams (infrastructure, platform, business) with different roles (developers, SREs) may simultaneously have unified delivery and differentiated cloud resource management requirements for hundreds or even thousands of applications. In such situations, challenges arise on how to achieve better multi-team, multi-role collaboration and how to manage hybrid resources with applications in a unified way.</p><p>KusionStack, when combined with KubeVela, serves as an operational technology carrier that helps users enhance the efficiency and security of application delivery and management in large-scale environments. It facilitates a seamless experience in addressing the complexities of coordinating multiple teams and roles while managing applications at the center of hybrid resource unification.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-centric-unified-resource-management">Application-centric Unified Resource Management<a href="#application-centric-unified-resource-management" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>KubeVela offers rich extensible mechanisms, supporting users to create Terraform-like component definitions (ComponentDefinition). Users can declare HCL (HashiCorp Configuration Language) code in YAML files describing their applications to manage resources in multi-cloud and hybrid environments. However, <strong>writing HCL code in YAML may lead to a somewhat fragmented user experience</strong>.</p><p>On the other hand, KusionStack uses KCL (Kusion Configuration Language) to provide <strong>a unified description of application-dependent resources</strong>. Developers can declare both Kubernetes resources and IaaS (Infrastructure as a Service) cloud resources (such as VPC, OSS, RDS, etc.) in a single configuration file, simplifying cognitive overhead and improving the operational experience.</p><p><img loading="lazy" alt="Unified Description of Application&amp;#39;s K8s &amp;amp; IaaS Cloud Resource Configuration Example in a KCL File" src="/assets/images/unified_description_in_kcl-7f49363948f22d222d016db38c74aa62.png" width="1820" height="974" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-team-and-multi-role-collaboration">Multi-team and Multi-role Collaboration<a href="#multi-team-and-multi-role-collaboration" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>KusionStack and KubeVela are both systems designed for the separation of concerns, where users are naturally divided into two roles: <strong>Developer</strong> and <strong>Platform</strong>. Different roles can focus solely on their concerned configuration items to improve development and operational efficiency.</p><p>However, in large-scale application delivery scenarios, KubeVela Application YAML files and related Custom Resource Definitions (CRDs) for each application are often scattered across different locations, making it challenging to manage and collaborate effectively. KusionStack addresses this issue by adopting the Konfig repository pattern, providing support for large-scale collaboration. All team members can collaborate on writing and auditing application configuration code in the same Git repository. Additionally, KusionStack utilizes KCL for unified operational intent descriptions, further enhancing collaboration efficiency.</p><p>Moreover, KusionStack simplifies the writing of configuration code for developers by encapsulating various complex application models into a unified frontend + backend model. The frontend model serves as the user interface for developers to write configuration code and contains all configurable properties exposed by the platform, while abstracting away redundant and deducible configurations, presenting only the necessary attributes for user interaction. The backend model is the concrete implementation of the model, responsible for applying the properties defined in the frontend model. It includes resource rendering, compliance validation, and other logical fragments, improving the robustness and reusability of configuration code without requiring developers to be aware of the underlying complexity.</p><p><img loading="lazy" alt="Developer &amp;amp; Platform Collaboration Example" src="/assets/images/developer_and_platform_collab_example-4c3ec69b92ac52092caacbba37ea1dc2.png" width="2798" height="1550" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="shift-left-security">Shift-left Security<a href="#shift-left-security" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>When declaring KubeVela Applications, KubeVela users utilize YAML plaintext, which lacks client-side validation capabilities for configuration fields such as type, value constraints, and security compliance policies.</p><p>KusionStack, on the other hand, employs a <strong>Policy as Code (PaC)</strong> mechanism, allowing for more convenient detection of potential issues during the writing of application configurations. This enables identifying problems before the CR (Custom Resource) is applied, reducing the risks associated with erroneous configurations taking effect. Additionally, the Kusion engine provides a three-way real-time diff comparison capability before the configuration takes effect, allowing users to preview configuration changes and thereby offering a safer workflow.</p><p><img loading="lazy" alt="KCL Code Validation Example" src="/assets/images/shift_left_security_example-3d02ae4bddb18f6d40b42be487b51f58.png" width="1080" height="705" class="img_ev3q"></p><p><img loading="lazy" alt="3-Way Real-time Diff Example" src="/assets/images/3_way_diff_example-81426d3442f1cd63e341cebfc862f25d.png" width="1080" height="557" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-integration-solution-of-kusionstack-and-kubevela">The Integration Solution of KusionStack and KubeVela<a href="#the-integration-solution-of-kusionstack-and-kubevela" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>The proposed solution for integrating KubeVela with KusionStack is illustrated in the following diagram. In this setup, KusionStack serves as the client side for application delivery and management, providing a unified abstraction of application configuration models and unified orchestration of Kubernetes and cloud resources. Additionally, it supports multi-team &amp; multi-role collaboration and configuration code risk validation capabilities. On the other hand, KubeVela acts as the control plane backend, responsible for the deployment of Kubernetes resources, while Terraform handles the management of cloud resources.</p><p><img loading="lazy" alt="Workflow of KubeVela Integrated with KusionStack" src="/assets/images/integration_solution-58728a8dce38d10177db9bbb68b25b69.png" width="1080" height="264" class="img_ev3q"></p><p>The corresponding workflow is as follows. </p><ul><li><p>Users utilize KCL to write the Konfig application configuration model, which can include a mix of Kubernetes and Terraform resources.</p></li><li><p>Kubernetes resources in the application model instance will be rendered as KubeVela Application CRs (Custom Resources), while Terraform resources will be rendered as configuration data in Kusion Spec format.</p></li><li><p>Users deliver the KubeVela Application instances to KubeVela using the Kusion command-line tool, and the Terraform resources are delivered to Terraform to complete the resource deployment.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="practical-example-deliver-wordpress-application-to-kubernetes-and-clouds">Practical Example: Deliver WordPress Application to Kubernetes and Clouds<a href="#practical-example-deliver-wordpress-application-to-kubernetes-and-clouds" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Here is an example of delivering a WordPress application to Kubernetes and the cloud using KusionStack in conjunction with KubeVela. WordPress is an open-source content management system (CMS) that can be used to create and manage various types of websites and handle multiple users and roles. In our practical example, the WordPress application will rely on AWS Relational Database Service (RDS) to provide a cloud-based database solution for managing WordPress site content, including articles, pages, comments, and user information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><ul><li><a href="/docs/user_docs/getting-started/install">Install Kusion</a></li><li><a href="https://kubevela.io/" target="_blank" rel="noopener noreferrer">Install KubeVela</a></li><li><a href="https://kubernetes.io/" target="_blank" rel="noopener noreferrer">Deploy Kubernetes</a> or <a href="https://kind.sigs.k8s.io/" target="_blank" rel="noopener noreferrer">Kind</a></li><li><a href="https://www.terraform.io/" target="_blank" rel="noopener noreferrer">Install Terraform</a></li><li>Prepare an AWS account and create a user with the permissions for <code>AmazonVPCFullAccess</code> and <code>AmazonRDSFullAccess</code> to utilize the Amazon Relational Database Service (RDS). This user can create and manage resources in the AWS Identity and Access Management (IAM) console</li></ul><p><img loading="lazy" alt="aws iam account" src="/assets/images/aws_iam_account-96422d3d8429b9103b6fddbfb7120bf0.png" width="1080" height="526" class="img_ev3q"></p><p>Additionally, we also need to configure the obtained AccessKey and SecretKey as environment variables: </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AWS_ACCESS_KEY_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;AKIAQZDxxxx&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># replace it with your AccessKey</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">AWS_SECRET_ACCESS_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;oE/xxxx&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># replace it with your SecretKey</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Alternatively, Kusion provides a <strong>Secret as Code</strong> solution for handling the AccessKey and SecretKey mentioned above.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="review-project-structure-and-config-codes">Review Project Structure and Config Codes<a href="#review-project-structure-and-config-codes" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project-structure">Project Structure<a href="#project-structure" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Firstly, let&#x27;s clone the Konfig repo and enter the root directory: </p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone git@github.com:KusionStack/konfig.git </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> konfig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then we can locate the <code>wordpress-kubevela</code> project under the <code>appops/</code> directory, which is composed of the following files: </p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> appops/wordpress-kubevela </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> tree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── README.md                       // Documentation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── base                            // Common configuration </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> all stacks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── base.k                      // Common config code </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> all stacks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── dev                             // Stack directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ci-test                     // CI </span><span class="token builtin class-name">test</span><span class="token plain"> directory, storing </span><span class="token builtin class-name">test</span><span class="token plain"> scripts and data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── settings.yaml           // Configuration </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token builtin class-name">test</span><span class="token plain"> data and compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── stdout.golden.yaml      // Expected Spec YAML, </span><span class="token function" style="color:#d73a49">which</span><span class="token plain"> can be updated using </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── kcl.yaml                    // Multi-file compilation configuration </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> current stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── main.k                      // Config codes </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:#36acaa">Developer</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> current stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── platform.k                  // Config codes </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:#36acaa">Platform</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> current stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── stack.yaml                  // Meta information of current stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── project.yaml                    // Meta information of current project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> directories, </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>More details about the directory structure can be found in <a href="/docs/user_docs/concepts/glossary">Konfig</a></p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="config-codes">Config Codes<a href="#config-codes" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>The configuration code files we need to pay attention to mainly include <code>dev/main.k</code> and <code>dev/platform.k</code>.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># dev/main.k</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kusion_models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kube</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frontend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kusion_models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kube</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frontend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The application configuration in stack will overwrite </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># the configuration with the same attribute in base.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># And main.k is for the configurations in concern of application developers. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># defination of wordpress application frontend model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wordpress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> frontend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Server </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># specify application image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;wordpress:4.8-apache&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># use cloud database for the storage of wordpress</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    database </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> storage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataBase </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># choose aws_rds as the cloud database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dataBaseType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aws_rds&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dataBaseAttr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> storage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DBAttr </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># choose the engine type and version of the database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            databaseEngine </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;MySQL&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            databaseEngineVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5.7&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># create database account</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            databaseAccountName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;root&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            databaseAccountPassword </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;db_password&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># create internet access for the cloud database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            internetAccess </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># NOTE: this configuration is an example of adding an environment variable in the main container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># uncommenting and re-deploying will add the environment variable &quot;ENV_ADD_EXAMPLE&quot; in the </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># main container and the differnces will be shown by the command of &quot;kusion apply&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mainContainer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        env </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ENV_ADD_EXAMPLE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;wordpress-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># dev/platform.k</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kusion_models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kube</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frontend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kusion_models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kube</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frontend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kusion_models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kube</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kusion_clouds</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">aws_backend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">aws_config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The application configuration in stack will overwrite </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># the configuration with the same attribute in base.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># And platform.k is for the configurations in concern of platform developers. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_cloudResourceName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{}-{}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__META_APP_NAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__META_ENV_TYPE_NAME</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lower</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_awsDependencyPrefix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$kusion_path.&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> aws_config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">awsProvider</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">namespace </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> aws_config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">awsProvider</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;:&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># defination of wordpress application frontend model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wordpress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> frontend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Server </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># add environment variable in main container with implicit alicloud resource dependency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mainContainer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        env </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;WORDPRESS_DB_HOST&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _awsDependencyPrefix </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> aws_config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">awsDBInstanceMeta</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> _cloudResourceName </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;.address&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># supplement database related configuration code on the platform side</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> storage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataBase </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dataBaseAttr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> storage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DBAttr </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># specify instance type for aws or alicloud rds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># for aws rds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            instanceType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;db.t3.micro&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># for alicloud rds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># instanceType = &quot;mysql.n2.serverless.1c&quot; </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># specify cloud charge type for alicloud rds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># extraMap = {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">#     &quot;cloudChargeType&quot;: &quot;Serverless&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Specifically: </p><ul><li><code>dev/main.k</code> contains config codes for <strong>Developer</strong> to concentrate on for the WordPress application deployment in the dev environment. In addition to the application container image, it also assigns an instance of a type <code>storage.DataBase</code> to the <code>frontend.Server.database</code> attribute, and thus declaring an RDS with MySQL as the database engine. </li><li><code>dev/platform.k</code> contains config codes for <strong>Platform</strong> to concentrate on for the WordPress application deployment in the dev environment. Here, the main purpose is to specify the domain name of the cloud database to be connected to for the WordPress application container and the RDS instance type. In addition, we can also declare the RDS charging type and other configurations in <code>dev/platform.k</code>.  </li></ul><p>As shown above, benefiting from the advanced features of KCL concerning variable, function, and schema definition, we can abstract and encapsulate the RDS resources, which shields many properties that the Developer does not need to be aware of (such as the network segment of VPC and vSwitch behind RDS). The developer only needs to fill in a few necessary fields in the frontend model instance to complete the declaration of RDS resources, so that the application configuration can be organized more flexibly and efficiently. Moreover, under the collaboration of writing config codes in the Konfig repository, Developers and Platforms from different teams can perform their roles, only focusing on their own respective configuration items, thereby improving the collaboration efficiency of application development and operation. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deliver-wordpress-application">Deliver WordPress Application<a href="#deliver-wordpress-application" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>We can complete the delivery of the WordPress application using the following command line:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> appops/wordpress-kubevela/dev </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kusion apply --yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="apply the wordpress application with aws rds" src="/assets/images/kusion_apply-7b994ae401e34524dd033ff8b09ff31c.png" width="1080" height="282" class="img_ev3q"></p><p>After all the resources reconciled, we can port-forward our local port (e.g. 12345) to the WordPress frontend service port (80) in the cluster:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward -n wordpress-kubevela svc/wordpress </span><span class="token number" style="color:#36acaa">12345</span><span class="token plain">:80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="kubectl port-forward for wordpress" src="/assets/images/port_forward-f3c51c38c76481bdd312b704a8e95368.png" width="1002" height="144" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-wordpress-application">Verify WordPress Application<a href="#verify-wordpress-application" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>Next, we will verify the WordPress site service we just delivered, along with the creation of the RDS instance it depends on. We can start using the WordPress site by accessing the link of local-forwarded port <a href="http://localhost:12345" target="_blank" rel="noopener noreferrer">(http://localhost:12345)</a> we just configured in the browser. </p><p><img loading="lazy" alt="wordpress site page" src="/assets/images/wordpress-site-page-ef650e640399209d1eec5e6dfe88c454.png" width="1500" height="803" class="img_ev3q"></p><p>We can use <code>velaux</code> or <code>vela top</code> commands to view the KubeVela Application-related resources. </p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vela port-forward addon-velaux -n vela-system </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="velaux" src="/assets/images/velaux-d1a2143982581a74dbd0c6adba3fb4d8.png" width="1080" height="493" class="img_ev3q"></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vela </span><span class="token function" style="color:#d73a49">top</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="vela top" src="/assets/images/vela_top-c8d55556b5a6ae547f864aaa62630e90.png" width="1080" height="590" class="img_ev3q"></p><p>In addition, we can also log in to the cloud service console page to view the RDS instance we just created.</p><p><img loading="lazy" alt="rds info" src="/assets/images/rds_info-3e3f4a49e83ea32ec9b7e0966582bf07.png" width="1080" height="216" class="img_ev3q">
<img loading="lazy" alt="rds detailed" src="/assets/images/rds_detailed-9b475d253e26f0703a0fbf715670d4b7.png" width="1080" height="503" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="modify-wordpress-application">Modify WordPress Application<a href="#modify-wordpress-application" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="compliance-check-of-config-code-modification">Compliance Check of Config Code Modification<a href="#compliance-check-of-config-code-modification" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>Using KCL to write application config codes naturally has the ability to perform type-checking on configuration items. Validation logic can also be implemented through keywords like <code>assert</code> and <code>check</code>, making it more convenient to discover potential issues during the writing of application config codes and reduce the risk of delivering the application with the wrong configuration. </p><p>When creating an RDS resource, for different types of cloud service vendors, we can declare the corresponding RDS instance type, and the Konfig backend model has added the validation logic for the RDS instance type through the <code>assert</code> keyword, so when we accidentally modify the RDS instance type to an invalid value in <code>dev/platform.k</code>, Kusion will throw a corresponding error during the compilation process before applying the resource. </p><p><img loading="lazy" alt="KCL Assertion" src="/assets/images/assert-3d02ae4bddb18f6d40b42be487b51f58.png" width="1080" height="705" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="apply-config-code-modification">Apply Config Code Modification<a href="#apply-config-code-modification" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h4><p>As shown below, we can try to modify the config codes in the file <code>dev/main.k</code> to add an environment variable in the main container of the WordPress application. When using <code>kusion apply</code> to apply the config code modification, we can preview the resource changes with the capability of 3-way real-time diff of Kusion (note that we ignore the change of <code>metadata.managedFields</code> field in the following example for better demonstration). </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># dev/main.k</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wordpress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> frontend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Server </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Some unchanged codes are omitted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># image = ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># database = storage.DataBase{...}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># NOTE: this configuration is an example of adding an environment variable in the main container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># uncommenting and re-deploying will add the environment variable &quot;ENV_ADD_EXAMPLE&quot; in the </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># main container and the differnces will be shown by the command of &quot;kusion apply&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mainContainer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        env </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ENV_ADD_EXAMPLE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;wordpress-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kusion apply --ignore-fields </span><span class="token string" style="color:#e3116c">&quot;metadata.managedFields&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="kusion apply diff" src="/assets/images/kusion_apply_diff-81426d3442f1cd63e341cebfc862f25d.png" width="1080" height="557" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delete-wordpress-application">Delete WordPress Application<a href="#delete-wordpress-application" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h3><p>We can delete the WordPress application and related RDS resources using the following command line. </p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kusion destroy --yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="kusion destroy" src="/assets/images/kusion_destroy-ebb44c16090ecbef1dc91167947302b6.png" width="1080" height="265" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>This article introduces how KusionStack empowers developers and platform users to achieve efficient application delivery management using KubeVela. In the proposed integration solution, KusionStack serves as a unified abstraction and orchestration layer for hybrid application resource models, while KubeVela handles the activation of Kubernetes resources, and Terraform manages cloud resources.</p><p>From the practical example of rapidly deploying WordPress to the cloud, we can observe the following features that KusionStack offers:</p><ul><li><p><strong>Application-centric unified resource management</strong>: Using KCL, developers can abstract and encapsulate Kubernetes and IaaS cloud resources required by the application, hiding properties that developers don&#x27;t need to be aware of. This approach enables more freedom, flexibility, and efficiency in organizing application configurations and easily launching all dependencies, achieving an application-centric operations approach.</p></li><li><p><strong>Multi-team and multi-role collaboration</strong>: By collaboratively writing configuration code in the Konfig repository, developers and platform users can focus on their respective responsibilities, enhancing collaboration efficiency between different roles and improving application development and operational cooperation.</p></li><li><p><strong>Shift-left compliance check</strong>: Writing application configuration code with KCL allows for the detection of potential issues during the writing phase, reducing the risks associated with erroneous configurations taking effect. Additionally, Kusion offers a three-way real-time diff comparison capability before configuration activation, allowing users to preview configuration changes and providing a safer workflow.</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/KusionStack/kusionstack.io/blob/main/docs/user_docs/guides/kubevela/kusionstack-helps-users-better-use-kubevela.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-08T03:59:14.000Z">Sep 8, 2023</time></b> by <b>Forest</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/user_docs/guides/working-with-k8s/differentiated-configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Differentiated Configurations</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/user_docs/guides/prometheus/recording-and-alerting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Recording and Alerting</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#kubevela" class="table-of-contents__link toc-highlight">KubeVela</a></li><li><a href="#kusionstack" class="table-of-contents__link toc-highlight">KusionStack</a></li><li><a href="#kusionstack-helps-users-better-use-kubevela-1" class="table-of-contents__link toc-highlight">KusionStack Helps Users Better Use KubeVela</a><ul><li><a href="#application-centric-unified-resource-management" class="table-of-contents__link toc-highlight">Application-centric Unified Resource Management</a></li><li><a href="#multi-team-and-multi-role-collaboration" class="table-of-contents__link toc-highlight">Multi-team and Multi-role Collaboration</a></li><li><a href="#shift-left-security" class="table-of-contents__link toc-highlight">Shift-left Security</a></li></ul></li><li><a href="#the-integration-solution-of-kusionstack-and-kubevela" class="table-of-contents__link toc-highlight">The Integration Solution of KusionStack and KubeVela</a></li><li><a href="#practical-example-deliver-wordpress-application-to-kubernetes-and-clouds" class="table-of-contents__link toc-highlight">Practical Example: Deliver WordPress Application to Kubernetes and Clouds</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#review-project-structure-and-config-codes" class="table-of-contents__link toc-highlight">Review Project Structure and Config Codes</a></li><li><a href="#deliver-wordpress-application" class="table-of-contents__link toc-highlight">Deliver WordPress Application</a></li><li><a href="#verify-wordpress-application" class="table-of-contents__link toc-highlight">Verify WordPress Application</a></li><li><a href="#modify-wordpress-application" class="table-of-contents__link toc-highlight">Modify WordPress Application</a></li><li><a href="#delete-wordpress-application" class="table-of-contents__link toc-highlight">Delete WordPress Application</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Document</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/user_docs/intro/kusion-intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user_docs/getting-started">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user_docs/support">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resource</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/kusionstack/shared_invite/zt-19lqcc3a9-_kTNwagaT5qwBE~my5Lnxg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">KCL</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.antgroup.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="160" height="51"><img src="/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="160" height="51"></a></div><div class="footer__copyright">Copyright © 2022 KusionStack Authors</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c394a5fe.js"></script>
<script src="/assets/js/main.864bd818.js"></script>
</body>
</html>