<!doctype html>
<html class="docs-version-current" lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="KusionStack RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="KusionStack Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="KusionStack" href="/zh-CN/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/zh-CN/changelog/rss.xml" title="KusionStack changelog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/changelog/atom.xml" title="KusionStack changelog Atom Feed">
<link rel="alternate" type="application/json" href="/zh-CN/changelog/feed.json" title="KusionStack changelog JSON Feed"><title data-rh="true">KCL Errors and Warnings | KusionStack</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kusionstack.io/zh-CN/docs/reference/lang/lang/error/exception"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="KCL Errors and Warnings | KusionStack"><meta data-rh="true" name="description" content="KCL Errors and Warnings"><meta data-rh="true" property="og:description" content="KCL Errors and Warnings"><link data-rh="true" rel="icon" href="/zh-CN/img/kcl-logo.png"><link data-rh="true" rel="canonical" href="https://kusionstack.io/zh-CN/docs/reference/lang/lang/error/exception"><link data-rh="true" rel="alternate" href="https://kusionstack.io/docs/reference/lang/lang/error/exception" hreflang="en"><link data-rh="true" rel="alternate" href="https://kusionstack.io/zh-CN/docs/reference/lang/lang/error/exception" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://kusionstack.io/docs/reference/lang/lang/error/exception" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RE5E6BQUZV-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/zh-CN/assets/css/styles.59dbafa7.css">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.f61bc347.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.c7d18e7f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">⭐️ If you like KusionStack, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/KusionStack/kusion">Github</a></div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/img/kcl-logo.png" alt="KusionStack Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/zh-CN/img/kcl-logo.png" alt="KusionStack Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">KusionStack</b></a><a class="navbar__item navbar__link" docid="intro/kusion-intro" href="/zh-CN/docs/user_docs/intro/">使用文档</a><a class="navbar__item navbar__link navbar__link--active" href="/zh-CN/docs/reference/cli/">参考手册</a><a class="navbar__item navbar__link" href="/zh-CN/docs/develop/repos">开发文档</a><a class="navbar__item navbar__link" href="/zh-CN/docs/governance/intro/">治理</a><a class="navbar__item navbar__link" href="/zh-CN/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>中文（中国）</span></span></a><ul class="dropdown__menu"><li><a href="/docs/reference/lang/lang/error/exception" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/zh-CN/docs/reference/lang/lang/error/exception" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">中文（中国）</a></li><li><a href="https://github.com/KusionStack/kusionstack.io/issues/25" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_kyqE"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO menuWithAnnouncementBar_x19h"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/zh-CN/docs/reference/cli/">Command Line Tools</a><button aria-label="Toggle the collapsible sidebar category &#x27;Command Line Tools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/zh-CN/docs/reference/lang/">KCL</a><button aria-label="Toggle the collapsible sidebar category &#x27;KCL&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/zh-CN/docs/reference/lang/lang/">KCL</a><button aria-label="Toggle the collapsible sidebar category &#x27;KCL&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/reference/lang/lang/tour">KCL 之旅</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/zh-CN/docs/reference/lang/lang/codelab/">Code Lab</a><button aria-label="Toggle the collapsible sidebar category &#x27;Code Lab&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/zh-CN/docs/reference/lang/lang/spec/">Spec</a><button aria-label="Toggle the collapsible sidebar category &#x27;Spec&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/zh-CN/docs/reference/lang/lang/error/">Errors and Warnings</a><button aria-label="Toggle the collapsible sidebar category &#x27;Errors and Warnings&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/docs/reference/lang/lang/error/exception">KCL Errors and Warnings</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/zh-CN/docs/reference/lang/model/"> System Module</a><button aria-label="Toggle the collapsible sidebar category &#x27; System Module&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/zh-CN/docs/reference/lang/plugin/">Plugin System</a><button aria-label="Toggle the collapsible sidebar category &#x27;Plugin System&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/zh-CN/docs/reference/lang/xlang-api/">Multi-Language</a><button aria-label="Toggle the collapsible sidebar category &#x27;Multi-Language&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/zh-CN/docs/reference/lang/use_case/">Use Case</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use Case&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/zh-CN/docs/reference/model/">Kusion Model Library</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kusion Model Library&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/docs/reference/konfig/overview">Konfig</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/zh-CN/">🏠</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/zh-CN/docs/reference/lang/">KCL</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/zh-CN/docs/reference/lang/lang/">KCL</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/zh-CN/docs/reference/lang/lang/error/">Errors and Warnings</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/zh-CN/docs/reference/lang/lang/error/exception">KCL Errors and Warnings</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>KCL Errors and Warnings</h1><p>文档的此部分中的文章介绍了由 KCLVM 生成的诊断错误和警告消息。</p><p><strong>注意:</strong>
<strong>KCLVM 可以报告多种错误和警告。找到错误或警告后，KCLVM 可能会对代码意向作出假设并尝试继续，以便可以同时报告更多问题。 如果工具做出错误假设，则后续错误或警告可能不适应与当前 KCL 程序。 因此，纠正项目中的问题时，请先纠正第一个错误或警告，然后重新运行获取新的错误信息。 一个修补程序可能会导致后续错误消失。</strong></p><p>此部分文档的主要内容包括：</p><p><a href="#11-kcl-%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF-e1xxx">KCL 语法错误 (E1xxx)</a> : 如果 KCLVM 在当前 KCL 程序中发现了非法的 KCL 语法，KCLVM 就会停止运行并输出 KCL 程序语法错误的提示信息.</p><p><a href="#12-kcl-%E7%BC%96%E8%AF%91%E9%94%99%E8%AF%AF-e2xxx">KCL 编译错误 (E2xxx)</a> : 如果 KCLVM 在一个不包含语法错误的 KCL 程序中发现了与 KCL 语义不符的代码，KCLVM 就会停止运行并输出编译错误的提示信息。</p><p><a href="#13-kcl-%E8%BF%90%E8%A1%8C%E6%97%B6%E9%94%99%E8%AF%AF-e3xxx">KCL 运行时错误 (E3xxx)</a> : KCL 程序通过编译后会生成 KCL 字节码，如果 KCLVM 在执行 KCL 字节码过程中出现错误，KCLVM 就会停止运行并输出运行时错误的提示信息.</p><p><a href="#14-kcl-%E7%BC%96%E8%AF%91%E8%AD%A6%E5%91%8A-w2xxx">KCL 编译警告 (W2xxx)</a> : 当 KCLVM 发现可能导致运行失败的 KCL 代码，KCLVM 不会立即停止运行，但是会输出潜在错误的警告提示。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="11-kcl-语法错误-e1xxx">1.1 KCL 语法错误 (E1xxx)<a class="hash-link" href="#11-kcl-语法错误-e1xxx" title="Direct link to heading">​</a></h2><p>KCL 会出现的语法错误信息如下表所示:</p><table><thead><tr><th>ewcode</th><th>KCL exception</th><th>messages</th></tr></thead><tbody><tr><td>E1001</td><td><a href="#111-invalidsyntaxerror-e1001">InvalidSyntaxError</a></td><td>Invalid syntax</td></tr><tr><td>E1002</td><td><a href="#112-kcltaberror-e1002">KCLTabError</a></td><td>Tab Error</td></tr><tr><td>E1003</td><td><a href="#113-kclindentationerror-e1003">KCLIndentationError</a></td><td>Indentation Error</td></tr><tr><td>E1I37</td><td><a href="#114-illegalargumentsyntaxerror-e1i37">IllegalArgumentSyntaxError</a></td><td>Illegal argument syntax</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="111-invalidsyntaxerror-e1001">1.1.1 InvalidSyntaxError <!-- -->[E1001]<a class="hash-link" href="#111-invalidsyntaxerror-e1001" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>InvalidSyntaxError</code>, 对应的 encode 为 <code>E1001</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>非法的 KCL 语法。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a, b = 1, 2 # 通过 “=” 赋值多个变量在KCL中是非法的。</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Syntax Error[E1001] : Invalid syntax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /syntax_error/general/multiple_assign/case0/main.k:1:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 |a = 1, 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      6 ^  -&gt; Expected one of [&#x27;newline&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Invalid syntax</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="112-kcltaberror-e1002">1.1.2 KCLTabError <!-- -->[E1002]<a class="hash-link" href="#112-kcltaberror-e1002" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLTabError</code>, 对应的 encode 为 <code>E1002</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>Tab 与空格混用的问题。KCL 中禁止在代码缩进中混用 Tab 和空格。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str # 通过tab表示缩进</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age: int # 通过四个空格标识缩进, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             # 在当前运行环境中的四个空格与tab不同</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Syntax Error[E1002] : Tab Error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /syntax_error/tab/tab_error_0/main.k:2:14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |    name: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             14 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Inconsistent use of tabs and spaces in indentation</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>在 KCL 程序中全部使用 Tab 或者全部使用四个空格，不要混用。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="113-kclindentationerror-e1003">1.1.3 KCLIndentationError <!-- -->[E1003]<a class="hash-link" href="#113-kclindentationerror-e1003" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLIndentationError</code>, 对应的 encode 为 <code>E1003</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>程序缩进错误。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str # 使用一个tab或者四个空格表示缩进</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   age: int # KCL不支持使用三个空格表示缩进</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  info: str # KCL不支持使用两个空格表示缩进</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Syntax Error[E1003] : Indentation Error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /syntax_error/indent/indent_error_0/main.k:2:14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |    name: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             14 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Unindent 3 does not match any outer indentation level</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>在 KCL 程序中全部使用 Tab 或者全部使用四个空格来表示缩进。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="114-illegalargumentsyntaxerror-e1i37">1.1.4 IllegalArgumentSyntaxError <!-- -->[E1I37]<a class="hash-link" href="#114-illegalargumentsyntaxerror-e1i37" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>IllegalArgumentSyntaxError</code>, 对应的 encode 为 <code>E1I37</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>参数语法错误</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># KCL中带有keyword的参数必须出现在不带有keyword参数后面</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 带有keyword的参数: type=&quot;list&quot;, default={&quot;key&quot;: &quot;value&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 不带有keyword的参数: &quot;key1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = option(type=&quot;list&quot;, default={&quot;key&quot;: &quot;value&quot;}, &quot;key1&quot;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Syntax Error[E1I37] : Illegal argument syntax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /option/type_convert_fail_2/main.k:1:51</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 |a = option(type=&quot;list&quot;, default={&quot;key&quot;: &quot;value&quot;}, &quot;key1&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                  51 ^^^^^^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">positional argument follows keyword argument</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>KCL 中带有 keyword 的参数必须出现在不带有 keyword 参数后面, 参数正常顺序:</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">func(input_1, ..., input_n, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    param_with_key_1 = input_with_key_1, ..., param_with_key_n = input_with_key_n)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="12-kcl-编译错误-e2xxx">1.2 KCL 编译错误 (E2xxx)<a class="hash-link" href="#12-kcl-编译错误-e2xxx" title="Direct link to heading">​</a></h2><p>KCL 会出现的编译错误信息如下表所示:</p><table><thead><tr><th>ewcode</th><th>KCL exception</th><th>messages</th></tr></thead><tbody><tr><td>E2F04</td><td><a href="#121-cannotfindmodule-e2f04">CannotFindModule</a></td><td>Cannot find the module</td></tr><tr><td>E2F05</td><td><a href="#122-failedloadmodule-e2f05">FailedLoadModule</a></td><td>Failed to load module</td></tr><tr><td>E2H13</td><td><a href="#123-unknowndecoratorerror-e2h13">UnKnownDecoratorError</a></td><td>UnKnown decorator</td></tr><tr><td>E2H14</td><td><a href="#124-invaliddecoratortargeterror-e2h14">InvalidDecoratorTargetError</a></td><td>Invalid Decorator Target</td></tr><tr><td>E2C15</td><td><a href="#125-mixinnamingerror-e2c15">MixinNamingError</a></td><td>Illegal mixin naming</td></tr><tr><td>E2C16</td><td><a href="#126-mixinstructureillegal-e2c16">MixinStructureIllegal</a></td><td>Illegal mixin structure</td></tr><tr><td>E2B17</td><td><a href="#127-cannotaddmemberscomplieerror-e2b17">CannotAddMembersComplieError</a></td><td>Cannot add members to a schema</td></tr><tr><td>E2B20</td><td><a href="#128-indexsignatureerror-e2b20">IndexSignatureError</a></td><td>Invalid index signature</td></tr><tr><td>E2G22</td><td><a href="#129-typecomplieerror-e2g22">TypeComplieError</a></td><td>The type got is inconsistent with the type expected</td></tr><tr><td>E2L23</td><td><a href="#1210-compileerror-e2l23">CompileError</a></td><td>A complie error occurs during compiling</td></tr><tr><td>E2L25</td><td><a href="#1211-kclnameerror-e2l25">KCLNameError</a></td><td>Name Error</td></tr><tr><td>E2L26</td><td><a href="#1212-kclvalueerror-e2l26">KCLValueError</a></td><td>Value Error</td></tr><tr><td>E2L27</td><td><a href="#1213-kclkeyerror-e2l27">KCLKeyError</a></td><td>Key Error</td></tr><tr><td>E2L28</td><td><a href="#1214-uniquekeyerror-e2l28">UniqueKeyError</a></td><td>Unique key error</td></tr><tr><td>E2A29</td><td><a href="#1215-kclattributecomplieerror-e2a29">KCLAttributeComplieError</a></td><td>Attribute error occurs during compiling</td></tr><tr><td>E2D32</td><td><a href="#1216-multiinheriterror-e2d32">MultiInheritError</a></td><td>Multiple inheritance is illegal</td></tr><tr><td>E2D34</td><td><a href="#1217-illegalinheriterror-e2d34">IllegalInheritError</a></td><td>Illegal inheritance</td></tr><tr><td>E2I36</td><td><a href="#1218-illegalargumentcomplieerror-e2i36">IllegalArgumentComplieError</a></td><td>Illegal argument during compiling</td></tr><tr><td>E3L41</td><td><a href="#1219-immutablecompileerror-e3l41">ImmutableCompileError</a></td><td>Immutable variable is modified</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="121-cannotfindmodule-e2f04">1.2.1 CannotFindModule <!-- -->[E2F04]<a class="hash-link" href="#121-cannotfindmodule-e2f04" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>CannotFindModule</code>, 对应的 encode 为 <code>E2F04</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>无法找到导入模块错误</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">import .some0.pkg1 as some00  # some0 not found in package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Name1 = some00.Name  # some0.pkg1.name</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2F04] : Cannot find the module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File import_abs_fail_0/app-main/main.k:1:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 |import .some0.pkg1 as some00  # some0 not found in app-main package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Cannot find the module .some0.pkg1 from import_abs_fail_0/app-main/some0/pkg1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>在 imoprt 路径下添加导入模块文件。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="122-failedloadmodule-e2f05">1.2.2 FailedLoadModule <!-- -->[E2F05]<a class="hash-link" href="#122-failedloadmodule-e2f05" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>FailedLoadModule</code>, 对应的 encode 为 <code>E2F05</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>导入模块加载错误</li></ul><p>可以尝试以下步骤来修复这个错误：</p><ul><li>查看文件是否可读</li><li>查看文件是否为 kcl 文件</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="123-unknowndecoratorerror-e2h13">1.2.3 UnKnownDecoratorError <!-- -->[E2H13]<a class="hash-link" href="#123-unknowndecoratorerror-e2h13" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>UnKnownDecoratorError</code>, 对应的 encode 为 <code>E2H13</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>未知的装饰器错误</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@err_deprecated # 这是一个非法的装饰器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName: str = &quot;John&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JohnDoe = Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: &quot;deprecated&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2H13] : UnKnown decorator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File deprecated/unknown_fail_1/main.k:1:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 |@err_deprecated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  2 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UnKnown decorator err_deprecated</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查装饰器是否存在。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="124-invaliddecoratortargeterror-e2h14">1.2.4 InvalidDecoratorTargetError <!-- -->[E2H14]<a class="hash-link" href="#124-invaliddecoratortargeterror-e2h14" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>InvalidDecoratorTargetError</code>, 对应的 encode 为 <code>E2H14</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>无效的装饰器目标错误。</li></ul><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查使用装饰器的 KCL 代码是否出现异常。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="125-mixinnamingerror-e2c15">1.2.5 MixinNamingError <!-- -->[E2C15]<a class="hash-link" href="#125-mixinnamingerror-e2c15" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>MixinNamingError</code>, 对应的 encode 为 <code>E2C15</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>Mixin 命名错误。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Fullname: # Mixin的名称应该以Mixin结尾</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName = &quot;{} {}&quot;.format(firstName, lastName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Scholar(Person):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mixin [Fullname]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    school: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JohnDoe = Scholar {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;John&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Doe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;fullName&quot;: &quot;Doe Jon&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2C15] : Illegal mixin naming</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File mixin/invalid_name_failure/main.k:10:12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10 |    mixin [Fullname]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            12 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a valid mixin name should end with &#x27;Mixin&#x27;, got &#x27;Fullname&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>如果 schema 是一个 mixin，那么这个 schema 的名称应该以 Mixin 结尾。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="126-mixinstructureillegal-e2c16">1.2.6 MixinStructureIllegal <!-- -->[E2C16]<a class="hash-link" href="#126-mixinstructureillegal-e2c16" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>MixinStructureIllegal</code>, 对应的 encode 为 <code>E2C16</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>Mixin 结构错误。</li></ul><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查作为 Mixin 的 Schema 的结构。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="127-cannotaddmemberscomplieerror-e2b17">1.2.7 CannotAddMembersComplieError <!-- -->[E2B17]<a class="hash-link" href="#127-cannotaddmemberscomplieerror-e2b17" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>CannotAddMembersComplieError</code>, 对应的 encode 为 <code>E2B17</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>使用 Schema 中不存在的成员。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Girl:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gender: str = &quot;female&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alice = Girl {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;first&quot;: &quot;alice&quot;, # Schema中没有成员“first”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;last&quot;: &quot; Green&quot;, # Schema中没有成员“last”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;age&quot;: 10  # Schema中没有成员“age”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2B18] : Cannot add members to a schema</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /invalid/add_attribute/main.k:9:9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9 |alice = Girl {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         9 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">first,last,age: No such member in the schema</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>为 Schema 添加缺少的成员。</li><li>不要使用 Schema 中不存在的成员。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="128-indexsignatureerror-e2b20">1.2.8 IndexSignatureError <!-- -->[E2B20]<a class="hash-link" href="#128-indexsignatureerror-e2b20" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>IndexSignatureError</code>, 对应的 encode 为 <code>E2B20</code></li></ul><p>那么此时 KCL 程序中出现了</p><ol><li>在一个 schema 中使用多个索引签名。</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [str]: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [str]: int # 在同一个schema中使用了多个索引签名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data = Data {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: &quot;test&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2B20] : Invalid index signature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File index_signature/fail_1/main.k:3:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 |    [str]: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5 ^^^^^^^^^^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">only one index signature is allowed in the schema</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li><ul><li>删除多余的索引签名。</li></ul></li></ul><ol start="2"><li>schema 中索引签名的名称与 schema 中其他属性的名称存在同名冲突。</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str  # name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [name: str]: str # 已有名称为name的schema属性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data = Data {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: &quot;test&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2B20] : Invalid index signature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File index_signature/fail_2/main.k:3:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 |    [name: str]: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">index signature attribute name &#x27;name&#x27; cannot have the same name as schema attributes</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li><ul><li>删除 schema 中出现同名冲突的属性或者索引签名，或者为它们更换不同的名称。</li></ul></li></ul><ol start="3"><li>schema 索引签名的类型与 schema 实例化的属性类型冲突。</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [str]: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data = Data {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: &quot;test&quot; # 索引签名为 [str]:int, &quot;test&quot;的类型不是int.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2L23] : A complie error occurs during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File index_signature/fail_3/main.k:4:8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 |data = Data {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        8 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expected schema index signature value type int, got str(test) of the key &#x27;name&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li><ul><li>检查 schema 索引签名的类型与 schema 实例中的属性类型是否一致。</li></ul></li></ul><ol start="4"><li>Schema 中的属性与索引签名冲突</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    count: int # int 和 str 冲突</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [str]: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data = Data {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    count: 1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2B20] : Invalid index signature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File index_signature/fail_4/main.k:2:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |    count: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the type &#x27;int&#x27; of schema attribute &#x27;count&#x27; does not meet the index signature definition [str]: str</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li><ul><li>调整 Schema 属性或者调整索引签名。</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="129-typecomplieerror-e2g22">1.2.9 TypeComplieError <!-- -->[E2G22]<a class="hash-link" href="#129-typecomplieerror-e2g22" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>TypeComplieError</code>, 对应的 encode 为 <code>E2G22</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>静态类型检查错误。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JohnDoe = Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;John&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Doe&quot; # Schema中定义lastName: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2G22] : The type got is inconsistent with the type expected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File type/type_fail_0/main.k:7:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7 |    &quot;lastName&quot;: &quot;Doe&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expect int, got str(Doe)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查赋给某个变量的值的类型与这个变量的类型是否一致。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1210-compileerror-e2l23">1.2.10 CompileError <!-- -->[E2L23]<a class="hash-link" href="#1210-compileerror-e2l23" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>CompileError</code>, 对应的 encode 为 <code>E2L23</code></li></ul><p>那么此时 KCL 程序中出现了</p><ol><li>不支持的类型合并</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_data = [1, 2, 3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_data |= &quot;value&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2L23] : A complie error occurs during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File union/fail/fail_1/main.k:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |_data |= &quot;value&quot; -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unsupported operand type(s) for |=: &#x27;[int]&#x27; and &#x27;str(value)&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ol><li>不支持的操作符类型</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a = None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b = 1 + None # KCL中不支持None和int之间进行+操作</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2L23] : A complie error occurs during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File operator/operator_fail_0/main.k:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |b = 1 + None -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unsupported operand type(s) for +: &#x27;int(1)&#x27; and &#x27;NoneType&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li><ul><li>调整操作符号，使其同时支持两个操作数的类型。</li></ul></li><li><ul><li>调整操作数，使其同时符合操作符号的约束。</li></ul></li></ul><ol><li>没有定义的变量</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b = &quot;${c + 1}&quot; # &#x27;c&#x27; 没有定义</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2L23] : A complie error occurs during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File var_not_define_fail_0/main.k:2:8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |b = &quot;${c + 1}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        8 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name &#x27;c&#x27; is not defined</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li><ul><li>对未定义的变量进行定义。</li></ul></li><li><ul><li>在表达式中去掉对未定义变量的操作。</li></ul></li></ul><ol start="4"><li>无效的赋值表达式</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># pkg.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import pkg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkg.a |= 2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2L23] : A complie error occurs during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File pkg_inplace_modify_1/main.k:3:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 |pkg.a |= 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 ^^^^^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module &#x27;pkg&#x27; can&#x27;t be assigned</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li><ul><li>检查赋值表达式的内容。</li></ul></li></ul><ol><li>无效的字符串表达式</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b = &quot;${b = a + 1}&quot; # Invalid string interpolation expression</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2L23] : A complie error occurs during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File invalid_format_value_fail_0/main.k:2:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |b = &quot;${b = a + 1}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5 ^^^^^^^^^^^^^^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">invalid string interpolation expression &#x27;b = a + 1&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li><ul><li>检查字符串表达式的内容。</li></ul></li></ul><ol><li>无效的循环变量</li></ol><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data = {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop = [i for i, j, k in data]  # the number of loop variables can only be 1 or 2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2L23] : A complie error occurs during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File dict/invalid_loop_var_fail_0/main.k:2:19</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |dataLoop = [i for i, j, k in data]  # error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  19 ^^^^^^^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">the number of loop variables is 3, which can only be 1 or 2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="1211-kclnameerror-e2l25">1.2.11 KCLNameError <!-- -->[E2L25]<a class="hash-link" href="#1211-kclnameerror-e2l25" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLNameError</code>, 对应的 encode 为 <code>E2L25</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>试图访问的变量名不存在</li></ul><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查报错信息中出现的变量是否存在。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1212-kclvalueerror-e2l26">1.2.12 KCLValueError <!-- -->[E2L26]<a class="hash-link" href="#1212-kclvalueerror-e2l26" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLValueError</code>, 对应的 encode 为 <code>E2L26</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>值错误，传给参数的类型不正确</li></ul><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查参数的具体类型。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1213-kclkeyerror-e2l27">1.2.13 KCLKeyError <!-- -->[E2L27]<a class="hash-link" href="#1213-kclkeyerror-e2l27" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLKeyError</code>, 对应的 encode 为 <code>E2L27</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>使用了 dict 中不存在的 key 时引发的 key 错误</li></ul><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查字典中是否存在 key。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1214-uniquekeyerror-e2l28">1.2.14 UniqueKeyError <!-- -->[E2L28]<a class="hash-link" href="#1214-uniquekeyerror-e2l28" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>UniqueKeyError</code>, 对应的 encode 为 <code>E2L28</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>变量同名或重复定义。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str = &quot;kcl&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age: int = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    aa: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x0 = Person{}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x1 = Person{age:101}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2L28] : Unique key error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /schema/same_name/main.k:5:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5 |schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Variable name &#x27;Person&#x27; must be unique in package context</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查出现错误的名称是否已经被使用。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1215-kclattributecomplieerror-e2a29">1.2.15 KCLAttributeComplieError <!-- -->[E2A29]<a class="hash-link" href="#1215-kclattributecomplieerror-e2a29" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLAttributeComplieError</code>, 对应的 encode 为 <code>E2A29</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>Schema 的属性错误。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># pkg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema A:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field_A: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import pkg as p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = p.D + 1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2A29] : Attribute error occurs during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /import/module/no_module_attr_fail_0/main.k:3:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 |a = p.D + 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module &#x27;pkg&#x27; has no attribute &#x27;D&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>在使用 Schema 属性时检查这个属性是否存在。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1216-multiinheriterror-e2d32">1.2.16 MultiInheritError <!-- -->[E2D32]<a class="hash-link" href="#1216-multiinheriterror-e2d32" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>MultiInheritError</code>, 对应的 encode 为 <code>E2D32</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>多继承错误。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema KnowledgeMixin:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subject: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Scholar(KnowledgeMixin, Person): # KCL中不支持多继承</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    school: str</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2D32] : Multiple inheritance is illegal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /schema/inherit/multi_inherit_fail_1/main.k:9:16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9 |schema Scholar(KnowledgeMixin, Person):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               16 ^^^^^^^^^^^^^^^^^^^^^^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Multiple inheritance of Scholar is prohibited</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查程序的继承结构，KCL 中不支持多继承。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1217-illegalinheriterror-e2d34">1.2.17 IllegalInheritError <!-- -->[E2D34]<a class="hash-link" href="#1217-illegalinheriterror-e2d34" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>IllegalInheritError</code>, 对应的 encode 为 <code>E2D34</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>不合法的继承结构</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema FullnameMixin:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName = &quot;{} {}&quot;.format(firstName, lastName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Scholar(FullnameMixin): # KCL中不支持Schema继承Mixin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    school: str</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2D34] : Illegal inheritance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /schema/inherit/inherit_mixin_fail/main.k:8:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8 |schema Scholar(FullnameMixin):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mixin inheritance FullnameMixin is prohibited</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>KCL 中 Schema 支持单继承 Schema。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1218-illegalargumentcomplieerror-e2i36">1.2.18 IllegalArgumentComplieError <!-- -->[E2I36]<a class="hash-link" href="#1218-illegalargumentcomplieerror-e2i36" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>IllegalArgumentComplieError</code>, 对应的 encode 为 <code>E2I36</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>参数错误</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a = option(&quot;key&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># kcl main.k -D key=value= </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># key=value= is an illegal expression</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2I36] : Illegal argument during compiling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;key=value=&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查通过命令设置的 KCL option 参数是否为合法参数。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1219-immutablecompileerror-e3l41">1.2.19 ImmutableCompileError <!-- -->[E3L41]<a class="hash-link" href="#1219-immutablecompileerror-e3l41" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>ImmutableCompileError</code>, 对应的 encode 为 <code>E3L41</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>不可变量的值发生改变</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a = 2147483646</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a += 1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Compile Error[E2L41] : Immutable variable is modified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /range_check_int/augment_assign/main.k:2:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |a += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Immutable variable is modified</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>将被改变的不可变量设置为私有或者去掉对不可变量值的改动。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="13-kcl-运行时错误-e3xxx">1.3 KCL 运行时错误 (E3xxx)<a class="hash-link" href="#13-kcl-运行时错误-e3xxx" title="Direct link to heading">​</a></h2><p>KCL 会出现的运行时错误信息如下表所示:</p><table><thead><tr><th>ewcode</th><th>KCL exception</th><th>messages</th></tr></thead><tbody><tr><td>E3F06</td><td><a href="#131-recursiveload-e3f06">RecursiveLoad</a></td><td>Recursively loading module</td></tr><tr><td>E3K04</td><td><a href="#132-floatoverflow-e3k04">FloatOverflow</a></td><td>Float overflow</td></tr><tr><td>E3K09</td><td><a href="#133-intoverflow-e3k09">IntOverflow</a></td><td>Integer overflow</td></tr><tr><td>E3N11</td><td><a href="#134-deprecatederror-e3n11">DeprecatedError</a></td><td>Deprecated error</td></tr><tr><td>E3A30</td><td><a href="#135-kclattributeruntimeerror-e3a30">KCLAttributeRuntimeError</a></td><td>Attribute error occurs at runtime</td></tr><tr><td>E3G21</td><td><a href="#136-typeruntimeerror-e3g21">TypeRuntimeError</a></td><td>The type got is inconsistent with the type expected</td></tr><tr><td>E3B17</td><td><a href="#137-schemacheckfailure-e3b17">SchemaCheckFailure</a></td><td>Schema check is failed to check condition</td></tr><tr><td>E3B19</td><td><a href="#138-cannotaddmembersruntimeerror-e3b19">CannotAddMembersRuntimeError</a></td><td>Cannot add members to a schema</td></tr><tr><td>E3M38</td><td><a href="#139-evaluationerror-e3m38">EvaluationError</a></td><td>Evaluation failure</td></tr><tr><td>E3M39</td><td><a href="#1310-invalidformatspec-e3m39">InvalidFormatSpec</a></td><td>Invalid format specification</td></tr><tr><td>E3M40</td><td><a href="#1311-kclassertionerror-e3m40">KCLAssertionError</a></td><td>Assertion failure</td></tr><tr><td>E3M44</td><td><a href="#1312-immutableruntimeerror-e3m44">ImmutableRuntimeError</a></td><td>Immutable variable is modified</td></tr><tr><td>E2D33</td><td><a href="#1313-cycleinheriterror-e2d33">CycleInheritError</a></td><td>Cycle Inheritance is illegal</td></tr><tr><td>E3M42</td><td><a href="#1314-kclrecursionerror-e3m42">KCLRecursionError</a></td><td>Recursively reference</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="131-recursiveload-e3f06">1.3.1 RecursiveLoad <!-- -->[E3F06]<a class="hash-link" href="#131-recursiveload-e3f06" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>RecursiveLoad</code>, 对应的 encode 为 <code>E3F06</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>循环导入错误</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># module.k </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import main # module.k 导入了 main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(&#x27;module&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import module # main.k 导入了 module.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(&#x27;main&#x27;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3F06] : Recursively loading module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /import/recursive_import_fail/main.k:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 | -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">In module module, recursively loading modules: module, main</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查包的导入部分是否存在循环导入的问题。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="132-floatoverflow-e3k04">1.3.2 FloatOverflow <!-- -->[E3K04]<a class="hash-link" href="#132-floatoverflow-e3k04" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>FloatOverflow</code>, 对应的 encode 为 <code>E3K04</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>浮点数溢出</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">uplimit = 3.402823466e+38</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">epsilon = 2.220446049250313e-16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = uplimit * (1 + epsilon)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># kcl main.k -r -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3K07] : Float overflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /range_check_float/overflow/number_0/main.k:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6 |a = uplimit * (1 + epsilon) -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3.402823466000001e+38: A 32-bit floating point number overflow</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查浮点数的值是否在 KCL 支持的数字范围内。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="133-intoverflow-e3k09">1.3.3 IntOverflow <!-- -->[E3K09]<a class="hash-link" href="#133-intoverflow-e3k09" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>IntOverflow</code>, 对应的 encode 为 <code>E3K09</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>整数溢出</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_a = 9223372036854775807</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_a += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># kcl test.k -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3K09] : Integer overflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /range_check_int/augment_assign_fail_1/main.k:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 |_a += 1 -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9223372036854775808: A 64 bit integer overflow</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查整数的值是否在 KCL 支持的数字范围内。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="134-deprecatederror-e3n11">1.3.4 DeprecatedError <!-- -->[E3N11]<a class="hash-link" href="#134-deprecatederror-e3n11" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>DeprecatedError</code>, 对应的 encode 为 <code>E3N11</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>使用废弃代码</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName: str = &quot;John&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @deprecated(version=&quot;1.16&quot;, reason=&quot;use firstName and lastName instead&quot;, strict=True)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JohnDoe = Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: &quot;deprecated&quot; # name已经被过时，并且strict设置为True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3N11] : Deprecated error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /schema/deprecated/member_standard_1/main.k:7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7 |JohnDoe = Person { -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name was deprecated since version 1.16, use firstName and lastName instead</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>strict 设置为 True 时无法使用过时的代码，可以将 strict 设置为 False，将不会出现错误，而是输出一个警告。</li><li>调整代码，不使用已经过时的代码。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="135-kclattributeruntimeerror-e3a30">1.3.5 KCLAttributeRuntimeError <!-- -->[E3A30]<a class="hash-link" href="#135-kclattributeruntimeerror-e3a30" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLAttributeRuntimeError</code>, 对应的 encode 为 <code>E3A30</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>属性错误。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">import math</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = math.err_func(1) # err_func is not found in math</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3A30] : Attribute error occurs at runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /import/module/no_module_attr_fail_2/main.k:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 |a = math.err_func(1) -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module &#x27;math&#x27; has no attribute &#x27;err_func&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查属性调用是否正确。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="136-typeruntimeerror-e3g21">1.3.6 TypeRuntimeError <!-- -->[E3G21]<a class="hash-link" href="#136-typeruntimeerror-e3g21" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>TypeRuntimeError</code>, 对应的 encode 为 <code>E3G21</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>类型检查错误</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str = &quot;Alice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_personA = Person {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_personA |= {&quot;name&quot;: 123.0} # name: str = &quot;Alice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">personA = _personA</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3G21] : The type got is inconsistent with the type expected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /fail/fail_4/main.k:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5 |_personA |= {&quot;name&quot;: 123.0} -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expect str, got float</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>停止错误的类型合并或者将类型调整为 KCL 支持的类型合并。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="137-schemacheckfailure-e3b17">1.3.7 SchemaCheckFailure <!-- -->[E3B17]<a class="hash-link" href="#137-schemacheckfailure-e3b17" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>SchemaCheckFailure</code>, 对应的 encode 为 <code>E3B17</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>Schema 中的 check 条件冲突</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        age &lt; 140, &quot;age is too large&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JohnDoe = Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;Doe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;age&quot;: 1000 # Schema中的check条件为: age &lt; 140</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3B17] : Schema check is failed to check condition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /check_block/check_block_fail_1/main.k:9:11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9 |JohnDoe = Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          11 ^  -&gt; Check failed in the schema</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /check_block/check_block_fail_1/main.k:7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7 |        age &lt; 140, &quot;age is too large&quot; -&gt; Check failed on the condition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age is too large</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查 Schema 的属性与 check 中的条件是否符合</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="138-cannotaddmembersruntimeerror-e3b19">1.3.8 CannotAddMembersRuntimeError <!-- -->[E3B19]<a class="hash-link" href="#138-cannotaddmembersruntimeerror-e3b19" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>CannotAddMembersRuntimeError</code>, 对应的 encode 为 <code>E3B19</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>访问 Schema 中不存在的成员</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Name:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">person = Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name.err_name: &quot;Alice&quot; # err_name is not found in schema Name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3B19] : Cannot add members to a schema</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /nest_var/nest_var_fail_1/main.k:8:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8 |    name.err_name: &quot;Alice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     5 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">err_name: No such member in the schema</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>为 Schema 添加不存在的成员。</li><li>访问 Schema 中存在的成员。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="139-evaluationerror-e3m38">1.3.9 EvaluationError <!-- -->[E3M38]<a class="hash-link" href="#139-evaluationerror-e3m38" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>EvaluationError</code>, 对应的 encode 为 <code>E3M38</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>当 KCL 中数值计算过程出现了错误。</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_list1 = [1, 2, 3] # _list1 is a variable, and its type can only be known at runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_list2 = None # _list1 is a variable, and its type can only be known at runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result2 = _list1 + _list2 # list + NoneType is illegal</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3M38] : Evaluation failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /datatype/list/add_None_fail/main.k:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 |result2 = _list1 + _list2 -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">can only concatenate list (not &quot;NoneType&quot;) to list</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查表达式中是否存在变量为 None，或者非法的计算过程。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1310-invalidformatspec-e3m39">1.3.10 InvalidFormatSpec <!-- -->[E3M39]<a class="hash-link" href="#1310-invalidformatspec-e3m39" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>InvalidFormatSpec</code>, 对应的 encode 为 <code>E3M39</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>非法的字符串格式</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data = &quot;${a: #js}&quot; + &quot; $$ &quot; #  KCL插值字符串中，#js是非法的</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3M39] : Invalid format specification</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /datatype/str_interpolation/invalid_format_spec_fail_0/main.k:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 |data = &quot;${a: #js}&quot; + &quot; $$ &quot; -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#js is invalid format spec</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>将非法 String 调整为 KCL 标准支持的 String。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1311-kclassertionerror-e3m40">1.3.11 KCLAssertionError <!-- -->[E3M40]<a class="hash-link" href="#1311-kclassertionerror-e3m40" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLAssertionError</code>, 对应的 encode 为 <code>E3M40</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>Assert False</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">assert False</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3M40] : Assertion failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /assert/invalid/fail_0/main.k:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 |assert False -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Assertion failure</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查 Assert 的条件，Assert 条件为 False 时，就会出现此类错误，去掉 Assert 语句或改变条件为 True。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1312-immutableruntimeerror-e3m44">1.3.12 ImmutableRuntimeError <!-- -->[E3M44]<a class="hash-link" href="#1312-immutableruntimeerror-e3m44" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>ImmutableRuntimeError</code>, 对应的 encode 为 <code>E3M44</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>不可变量的值发生改变</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    final firstName : str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName : str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Scholar(Person):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName = &quot;CBA&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scholar = Scholar {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;ABC&quot; # firstName in schema Person is final.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3M41] : Immutable variable is modified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /final/fail_lazy_init_0/main.k:12:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12 |    &quot;firstName&quot;: &quot;ABC&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      5 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final schema field &#x27;firstName&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查 final 修饰的不可变量是否出现了赋值等改变值的操作。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1313-cycleinheriterror-e2d33">1.3.13 CycleInheritError <!-- -->[E2D33]<a class="hash-link" href="#1313-cycleinheriterror-e2d33" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>CycleInheritError</code>, 对应的 encode 为 <code>E2D33</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>循环继承</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Parent(Son):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parent_field: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Son(GrandSon):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    son_field: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema GrandSon(Parent):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    grandson_field: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parent = Parent {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parent_field: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Error[E2D33] : Cycle Inheritance is illegal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /inherit/cycle_inherit_fail_1/main.k:7:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7 |schema GrandSon(Parent):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 ^  -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GrandSon and Parent</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查 Schema 的继承关系，避免出现 A 继承 B，B 继承 A 的情况。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="1314-kclrecursionerror-e3m42">1.3.14 KCLRecursionError <!-- -->[E3M42]<a class="hash-link" href="#1314-kclrecursionerror-e3m42" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>KCLRecursionError</code>, 对应的 encode 为 <code>E3M42</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>循环引用</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Parent(Son):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parent_field: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    son: Son = Son {  # Parent has attribute Son</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        parent: Parent {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            parent_field: &quot;123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Son:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    son_field: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parent: Parent = Parent { # Son has attribute Parent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        son: Son {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            son_field: &quot;123&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parent = Parent {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parent_field: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3M42] : Recursively reference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /init/init_cycle_fail_0/main.k:10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10 |    son_field: str -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maximum recursion depth exceeded in __instancecheck__</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查 Schema 中的属性成员，避免出现循环引用的问题。</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="14-kcl-编译警告-w2xxx">1.4 KCL 编译警告 (W2xxx)<a class="hash-link" href="#14-kcl-编译警告-w2xxx" title="Direct link to heading">​</a></h2><p>KCL 中的编译警告如下表所示：</p><table><thead><tr><th>ewcode</th><th>KCL exception</th><th>messages</th></tr></thead><tbody><tr><td>W2K04</td><td><a href="#141-floatunderflow-w2k08">FloatUnderflow</a></td><td>Float underflow</td></tr><tr><td>W2P10</td><td><a href="#142-invaliddocstring-w2p10">InvalidDocstring</a></td><td>Invalid docstring</td></tr><tr><td>W2N12</td><td><a href="#143-deprecatedwarning-w2n12">DeprecatedWarning</a></td><td>Deprecated warning</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="141-floatunderflow-w2k08">1.4.1 FloatUnderflow <!-- -->[W2K08]<a class="hash-link" href="#141-floatunderflow-w2k08" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>FloatUnderflow</code>, 对应的 encode 为 <code>W2K08</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>看看 python 里面是怎么说的</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">downlimit = 1.175494351e-38</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uplimit = 3.402823466e+38</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">epsilon = 2.220446049250313e-16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = uplimit / (1 + epsilon)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b = downlimit / (1 + epsilon)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># kcl main.k -r -d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Complier Warning[W2K08] : Float underflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File /range_check_float/underflow/number_0/main.k:7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7 |b = downlimit / (1 + epsilon) -&gt; Failure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1.1754943509999997e-38: A 32-bit floating point number underflow</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>检查浮点数的值是否在 KCL 支持的数字范围内。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="142-invaliddocstring-w2p10">1.4.2 InvalidDocstring <!-- -->[W2P10]<a class="hash-link" href="#142-invaliddocstring-w2p10" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>InvalidDocstring</code>, 对应的 encode 为 <code>W2P10</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>无效的 doc 内容</li></ul><p>可以尝试以下步骤来修复这个错误：</p><ul><li>请按照 KCL 标准编写 doc。</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="143-deprecatedwarning-w2n12">1.4.3 DeprecatedWarning <!-- -->[W2N12]<a class="hash-link" href="#143-deprecatedwarning-w2n12" title="Direct link to heading">​</a></h3><p>如果在运行 KCLVM 时遇到错误:</p><ul><li><code>DeprecatedWarning</code>, 对应的 encode 为 <code>W2N12</code></li></ul><p>那么此时 KCL 程序中出现了</p><ul><li>过时的代码警告</li></ul><p>可能出现错误的 KCL 程序片段如下:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName?: str = &quot;John&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName?: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @deprecated(version=&quot;1.16&quot;, reason=&quot;use firstName and lastName instead&quot;, strict=False)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name?: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JohnDoe = Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: &quot;deprecated&quot; # name is deprecated and strict is False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>KCLVM 在运行上述 KCL 程序片段时的输出信息如下.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Compile Warning[W2N12] : Deprecated warning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name was deprecated since version 1.16, use firstName and lastName instead</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>可以尝试以下步骤来修复这个错误：</p><ul><li>尽量不要使用已经过时的代码。如果将 strict 设置为 True，KCLVM 将会输出错误，并停止运行。</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/KusionStack/kusionstack.io/blob/main/docs/reference/lang/lang/error/exception.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-22T09:31:03.000Z">2022/9/22</time></b> by <b>chai2010</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh-CN/docs/reference/lang/lang/error/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Errors and Warnings</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh-CN/docs/reference/lang/model/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Module System</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#11-kcl-语法错误-e1xxx" class="table-of-contents__link toc-highlight">1.1 KCL 语法错误 (E1xxx)</a><ul><li><a href="#111-invalidsyntaxerror-e1001" class="table-of-contents__link toc-highlight">1.1.1 InvalidSyntaxError E1001</a></li><li><a href="#112-kcltaberror-e1002" class="table-of-contents__link toc-highlight">1.1.2 KCLTabError E1002</a></li><li><a href="#113-kclindentationerror-e1003" class="table-of-contents__link toc-highlight">1.1.3 KCLIndentationError E1003</a></li><li><a href="#114-illegalargumentsyntaxerror-e1i37" class="table-of-contents__link toc-highlight">1.1.4 IllegalArgumentSyntaxError E1I37</a></li></ul></li><li><a href="#12-kcl-编译错误-e2xxx" class="table-of-contents__link toc-highlight">1.2 KCL 编译错误 (E2xxx)</a><ul><li><a href="#121-cannotfindmodule-e2f04" class="table-of-contents__link toc-highlight">1.2.1 CannotFindModule E2F04</a></li><li><a href="#122-failedloadmodule-e2f05" class="table-of-contents__link toc-highlight">1.2.2 FailedLoadModule E2F05</a></li><li><a href="#123-unknowndecoratorerror-e2h13" class="table-of-contents__link toc-highlight">1.2.3 UnKnownDecoratorError E2H13</a></li><li><a href="#124-invaliddecoratortargeterror-e2h14" class="table-of-contents__link toc-highlight">1.2.4 InvalidDecoratorTargetError E2H14</a></li><li><a href="#125-mixinnamingerror-e2c15" class="table-of-contents__link toc-highlight">1.2.5 MixinNamingError E2C15</a></li><li><a href="#126-mixinstructureillegal-e2c16" class="table-of-contents__link toc-highlight">1.2.6 MixinStructureIllegal E2C16</a></li><li><a href="#127-cannotaddmemberscomplieerror-e2b17" class="table-of-contents__link toc-highlight">1.2.7 CannotAddMembersComplieError E2B17</a></li><li><a href="#128-indexsignatureerror-e2b20" class="table-of-contents__link toc-highlight">1.2.8 IndexSignatureError E2B20</a></li><li><a href="#129-typecomplieerror-e2g22" class="table-of-contents__link toc-highlight">1.2.9 TypeComplieError E2G22</a></li><li><a href="#1210-compileerror-e2l23" class="table-of-contents__link toc-highlight">1.2.10 CompileError E2L23</a></li><li><a href="#1211-kclnameerror-e2l25" class="table-of-contents__link toc-highlight">1.2.11 KCLNameError E2L25</a></li><li><a href="#1212-kclvalueerror-e2l26" class="table-of-contents__link toc-highlight">1.2.12 KCLValueError E2L26</a></li><li><a href="#1213-kclkeyerror-e2l27" class="table-of-contents__link toc-highlight">1.2.13 KCLKeyError E2L27</a></li><li><a href="#1214-uniquekeyerror-e2l28" class="table-of-contents__link toc-highlight">1.2.14 UniqueKeyError E2L28</a></li><li><a href="#1215-kclattributecomplieerror-e2a29" class="table-of-contents__link toc-highlight">1.2.15 KCLAttributeComplieError E2A29</a></li><li><a href="#1216-multiinheriterror-e2d32" class="table-of-contents__link toc-highlight">1.2.16 MultiInheritError E2D32</a></li><li><a href="#1217-illegalinheriterror-e2d34" class="table-of-contents__link toc-highlight">1.2.17 IllegalInheritError E2D34</a></li><li><a href="#1218-illegalargumentcomplieerror-e2i36" class="table-of-contents__link toc-highlight">1.2.18 IllegalArgumentComplieError E2I36</a></li><li><a href="#1219-immutablecompileerror-e3l41" class="table-of-contents__link toc-highlight">1.2.19 ImmutableCompileError E3L41</a></li></ul></li><li><a href="#13-kcl-运行时错误-e3xxx" class="table-of-contents__link toc-highlight">1.3 KCL 运行时错误 (E3xxx)</a><ul><li><a href="#131-recursiveload-e3f06" class="table-of-contents__link toc-highlight">1.3.1 RecursiveLoad E3F06</a></li><li><a href="#132-floatoverflow-e3k04" class="table-of-contents__link toc-highlight">1.3.2 FloatOverflow E3K04</a></li><li><a href="#133-intoverflow-e3k09" class="table-of-contents__link toc-highlight">1.3.3 IntOverflow E3K09</a></li><li><a href="#134-deprecatederror-e3n11" class="table-of-contents__link toc-highlight">1.3.4 DeprecatedError E3N11</a></li><li><a href="#135-kclattributeruntimeerror-e3a30" class="table-of-contents__link toc-highlight">1.3.5 KCLAttributeRuntimeError E3A30</a></li><li><a href="#136-typeruntimeerror-e3g21" class="table-of-contents__link toc-highlight">1.3.6 TypeRuntimeError E3G21</a></li><li><a href="#137-schemacheckfailure-e3b17" class="table-of-contents__link toc-highlight">1.3.7 SchemaCheckFailure E3B17</a></li><li><a href="#138-cannotaddmembersruntimeerror-e3b19" class="table-of-contents__link toc-highlight">1.3.8 CannotAddMembersRuntimeError E3B19</a></li><li><a href="#139-evaluationerror-e3m38" class="table-of-contents__link toc-highlight">1.3.9 EvaluationError E3M38</a></li><li><a href="#1310-invalidformatspec-e3m39" class="table-of-contents__link toc-highlight">1.3.10 InvalidFormatSpec E3M39</a></li><li><a href="#1311-kclassertionerror-e3m40" class="table-of-contents__link toc-highlight">1.3.11 KCLAssertionError E3M40</a></li><li><a href="#1312-immutableruntimeerror-e3m44" class="table-of-contents__link toc-highlight">1.3.12 ImmutableRuntimeError E3M44</a></li><li><a href="#1313-cycleinheriterror-e2d33" class="table-of-contents__link toc-highlight">1.3.13 CycleInheritError E2D33</a></li><li><a href="#1314-kclrecursionerror-e3m42" class="table-of-contents__link toc-highlight">1.3.14 KCLRecursionError E3M42</a></li></ul></li><li><a href="#14-kcl-编译警告-w2xxx" class="table-of-contents__link toc-highlight">1.4 KCL 编译警告 (W2xxx)</a><ul><li><a href="#141-floatunderflow-w2k08" class="table-of-contents__link toc-highlight">1.4.1 FloatUnderflow W2K08</a></li><li><a href="#142-invaliddocstring-w2p10" class="table-of-contents__link toc-highlight">1.4.2 InvalidDocstring W2P10</a></li><li><a href="#143-deprecatedwarning-w2n12" class="table-of-contents__link toc-highlight">1.4.3 DeprecatedWarning W2N12</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/intro/kusion-intro">简介</a></li></ul></div><div class="col footer__col"><div class="footer__title">资源</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/blog">博客</a></li><li class="footer__item"><a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://join.slack.com/t/kusionstack/shared_invite/zt-19lqcc3a9-_kTNwagaT5qwBE~my5Lnxg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/support">常见问题</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/changelog">更新日志</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.antgroup.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_RC3H"><img src="/zh-CN/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_W2Cr themedImage--light_TfLj footer__logo" width="160" height="51"><img src="/zh-CN/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo" width="160" height="51"></a></div><div class="footer__copyright">版权 © 2022 KusionStack Authors</div></div></div></footer></div>
<script src="/zh-CN/assets/js/runtime~main.f61bc347.js"></script>
<script src="/zh-CN/assets/js/main.c7d18e7f.js"></script>
</body>
</html>