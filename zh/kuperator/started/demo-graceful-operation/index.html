<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-v0.6 plugin-docs plugin-id-kuperator docs-doc-id-started/demo-graceful-operation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Using KusionStack Kuperator to operate Pods gracefully | Transform Your Internal Developer Platform with KusionStack</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kusionstack.io/zh/kuperator/started/demo-graceful-operation"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="v0.6"><meta data-rh="true" name="docusaurus_tag" content="docs-kuperator-v0.6"><meta data-rh="true" name="docsearch:version" content="v0.6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-kuperator-v0.6"><meta data-rh="true" property="og:title" content="Using KusionStack Kuperator to operate Pods gracefully | Transform Your Internal Developer Platform with KusionStack"><meta data-rh="true" name="description" content="Applications always provide its service along with traffic routing."><meta data-rh="true" property="og:description" content="Applications always provide its service along with traffic routing."><link data-rh="true" rel="icon" href="/zh/img/kusionstack-icon-square.png"><link data-rh="true" rel="canonical" href="https://kusionstack.io/zh/kuperator/started/demo-graceful-operation"><link data-rh="true" rel="alternate" href="https://kusionstack.io/kuperator/started/demo-graceful-operation" hreflang="en"><link data-rh="true" rel="alternate" href="https://kusionstack.io/zh/kuperator/started/demo-graceful-operation" hreflang="zh"><link data-rh="true" rel="alternate" href="https://kusionstack.io/kuperator/started/demo-graceful-operation" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Transform Your Internal Developer Platform with KusionStack RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Transform Your Internal Developer Platform with KusionStack Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XC4Z27TLBR"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XC4Z27TLBR",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Transform Your Internal Developer Platform with KusionStack" href="/zh/opensearch.xml"><link rel="stylesheet" href="/zh/assets/css/styles.961cf07e.css">
<link rel="preload" href="/zh/assets/js/runtime~main.ae5c4b6c.js" as="script">
<link rel="preload" href="/zh/assets/js/main.7bfeab9c.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">‚≠êÔ∏è If you like KusionStack, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/KusionStack/kusion">Github</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/kusionstack-icon.png" alt="KusionStack Icon" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/img/kusionstack-icon-white.png" alt="KusionStack Icon" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">KusionStack</b></a><a class="navbar__item navbar__link" href="/zh/docs/">Kusion</a><a class="navbar__item navbar__link" href="/zh/karpor/">Karpor</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/kuperator/introduction/">Kuperator</a><a class="navbar__item navbar__link" href="/zh/ctrlmesh/intro/">Ctrlmesh</a><a class="navbar__item navbar__link" href="/zh/community/intro/">Community</a><a href="https://blog.kusionstack.io" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/zh/kuperator/introduction/">v0.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/kuperator/next/started/demo-graceful-operation">v0.7 üöß</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/kuperator/started/demo-graceful-operation">v0.6</a></li><li><a class="dropdown__link" href="/zh/kuperator/v0.5/started/demo-graceful-operation">v0.5</a></li><li><a class="dropdown__link" href="/zh/kuperator/v0.4/started/demo-graceful-operation">v0.4</a></li><li><a class="dropdown__link" href="/zh/kuperator/v0.3/started/demo-graceful-operation">v0.3</a></li></ul></div><a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-community-current,docs-karpor-v0.5,docs-kuperator-v0.6,docs-docs-v0.12,docs-ctrlmesh-v0.1"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/kuperator/introduction/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh/kuperator/started/install">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/kuperator/started/install">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/kuperator/started/demo-graceful-operation">Using KusionStack Kuperator to operate Pods gracefully</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/kuperator/concepts/podopslifecycle">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/kuperator/manuals/collaset">Manuals</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting Started</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using KusionStack Kuperator to operate Pods gracefully</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v0.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Using KusionStack Kuperator to operate Pods gracefully</h1><p>Applications always provide its service along with traffic routing.
On Kubernetes, they should be a set of Pods and a corresponding Kubernetes Service resource to expose the service.</p><p>However, during operations such as updating Pod revisions,
there is a risk that client request traffic may be lost. This can lead to a poor user experience for developers.</p><p>This tutorial will demonstrate how to operate Pods gracefully in a KusionStack Kuperator way on Aliyun ACK
with SLB as a Service backend provider.</p><blockquote><p>You can also get the same point from <a href="https://www.bilibili.com/video/BV1n8411q7sP/?t=15.7" target="_blank" rel="noopener noreferrer">this video</a>,
which shows the same case using both KusionStack Kusion and Kuperator.
The sample used in this video can be found from <a href="https://github.com/KusionStack/catalog/tree/main/models/samples/wordpress" target="_blank" rel="noopener noreferrer">KusionStack Catalog</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="preparing">Preparing<a href="#preparing" class="hash-link" aria-label="Direct link to Preparing" title="Direct link to Preparing">‚Äã</a></h2><p>First, ensure that you have an Aliyun ACK Kubernetes cluster set up in order to provision an Aliyun SLB.</p><p>Next, install KusionStack Kuperator on this Kubernetes cluster
following <a href="https://kusionstack.io/docs/kuperator/started/install" target="_blank" rel="noopener noreferrer">installation doc</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-started">Get started<a href="#get-started" class="hash-link" aria-label="Direct link to Get started" title="Direct link to Get started">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-new-namespace">Create a new namespace<a href="#create-a-new-namespace" class="hash-link" aria-label="Direct link to Create a new namespace" title="Direct link to Create a new namespace">‚Äã</a></h3><p>To begin, create a new namespace for this tutorial:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl create ns kuperator-tutorial</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provision-pods-and-services">Provision Pods and Services<a href="#provision-pods-and-services" class="hash-link" aria-label="Direct link to Provision Pods and Services" title="Direct link to Provision Pods and Services">‚Äã</a></h3><p>You can create a set of Pods to run up a demo application service
by creating CollaSet resource using following command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apps.kusionstack.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: CollaSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  replicas: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      app: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        app: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      - image: wu8685/echo:1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        name: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        command:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - /server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          limits:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            cpu: &quot;0.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            ephemeral-storage: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            memory: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          requests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            cpu: &quot;0.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            ephemeral-storage: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            memory: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        readinessProbe:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          httpGet:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            path: /healthz</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            port: 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          initialDelaySeconds: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          periodSeconds: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> kubectl -n kuperator-tutorial apply -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There should be 3 Pods created.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl -n kuperator-tutorial get pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME           READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-c5lsr   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          2m23s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-p6wrx   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          2m23s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-zn62c   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          2m23s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then create a Kubernetes Service by running following command,
which will provision Aliyun SLB to expose service.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  annotations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    service.beta.kubernetes.io/alibaba-cloud-loadbalancer-spec: slb.s1.small</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    service.beta.kubernetes.io/backend-type: eni</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    kusionstack.io/control: &quot;true&quot;  # this label is required</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - port: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    protocol: TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    targetPort: 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    app: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  type: LoadBalancer</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> kubectl -n kuperator-tutorial apply -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A service with external IP should be provisioned.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl -n kuperator-tutorial get svc server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME     TYPE           CLUSTER-IP       EXTERNAL-IP     PORT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">        AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server   LoadBalancer   </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.225.55   </span><span class="token number" style="color:#36acaa">47.101</span><span class="token plain">.49.182   </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">:30146/TCP   51s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The label <code>kusionstack.io/control: &quot;true&quot;</code> on Service is very important.
It means this service resource will be recognized by ResourceConsist framework, and then participate in PodOpsLifecycle
to control the Aliyun SLB to switch off traffic before updating each Pod and switch on traffic after it finished,
in order to protect the service.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provision-a-client">Provision a client<a href="#provision-a-client" class="hash-link" aria-label="Direct link to Provision a client" title="Direct link to Provision a client">‚Äã</a></h3><p>Then we will provision a client to access the service we created before.
Please replace <code>&lt;EXTERNAL_IP&gt;</code> in the following CollaSet yaml with the external IP from Kubernetes Service created above, and apply again.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apps.kusionstack.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: CollaSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: client</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  replicas: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      app: client</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        app: client</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      - image: wu8685/echo:1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        name: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        command:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - /client</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - -url</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - http://&lt;EXTERNAL_IP&gt;/echo   # EXTERNAL_IP should be replaced</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - -m</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - POST</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - d</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - kuperator-tutorial</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - -qps</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - &quot;10&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - -worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - &quot;10&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - -timeout</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - &quot;10000&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          limits:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            cpu: &quot;0.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            ephemeral-storage: 1Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            memory: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          requests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            cpu: &quot;0.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            ephemeral-storage: 1Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            memory: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> kubectl -n kuperator-tutorial apply -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A client Pod should be created.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl -n kuperator-tutorial get pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME           READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client-nc426   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          30s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-c5lsr   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          19m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-p6wrx   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          19m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-zn62c   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          19m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This client will continuously access the service using the configuration provided in the command.
You can monitor the response codes from its logs:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n kuperator-tutorial logs -f client-nc426</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The accesses are all successful.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-pod-revision">Update Pod revision<a href="#update-pod-revision" class="hash-link" aria-label="Direct link to Update Pod revision" title="Direct link to Update Pod revision">‚Äã</a></h3><p>To trigger a Pod revision update, run the following command
to edit the container image and command in the PodTemplate of CollaSet:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apps.kusionstack.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: CollaSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  replicas: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      app: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        app: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      - image: wu8685/echo:1.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        name: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        command:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - /app/echo</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          limits:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            cpu: &quot;0.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            ephemeral-storage: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            memory: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          requests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            cpu: &quot;0.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            ephemeral-storage: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            memory: 100Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        readinessProbe:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          httpGet:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            path: /healthz</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            port: 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          initialDelaySeconds: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          periodSeconds: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> kubectl -n kuperator-tutorial apply -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It will trigger all Pods updated simultaneously. So the application <code>server</code> has no Pod to serve.
We can observe the error from client logs.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 fails to request POST http://47.101.49.182/echo </span><span class="token builtin class-name">:</span><span class="token plain"> Post </span><span class="token string" style="color:#e3116c">&quot;http://47.101.49.182/echo&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token builtin class-name">read</span><span class="token plain"> tcp </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.1.11:54040-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">47.101</span><span class="token plain">.49.182:80: read: connection reset by peer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 fails to request POST http://47.101.49.182/echo </span><span class="token builtin class-name">:</span><span class="token plain"> Post </span><span class="token string" style="color:#e3116c">&quot;http://47.101.49.182/echo&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token builtin class-name">read</span><span class="token plain"> tcp </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.1.11:34438-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">47.101</span><span class="token plain">.49.182:80: read: connection reset by peer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 fails to request POST http://47.101.49.182/echo </span><span class="token builtin class-name">:</span><span class="token plain"> Post </span><span class="token string" style="color:#e3116c">&quot;http://47.101.49.182/echo&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> context deadline exceeded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Client.Timeout exceeded </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> awaiting headers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 fails to request POST http://47.101.49.182/echo </span><span class="token builtin class-name">:</span><span class="token plain"> Post </span><span class="token string" style="color:#e3116c">&quot;http://47.101.49.182/echo&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> context deadline exceeded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Client.Timeout exceeded </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> awaiting headers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 fails to request POST http://47.101.49.182/echo </span><span class="token builtin class-name">:</span><span class="token plain"> Post </span><span class="token string" style="color:#e3116c">&quot;http://47.101.49.182/echo&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> context deadline exceeded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Client.Timeout exceeded </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> awaiting headers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">20</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 fails to request POST http://47.101.49.182/echo </span><span class="token builtin class-name">:</span><span class="token plain"> Post </span><span class="token string" style="color:#e3116c">&quot;http://47.101.49.182/echo&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> context deadline exceeded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Client.Timeout exceeded </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> awaiting headers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">20</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 fails to request POST http://47.101.49.182/echo </span><span class="token builtin class-name">:</span><span class="token plain"> Post </span><span class="token string" style="color:#e3116c">&quot;http://47.101.49.182/echo&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> context deadline exceeded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Client.Timeout exceeded </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> awaiting headers</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provision-podtransistionrule">Provision PodTransistionRule<a href="#provision-podtransistionrule" class="hash-link" aria-label="Direct link to Provision PodTransistionRule" title="Direct link to Provision PodTransistionRule">‚Äã</a></h3><p>To avoid this problem, provision a PodTransitionRule with a maxUnavailable 50% rule by running the following command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apps.kusionstack.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: PodTransitionRule</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  rules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - availablePolicy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      maxUnavailableValue: 50%</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    name: maxUnavailable</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      app: server</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> kubectl -n kuperator-tutorial apply -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After updating the CollaSet of the server to trigger an update, you will see the Pods rolling update one by one,
ensuring that at least one Pod is always available to serve.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n kuperator-tutorial get pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME           READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client-rrfbj   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          25s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-457sn   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-bd5sz   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-l842s   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">          2m4s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can see from the client logs that no access requests fail during this update.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-1 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker-0 another loop, request: </span><span class="token number" style="color:#36acaa">50</span><span class="token plain">, failed: </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clean-tutorial-namespace">Clean tutorial namespace<a href="#clean-tutorial-namespace" class="hash-link" aria-label="Direct link to Clean tutorial namespace" title="Direct link to Clean tutorial namespace">‚Äã</a></h3><p>At the end of this tutorial, you can clean up the resources by deleting the namespace:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl delete ns kuperator-tutorial</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparison-with-the-native-approach">Comparison with the Native Approach<a href="#comparison-with-the-native-approach" class="hash-link" aria-label="Direct link to Comparison with the Native Approach" title="Direct link to Comparison with the Native Approach">‚Äã</a></h2><p>Kubernetes provides <code>preStop</code> and <code>postStart</code> hook in each container, by which users can also interact with service outside
Kubernetes like Aliyun SLB service. However, KusionStack Kuperator offers several advantages:</p><ul><li>Pod level vs Container level</li></ul><p>Kuperator offers a Pod level hooks which have more complete information than one container,
especially there are several containers in one Pod.</p><ul><li>Plugin-able</li></ul><p>Through KusionStack Kuperator, you can decouple operations executed before or after Pods actually change.
For example, traffic control can be added or removed without modifying the Pod&#x27;s preStop configuration.</p><ul><li>Rollback option</li></ul><p>In case of issues, rollback becomes a viable option when using the Kuperator approach to update Pods.
Since Kuperator does not modify the Pods or their containers during the update,
if the traffic service experiences problems, there is an opportunity to cancel the update.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/kuperator/started/install"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/kuperator/concepts/podopslifecycle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PodOpsLifecycle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preparing" class="table-of-contents__link toc-highlight">Preparing</a></li><li><a href="#get-started" class="table-of-contents__link toc-highlight">Get started</a><ul><li><a href="#create-a-new-namespace" class="table-of-contents__link toc-highlight">Create a new namespace</a></li><li><a href="#provision-pods-and-services" class="table-of-contents__link toc-highlight">Provision Pods and Services</a></li><li><a href="#provision-a-client" class="table-of-contents__link toc-highlight">Provision a client</a></li><li><a href="#update-pod-revision" class="table-of-contents__link toc-highlight">Update Pod revision</a></li><li><a href="#provision-podtransistionrule" class="table-of-contents__link toc-highlight">Provision PodTransistionRule</a></li><li><a href="#clean-tutorial-namespace" class="table-of-contents__link toc-highlight">Clean tutorial namespace</a></li></ul></li><li><a href="#comparison-with-the-native-approach" class="table-of-contents__link toc-highlight">Comparison with the Native Approach</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Document</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh/docs">Kusion</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/karpor/">Karpor</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/kuperator/introduction/">Kuperator</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/ctrlmesh/intro/">CtrlMesh</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resource</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.kusionstack.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/kusionstack/shared_invite/zt-19lqcc3a9-_kTNwagaT5qwBE~my5Lnxg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">KCL</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.antgroup.com/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/zh/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="160" height="51"><img src="/zh/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="160" height="51"></a></div><div class="footer__copyright">Copyright ¬© 2024 KusionStack Authors</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.ae5c4b6c.js"></script>
<script src="/zh/assets/js/main.7bfeab9c.js"></script>
</body>
</html>